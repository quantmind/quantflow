var Ji=Object.defineProperty;var Xi=(t,e,n)=>e in t?Ji(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ae=(t,e,n)=>Xi(t,typeof e!="symbol"?e+"":e,n);var ht;import{s as sl}from"./chunk-LvLJmgfZ.js";import{d as Ft,i as ot,l as pt,n as Rt,o as ea,p as ct,u as dt}from"./useEvent-DO6uJBas.js";import{t as ta}from"./react-BGmjiNul.js";import{At as na,Fr as la,G as dn,H as sa,Hn as ra,Ht as ia,Jn as aa,Jt as zt,Kr as oa,Mr as ca,Nr as da,Pr as ua,Qn as un,Qt as ma,St as ie,Vn as ha,Vt as pa,Wt as rl,Yt as fa,Zn as ga,Zr as xa,_n as ya,_r as Bt,kr as va,on as ba,qt as be,vr as il}from"./cells-BpZ7g6ok.js";import{t as al}from"./react-dom-C9fstfnp.js";import{t as Ne}from"./compiler-runtime-DeeZ7FnK.js";import{x as ja}from"./_Uint8Array-BGESiCQL.js";import{t as ol}from"./get-6uJrSKbw.js";import{n as ka}from"./assertNever-CBU83Y6o.js";import{t as wa}from"./capitalize-CmNnkG9y.js";import{t as Ca}from"./debounce-B3mjKxHe.js";import{d as Q,r as Na,s as cl}from"./hotkeys-BHHWjLlp.js";import{t as mn}from"./invariant-CAG_dYON.js";import{D as Sa,E as Ia,S as Ka,T as dl,_ as hn,c as Ma,f as Ea,l as Da,n as _a,p as Pa,x as ul,y as ml}from"./utils-DXvhzCGS.js";import{O as Aa,j as ft,r as Ta}from"./config-CIrPQIbt.js";import{a as pn,c as Fa,l as Ra,n as za,s as Ba,t as La}from"./switch-8sn_4qbh.js";import{t as $a}from"./jsx-runtime-ZmTK25f3.js";import{n as Va,r as hl,t as ae}from"./button-YC1gW_kJ.js";import{t as xe}from"./cn-BKtXLv3a.js";import{St as Xe,Ut as pl,at as Oa,ct as fl}from"./dist-DBwNzi3C.js";import{O as gl,g as Ha,k as xl,w as Ga}from"./dist-CtsanegT.js";import{l as yl,n as lt}from"./once-Bul8mtFs.js";import{r as kt,t as Ua}from"./requests-BsVD4CdD.js";import{t as st}from"./createLucideIcon-CnW3RofX.js";import{t as qa}from"./check-DdfN0k2d.js";import{_ as Wa,h as fn,i as gn,l as Te,n as Ya,r as Za,s as Qa,t as Ja}from"./select-V5IdpNiR.js";import{t as Xa}from"./chevron-right-DwagBitu.js";import{u as eo}from"./toDate-CgbKQM5E.js";import{a as to,c as Lt,d as vl,f as bl,p as no,r as lo,s as so,t as ro,u as jl}from"./dropdown-menu-B-6unW-7.js";import{t as io}from"./copy-CQ15EONK.js";import{n as $t,t as kl}from"./spinner-DaIKav-i.js";import{t as ao}from"./plus-BD5o34_i.js";import{t as wl}from"./refresh-cw-CQd-1kjx.js";import{$ as oo,B as co,F as Cl,J as Nl,L as Oe,M as xn,N as uo,P as mo,R as yn,S as ho,V as po,W as Vt,X as wt,Y as fo,_ as go,at as Ot,ct as Ht,g as xo,o as Ct,ot as vn,q as yo,r as Ye,rt as bn,st as vo}from"./input-pAun1m1X.js";import{a as V,c as B,d as U,g as bo,i as jo,l as $,o as W,p as ko,r as wo,s as Co,u as L,v as jn,y as Sl}from"./textarea-DBO30D7K.js";import{t as Il}from"./trash-2-CyqGun26.js";import{t as kn}from"./triangle-alert-B65rDESJ.js";import{t as Gt}from"./badge-Ce8wRjuQ.js";import{t as He}from"./use-toast-rmUWldD_.js";import{t as No}from"./useTheme-DUdVAZI8.js";import{t as et}from"./tooltip-CEc2ajau.js";import{a as So}from"./mode-DX8pdI-l.js";import{a as Io,c as Ko,n as Mo,o as Eo,s as Do,t as _o}from"./dialog-CxGKN4C_.js";import{A as Fe,C as Po,D as wn,F as Kl,I as Ao,L as Nt,M as To,N as Se,O as ze,R as Ut,T as Fo,_ as Ml,b as El,c as Ro,g as zo,j as gt,k as Dl,l as Bo,p as Lo,t as _l,v as $o,w as Vo,z as _e}from"./usePress-Bup4EGrp.js";import{t as Pl}from"./SSRProvider-CEHRCdjA.js";import{t as St}from"./context-JwD-oSsl.js";import{c as qt,d as Oo,i as Ho,l as Al,r as Go,s as Tl,t as Uo,u as It}from"./popover-Gz-GJzym.js";import{n as qo}from"./useDebounce-D5NcotGm.js";import{r as Wo}from"./errors-2SszdW9t.js";import{t as Yo}from"./copy-Bv2DBpIS.js";import{a as Zo,i as Qo,n as Fl,r as Jo,t as Rl}from"./multi-map-C8GlnP-4.js";import{t as oe}from"./kbd-C3JY7O_u.js";import{t as pe}from"./links-DHZUhGz-.js";import{n as Xo,r as ec,t as tc}from"./alert-BrGyZf9c.js";import{n as nc,t as Wt}from"./error-banner-DUzsIXtq.js";import{n as zl}from"./useAsyncData-C4XRy1BE.js";import{a as lc,i as Yt,n as sc,o as Bl,r as Cn,t as rc}from"./table-C8uQmBAN.js";import{t as Nn}from"./renderShortcut-DEwfrKeS.js";import{t as Ze}from"./label-Be1daUcS.js";var ic="Expected a function";function ac(t,e,n){var l=!0,r=!0;if(typeof t!="function")throw TypeError(ic);return ja(n)&&(l="leading"in n?!!n.leading:l,r="trailing"in n?!!n.trailing:r),Ca(t,e,{leading:l,maxWait:e,trailing:r})}var oc=ac,Sn=st("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Ll=st("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$l=st("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),cc=st("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),Vl=st("folder-cog",[["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.98a2 2 0 0 1 1.69.9l.66 1.2A2 2 0 0 0 12 6h8a2 2 0 0 1 2 2v3.3",key:"128dxu"}],["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]]),dc=st("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Ol=st("plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]]),uc=st("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),h=sl(ta(),1),mc=(0,h.createContext)(null);(0,h.createContext)(null),(0,h.createContext)(null),(0,h.createContext)(null),(0,h.createContext)(null);var hc=(0,h.createContext)({}),pc=(0,h.createContext)(null);(0,h.createContext)(null);var fc=class{get currentNode(){return this._currentNode}set currentNode(t){if(!Dl(this.root,t))throw Error("Cannot set currentNode to a node that is not contained by the root node.");let e=[],n=t,l=t;for(this._currentNode=t;n&&n!==this.root;)if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let i=n,a=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});e.push(a),a.currentNode=l,this._currentSetFor.add(a),n=l=i.host}else n=n.parentNode;let r=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});e.push(r),r.currentNode=l,this._currentSetFor.add(r),this._walkerStack=e}get doc(){return this._doc}firstChild(){let t=this.currentNode,e=this.nextNode();return Dl(t,e)?(e&&(this.currentNode=e),e):(this.currentNode=t,null)}lastChild(){let t=this._walkerStack[0].lastChild();return t&&(this.currentNode=t),t}nextNode(){var e;let t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){let n;if(typeof this.filter=="function"?n=this.filter(t):(e=this.filter)!=null&&e.acceptNode&&(n=this.filter.acceptNode(t)),n===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let l=this.nextNode();return l&&(this.currentNode=l),l}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.nextNode();return n&&(this.currentNode=n),n}else return null}previousNode(){var n;let t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let l=this.previousNode();return l&&(this.currentNode=l),l}else return null;return null}let e=t.previousNode();if(e){if(e.shadowRoot){let l;if(typeof this.filter=="function"?l=this.filter(e):(n=this.filter)!=null&&n.acceptNode&&(l=this.filter.acceptNode(e)),l===NodeFilter.FILTER_ACCEPT)return e&&(this.currentNode=e),e;let r=this.lastChild();return r&&(this.currentNode=r),r}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let l=this.previousNode();return l&&(this.currentNode=l),l}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,e,n,l){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=i=>{var a;if(i.nodeType===Node.ELEMENT_NODE){let o=i.shadowRoot;if(o){let c=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(c),NodeFilter.FILTER_ACCEPT}else{if(typeof this.filter=="function")return this.filter(i);if((a=this.filter)!=null&&a.acceptNode)return this.filter.acceptNode(i);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=e,this.filter=l??null,this.whatToShow=n??NodeFilter.SHOW_ALL,this._currentNode=e,this._walkerStack.unshift(t.createTreeWalker(e,n,this._acceptNode));let r=e.shadowRoot;if(r){let i=this._doc.createTreeWalker(r,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(i)}}};function gc(t,e,n,l){return To()?new fc(t,e,n,l):t.createTreeWalker(e,n,l)}function Hl(t,e){let n=(0,h.useRef)(!0),l=(0,h.useRef)(null);(0,h.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]),(0,h.useEffect)(()=>{let r=l.current;n.current?n.current=!1:(!r||e.some((i,a)=>!Object.is(i,r[a])))&&t(),l.current=e},e)}function Gl(t,e){let n=(0,h.useRef)(!0),l=(0,h.useRef)(null);_e(()=>(n.current=!0,()=>{n.current=!1}),[]),_e(()=>{n.current?n.current=!1:(!l.current||e.some((r,i)=>!Object.is(r,l[i])))&&t(),l.current=e},e)}function xt(t,e){if(!t)return!1;let n=window.getComputedStyle(t),l=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return l&&e&&(l=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),l}function rt(t,e){let n=t;for(xt(n,e)&&(n=n.parentElement);n&&!xt(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}function xc(t,e){let n=[];for(;t&&t!==document.documentElement;)xt(t,e)&&n.push(t),t=t.parentElement;return n}function yt(t){return Po()?t.metaKey:t.ctrlKey}var yc=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vc(t){return t instanceof HTMLInputElement&&!yc.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var bc=0,In=new Map;function Kn(t){let[e,n]=(0,h.useState)();return _e(()=>{if(!t)return;let l=In.get(t);if(l)n(l.element.id);else{let r=`react-aria-description-${bc++}`;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=t,document.body.appendChild(i),l={refCount:0,element:i},In.set(t,l)}return l.refCount++,()=>{l&&--l.refCount===0&&(l.element.remove(),In.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}function Ul(t,e){let n=ql(t,e,"left"),l=ql(t,e,"top"),r=e.offsetWidth,i=e.offsetHeight,a=t.scrollLeft,o=t.scrollTop,{borderTopWidth:c,borderLeftWidth:d,scrollPaddingTop:u,scrollPaddingRight:m,scrollPaddingBottom:f,scrollPaddingLeft:x}=getComputedStyle(t),{scrollMarginTop:y,scrollMarginRight:b,scrollMarginBottom:v,scrollMarginLeft:I}=getComputedStyle(e),p=a+parseInt(d,10),g=o+parseInt(c,10),k=p+t.clientWidth,M=g+t.clientHeight,j=parseInt(u,10)||0,_=parseInt(f,10)||0,E=parseInt(m,10)||0,N=parseInt(x,10)||0,D=parseInt(y,10)||0,K=parseInt(v,10)||0,R=parseInt(b,10)||0,F=n-(parseInt(I,10)||0),S=n+r+R,P=l-D,z=l+i+K,C=a+parseInt(d,10)+N,A=k-E,G=o+parseInt(c,10)+j,w=M-_;(F>C||S<A)&&(F<=a+N?a=F-parseInt(d,10)-N:S>k-E&&(a+=S-k+E)),(P>G||z<w)&&(P<=g+j?o=P-parseInt(c,10)-j:z>M-_&&(o+=z-M+_)),t.scrollTo({left:a,top:o})}function ql(t,e,n){let l=n==="left"?"offsetLeft":"offsetTop",r=0;for(;e.offsetParent&&(r+=e[l],e.offsetParent!==t);){if(e.offsetParent.contains(t)){r-=t[l];break}e=e.offsetParent}return r}function tt(t,e){if(t&&document.contains(t)){let a=document.scrollingElement||document.documentElement;if(window.getComputedStyle(a).overflow!=="hidden"&&!El()){var n;let{left:o,top:c}=t.getBoundingClientRect();t==null||(n=t.scrollIntoView)==null||n.call(t,{block:"nearest"});let{left:d,top:u}=t.getBoundingClientRect();if(Math.abs(o-d)>1||Math.abs(c-u)>1){var l,r,i;e==null||(r=e.containingElement)==null||(l=r.scrollIntoView)==null||l.call(r,{block:"center",inline:"center"}),(i=t.scrollIntoView)==null||i.call(t,{block:"nearest"})}}else{let o=xc(t);for(let c of o)Ul(c,t)}}}function Wl(t,e){let{collection:n,onLoadMore:l,scrollOffset:r=1}=t,i=(0,h.useRef)(null),a=Ut(o=>{for(let c of o)c.isIntersecting&&l&&l()});_e(()=>(e.current&&(i.current=new IntersectionObserver(a,{root:rt(e==null?void 0:e.current),rootMargin:`0px ${100*r}% ${100*r}% ${100*r}%`}),i.current.observe(e.current)),()=>{i.current&&i.current.disconnect()}),[n,a,e,r])}function Yl(t){let e=h.version.split(".");return parseInt(e[0],10)>=19?t:t?"true":void 0}var jc="react-aria-clear-focus",kc="react-aria-focus",Mn=new Map;function En(t){let{locale:e}=St(),n=e+(t?Object.entries(t).sort((r,i)=>r[0]<i[0]?-1:1).join():"");if(Mn.has(n))return Mn.get(n);let l=new Intl.Collator(e,t);return Mn.set(n,l),l}var wc=500;function Cc(t){let{isDisabled:e,onLongPressStart:n,onLongPressEnd:l,onLongPress:r,threshold:i=wc,accessibilityDescription:a}=t,o=(0,h.useRef)(void 0),{addGlobalListener:c,removeGlobalListener:d}=Lo(),{pressProps:u}=_l({isDisabled:e,onPressStart(m){if(m.continuePropagation(),(m.pointerType==="mouse"||m.pointerType==="touch")&&(n&&n({...m,type:"longpressstart"}),o.current=setTimeout(()=>{m.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),Se(m.target).activeElement!==m.target&&wn(m.target),r&&r({...m,type:"longpress"}),o.current=void 0},i),m.pointerType==="touch")){let f=x=>{x.preventDefault()};c(m.target,"contextmenu",f,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{d(m.target,"contextmenu",f)},30)},{once:!0})}},onPressEnd(m){o.current&&clearTimeout(o.current),l&&(m.pointerType==="mouse"||m.pointerType==="touch")&&l({...m,type:"longpressend"})}});return{longPressProps:ze(u,Kn(r&&!e?a:void 0))}}var Zl=h.createContext(null),Dn="react-aria-focus-scope-restore",X=null;function Ql(t){let{children:e,contain:n,restoreFocus:l,autoFocus:r}=t,i=(0,h.useRef)(null),a=(0,h.useRef)(null),o=(0,h.useRef)([]),{parentNode:c}=(0,h.useContext)(Zl)||{},d=(0,h.useMemo)(()=>new An({scopeRef:o}),[o]);_e(()=>{let f=c||me.root;if(me.getTreeNode(f.scopeRef)&&X&&!Zt(X,f.scopeRef)){let x=me.getTreeNode(X);x&&(f=x)}f.addChild(d),me.addNode(d)},[d,c]),_e(()=>{let f=me.getTreeNode(o);f&&(f.contain=!!n)},[n]),_e(()=>{var b;let f=(b=i.current)==null?void 0:b.nextSibling,x=[],y=v=>v.stopPropagation();for(;f&&f!==a.current;)x.push(f),f.addEventListener(Dn,y),f=f.nextSibling;return o.current=x,()=>{for(let v of x)v.removeEventListener(Dn,y)}},[e]),Ec(o,l,n),Ic(o,n),Dc(o,l,n),Mc(o,r),(0,h.useEffect)(()=>{let f=Fe(Se(o.current?o.current[0]:void 0)),x=null;if(Be(f,o.current)){for(let y of me.traverse())y.scopeRef&&Be(f,y.scopeRef.current)&&(x=y);x===me.getTreeNode(o)&&(X=x.scopeRef)}},[o]),_e(()=>()=>{var x,y;let f=((y=(x=me.getTreeNode(o))==null?void 0:x.parent)==null?void 0:y.scopeRef)??null;(o===X||Zt(o,X))&&(!f||me.getTreeNode(f))&&(X=f),me.removeTreeNode(o)},[o]);let u=(0,h.useMemo)(()=>Nc(o),[]),m=(0,h.useMemo)(()=>({focusManager:u,parentNode:d}),[d,u]);return h.createElement(Zl.Provider,{value:m},h.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),e,h.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}function Nc(t){return{focusNext(e={}){let n=t.current,{from:l,tabbable:r,wrap:i,accept:a}=e,o=l||Fe(Se(n[0]??void 0)),c=n[0].previousElementSibling,d=je(ut(n),{tabbable:r,accept:a},n);d.currentNode=Be(o,n)?o:c;let u=d.nextNode();return!u&&i&&(d.currentNode=c,u=d.nextNode()),u&&Pe(u,!0),u},focusPrevious(e={}){let n=t.current,{from:l,tabbable:r,wrap:i,accept:a}=e,o=l||Fe(Se(n[0]??void 0)),c=n[n.length-1].nextElementSibling,d=je(ut(n),{tabbable:r,accept:a},n);d.currentNode=Be(o,n)?o:c;let u=d.previousNode();return!u&&i&&(d.currentNode=c,u=d.previousNode()),u&&Pe(u,!0),u},focusFirst(e={}){let n=t.current,{tabbable:l,accept:r}=e,i=je(ut(n),{tabbable:l,accept:r},n);i.currentNode=n[0].previousElementSibling;let a=i.nextNode();return a&&Pe(a,!0),a},focusLast(e={}){let n=t.current,{tabbable:l,accept:r}=e,i=je(ut(n),{tabbable:l,accept:r},n);i.currentNode=n[n.length-1].nextElementSibling;let a=i.previousNode();return a&&Pe(a,!0),a}}}function ut(t){return t[0].parentElement}function Kt(t){let e=me.getTreeNode(X);for(;e&&e.scopeRef!==t;){if(e.contain)return!1;e=e.parent}return!0}function Sc(t){var n,l;if(t.checked)return!0;let e=[];return e=t.form?[...((l=(n=t.form)==null?void 0:n.elements)==null?void 0:l.namedItem(t.name))??[]]:[...Se(t).querySelectorAll(`input[type="radio"][name="${CSS.escape(t.name)}"]`)].filter(r=>!r.form),e?!e.some(r=>r.checked):!1}function Ic(t,e){let n=(0,h.useRef)(void 0),l=(0,h.useRef)(void 0);_e(()=>{let r=t.current;if(!e){l.current&&(l.current=(cancelAnimationFrame(l.current),void 0));return}let i=Se(r?r[0]:void 0),a=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!Kt(t)||d.isComposing)return;let u=Fe(i),m=t.current;if(!m||!Be(u,m))return;let f=je(ut(m),{tabbable:!0},m);if(!u)return;f.currentNode=u;let x=d.shiftKey?f.previousNode():f.nextNode();x||(x=(f.currentNode=d.shiftKey?m[m.length-1].nextElementSibling:m[0].previousElementSibling,d.shiftKey?f.previousNode():f.nextNode())),d.preventDefault(),x&&Pe(x,!0)},o=d=>{(!X||Zt(X,t))&&Be(gt(d),t.current)?(X=t,n.current=gt(d)):Kt(t)&&!it(gt(d),t)?n.current?n.current.focus():X&&X.current&&_n(X.current):Kt(t)&&(n.current=gt(d))},c=d=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(()=>{let u=yn(),m=(u==="virtual"||u===null)&&Vo()&&El(),f=Fe(i);if(!m&&f&&Kt(t)&&!it(f,t)){X=t;let y=gt(d);if(y&&y.isConnected){var x;n.current=y,(x=n.current)==null||x.focus()}else X.current&&_n(X.current)}})};return i.addEventListener("keydown",a,!1),i.addEventListener("focusin",o,!1),r==null||r.forEach(d=>d.addEventListener("focusin",o,!1)),r==null||r.forEach(d=>d.addEventListener("focusout",c,!1)),()=>{i.removeEventListener("keydown",a,!1),i.removeEventListener("focusin",o,!1),r==null||r.forEach(d=>d.removeEventListener("focusin",o,!1)),r==null||r.forEach(d=>d.removeEventListener("focusout",c,!1))}},[t,e]),_e(()=>()=>{l.current&&cancelAnimationFrame(l.current)},[l])}function Jl(t){return it(t)}function Be(t,e){return!t||!e?!1:e.some(n=>n.contains(t))}function it(t,e=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of me.traverse(me.getTreeNode(e)))if(n&&Be(t,n.current))return!0;return!1}function Kc(t){return it(t,X)}function Zt(t,e){var l;let n=(l=me.getTreeNode(e))==null?void 0:l.parent;for(;n;){if(n.scopeRef===t)return!0;n=n.parent}return!1}function Pe(t,e=!1){if(t!=null&&!e)try{Oe(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function Xl(t,e=!0){let n=t[0].previousElementSibling,l=ut(t),r=je(l,{tabbable:e},t);r.currentNode=n;let i=r.nextNode();return e&&!i&&(l=ut(t),r=je(l,{tabbable:!1},t),r.currentNode=n,i=r.nextNode()),i}function _n(t,e=!0){Pe(Xl(t,e))}function Mc(t,e){let n=h.useRef(e);(0,h.useEffect)(()=>{n.current&&(X=t,!Be(Fe(Se(t.current?t.current[0]:void 0)),X.current)&&t.current&&_n(t.current)),n.current=!1},[t])}function Ec(t,e,n){_e(()=>{if(e||n)return;let l=t.current,r=Se(l?l[0]:void 0),i=a=>{let o=gt(a);Be(o,t.current)?X=t:Jl(o)||(X=null)};return r.addEventListener("focusin",i,!1),l==null||l.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{r.removeEventListener("focusin",i,!1),l==null||l.forEach(a=>a.removeEventListener("focusin",i,!1))}},[t,e,n])}function es(t){let e=me.getTreeNode(X);for(;e&&e.scopeRef!==t;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===t}function Dc(t,e,n){let l=(0,h.useRef)(typeof document<"u"?Fe(Se(t.current?t.current[0]:void 0)):null);_e(()=>{let r=t.current,i=Se(r?r[0]:void 0);if(!e||n)return;let a=()=>{(!X||Zt(X,t))&&Be(Fe(i),t.current)&&(X=t)};return i.addEventListener("focusin",a,!1),r==null||r.forEach(o=>o.addEventListener("focusin",a,!1)),()=>{i.removeEventListener("focusin",a,!1),r==null||r.forEach(o=>o.removeEventListener("focusin",a,!1))}},[t,n]),_e(()=>{let r=Se(t.current?t.current[0]:void 0);if(!e)return;let i=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!Kt(t)||a.isComposing)return;let o=r.activeElement;if(!it(o,t)||!es(t))return;let c=me.getTreeNode(t);if(!c)return;let d=c.nodeToRestore,u=je(r.body,{tabbable:!0});u.currentNode=o;let m=a.shiftKey?u.previousNode():u.nextNode();if((!d||!d.isConnected||d===r.body)&&(d=void 0,c.nodeToRestore=void 0),(!m||!it(m,t))&&d){u.currentNode=d;do m=a.shiftKey?u.previousNode():u.nextNode();while(it(m,t));a.preventDefault(),a.stopPropagation(),m?Pe(m,!0):Jl(d)?Pe(d,!0):o.blur()}};return n||r.addEventListener("keydown",i,!0),()=>{n||r.removeEventListener("keydown",i,!0)}},[t,e,n]),_e(()=>{let r=Se(t.current?t.current[0]:void 0);if(!e)return;let i=me.getTreeNode(t);if(i)return i.nodeToRestore=l.current??void 0,()=>{let a=me.getTreeNode(t);if(!a)return;let o=a.nodeToRestore,c=Fe(r);if(e&&o&&(c&&it(c,t)||c===r.body&&es(t))){let d=me.clone();requestAnimationFrame(()=>{if(r.activeElement===r.body){let u=d.getTreeNode(t);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){ts(u.nodeToRestore);return}u=u.parent}for(u=d.getTreeNode(t);u;){if(u.scopeRef&&u.scopeRef.current&&me.getTreeNode(u.scopeRef)){ts(Xl(u.scopeRef.current,!0));return}u=u.parent}}})}}},[t,e])}function ts(t){t.dispatchEvent(new CustomEvent(Dn,{bubbles:!0,cancelable:!0}))&&Pe(t)}function je(t,e,n){let l=e!=null&&e.tabbable?Bo:Ro,r=Se((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null),i=gc(r,t||r,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var o;return e!=null&&((o=e.from)!=null&&o.contains(a))||e!=null&&e.tabbable&&a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(!Sc(a)||i.currentNode.tagName==="INPUT"&&i.currentNode.type==="radio"&&i.currentNode.name===a.name)?NodeFilter.FILTER_REJECT:l(a)&&(!n||Be(a,n))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function _c(t,e={}){return{focusNext(n={}){let l=t.current;if(!l)return null;let{from:r,tabbable:i=e.tabbable,wrap:a=e.wrap,accept:o=e.accept}=n,c=r||Fe(Se(l)),d=je(l,{tabbable:i,accept:o});l.contains(c)&&(d.currentNode=c);let u=d.nextNode();return!u&&a&&(d.currentNode=l,u=d.nextNode()),u&&Pe(u,!0),u},focusPrevious(n=e){let l=t.current;if(!l)return null;let{from:r,tabbable:i=e.tabbable,wrap:a=e.wrap,accept:o=e.accept}=n,c=r||Fe(Se(l)),d=je(l,{tabbable:i,accept:o});if(l.contains(c))d.currentNode=c;else{let m=Pn(d);return m&&Pe(m,!0),m??null}let u=d.previousNode();if(!u&&a){d.currentNode=l;let m=Pn(d);if(!m)return null;u=m}return u&&Pe(u,!0),u??null},focusFirst(n=e){let l=t.current;if(!l)return null;let{tabbable:r=e.tabbable,accept:i=e.accept}=n,a=je(l,{tabbable:r,accept:i}).nextNode();return a&&Pe(a,!0),a},focusLast(n=e){let l=t.current;if(!l)return null;let{tabbable:r=e.tabbable,accept:i=e.accept}=n,a=Pn(je(l,{tabbable:r,accept:i}));return a&&Pe(a,!0),a??null}}}function Pn(t){let e,n;do n=t.lastChild(),n&&(e=n);while(n);return e}var Pc=class Yi{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,n,l){let r=this.fastMap.get(n??null);if(!r)return;let i=new An({scopeRef:e});r.addChild(i),i.parent=r,this.fastMap.set(e,i),l&&(i.nodeToRestore=l)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let n=this.fastMap.get(e);if(!n)return;let l=n.parent;for(let i of this.traverse())i!==n&&n.nodeToRestore&&i.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Be(i.nodeToRestore,n.scopeRef.current)&&(i.nodeToRestore=n.nodeToRestore);let r=n.children;l&&(l.removeChild(n),r.size>0&&r.forEach(i=>l&&l.addChild(i))),this.fastMap.delete(n.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let n of e.children)yield*this.traverse(n)}clone(){var n;let e=new Yi;for(let l of this.traverse())e.addTreeNode(l.scopeRef,((n=l.parent)==null?void 0:n.scopeRef)??null,l.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new An({scopeRef:null}),this.fastMap.set(null,this.root)}},An=class{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}},me=new Pc;function Ac(t,e){let n=e==null?void 0:e.isDisabled,[l,r]=(0,h.useState)(!1);return _e(()=>{if(t!=null&&t.current&&!n){let i=()=>{t.current&&r(!!je(t.current,{tabbable:!0}).nextNode())};i();let a=new MutationObserver(i);return a.observe(t.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{a.disconnect()}}}),n?!1:l}function ns(t){let e=Fc(Se(t));e!==t&&(e&&Tc(e,t),t&&ls(t,e))}function Tc(t,e){t.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function ls(t,e){t.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),t.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Fc(t){let e=Fe(t),n=e==null?void 0:e.getAttribute("aria-activedescendant");return n&&t.getElementById(n)||e}var ss={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Mt(t={}){let{style:e,isFocusable:n}=t,[l,r]=(0,h.useState)(!1),{focusWithinProps:i}=mo({isDisabled:!n,onFocusWithinChange:o=>r(o)}),a=(0,h.useMemo)(()=>l?e:e?{...ss,...e}:ss,[l]);return{visuallyHiddenProps:{...i,style:a}}}function Rc(t){let{children:e,elementType:n="div",isFocusable:l,style:r,...i}=t,{visuallyHiddenProps:a}=Mt(t);return h.createElement(n,ze(i,a),e)}function Tn(t){return Fo()?t.altKey:t.ctrlKey}function Qt(t,e){var r,i;let n=`[data-key="${CSS.escape(String(e))}"]`,l=(r=t.current)==null?void 0:r.dataset.collection;return l&&(n=`[data-collection="${CSS.escape(l)}"]${n}`),(i=t.current)==null?void 0:i.querySelector(n)}var rs=new WeakMap;function zc(t){let e=Nt();return rs.set(t,e),e}function Bc(t){return rs.get(t)}var Lc=1e3;function $c(t){let{keyboardDelegate:e,selectionManager:n,onTypeSelect:l}=t,r=(0,h.useRef)({search:"",timeout:void 0}).current;return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?i=>{let a=Vc(i.key);if(!(!a||i.ctrlKey||i.metaKey||!i.currentTarget.contains(i.target)||r.search.length===0&&a===" ")){if(a===" "&&r.search.trim().length>0&&(i.preventDefault(),"continuePropagation"in i||i.stopPropagation()),r.search+=a,e.getKeyForSearch!=null){let o=e.getKeyForSearch(r.search,n.focusedKey);o??(o=e.getKeyForSearch(r.search)),o!=null&&(n.setFocusedKey(o),l&&l(o))}clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.search=""},Lc)}}:void 0}}}function Vc(t){return t.length===1||!/^[A-Z]/i.test(t)?t:""}var Oc=al();function Hc(t){let{selectionManager:e,keyboardDelegate:n,ref:l,autoFocus:r=!1,shouldFocusWrap:i=!1,disallowEmptySelection:a=!1,disallowSelectAll:o=!1,escapeKeyBehavior:c="clearSelection",selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:m,allowsTabNavigation:f=!1,isVirtualized:x,scrollRef:y=l,linkBehavior:b="action"}=t,{direction:v}=St(),I=Ml(),p=C=>{var G,w,q,J,ee,ce,ue,re,Y,Z,te,ne,fe;if(C.altKey&&C.key==="Tab"&&C.preventDefault(),!((G=l.current)!=null&&G.contains(C.target)))return;let A=(T,de)=>{if(T!=null){if(e.isLink(T)&&b==="selection"&&d&&!Tn(C)){(0,Oc.flushSync)(()=>{e.setFocusedKey(T,de)});let le=Qt(l,T),ke=e.getItemProps(T);le&&I.open(le,C,ke.href,ke.routerOptions);return}if(e.setFocusedKey(T,de),e.isLink(T)&&b==="override")return;C.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(T):d&&!Tn(C)&&e.replaceSelection(T)}};switch(C.key){case"ArrowDown":if(n.getKeyBelow){let T=e.focusedKey==null?(w=n.getFirstKey)==null?void 0:w.call(n):(q=n.getKeyBelow)==null?void 0:q.call(n,e.focusedKey);T==null&&i&&(T=(J=n.getFirstKey)==null?void 0:J.call(n,e.focusedKey)),T!=null&&(C.preventDefault(),A(T))}break;case"ArrowUp":if(n.getKeyAbove){let T=e.focusedKey==null?(ee=n.getLastKey)==null?void 0:ee.call(n):(ce=n.getKeyAbove)==null?void 0:ce.call(n,e.focusedKey);T==null&&i&&(T=(ue=n.getLastKey)==null?void 0:ue.call(n,e.focusedKey)),T!=null&&(C.preventDefault(),A(T))}break;case"ArrowLeft":if(n.getKeyLeftOf){let T=e.focusedKey==null?null:(re=n.getKeyLeftOf)==null?void 0:re.call(n,e.focusedKey);T==null&&i&&(T=v==="rtl"?(Y=n.getFirstKey)==null?void 0:Y.call(n,e.focusedKey):(Z=n.getLastKey)==null?void 0:Z.call(n,e.focusedKey)),T!=null&&(C.preventDefault(),A(T,v==="rtl"?"first":"last"))}break;case"ArrowRight":if(n.getKeyRightOf){let T=e.focusedKey==null?null:(te=n.getKeyRightOf)==null?void 0:te.call(n,e.focusedKey);T==null&&i&&(T=v==="rtl"?(ne=n.getLastKey)==null?void 0:ne.call(n,e.focusedKey):(fe=n.getFirstKey)==null?void 0:fe.call(n,e.focusedKey)),T!=null&&(C.preventDefault(),A(T,v==="rtl"?"last":"first"))}break;case"Home":if(n.getFirstKey){if(e.focusedKey===null&&C.shiftKey)return;C.preventDefault();let T=n.getFirstKey(e.focusedKey,yt(C));e.setFocusedKey(T),T!=null&&(yt(C)&&C.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(T):d&&e.replaceSelection(T))}break;case"End":if(n.getLastKey){if(e.focusedKey===null&&C.shiftKey)return;C.preventDefault();let T=n.getLastKey(e.focusedKey,yt(C));e.setFocusedKey(T),T!=null&&(yt(C)&&C.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(T):d&&e.replaceSelection(T))}break;case"PageDown":if(n.getKeyPageBelow&&e.focusedKey!=null){let T=n.getKeyPageBelow(e.focusedKey);T!=null&&(C.preventDefault(),A(T))}break;case"PageUp":if(n.getKeyPageAbove&&e.focusedKey!=null){let T=n.getKeyPageAbove(e.focusedKey);T!=null&&(C.preventDefault(),A(T))}break;case"a":yt(C)&&e.selectionMode==="multiple"&&o!==!0&&(C.preventDefault(),e.selectAll());break;case"Escape":c==="clearSelection"&&!a&&e.selectedKeys.size!==0&&(C.stopPropagation(),C.preventDefault(),e.clearSelection());break;case"Tab":if(!f){if(C.shiftKey)l.current.focus();else{let T=je(l.current,{tabbable:!0}),de,le;do le=T.lastChild(),le&&(de=le);while(le);de&&!de.contains(document.activeElement)&&wn(de)}break}}},g=(0,h.useRef)({top:0,left:0});Ot(y,"scroll",x?void 0:()=>{var C,A;g.current={top:((C=y.current)==null?void 0:C.scrollTop)??0,left:((A=y.current)==null?void 0:A.scrollLeft)??0}});let k=C=>{var A,G;if(e.isFocused){C.currentTarget.contains(C.target)||e.setFocused(!1);return}if(C.currentTarget.contains(C.target)){if(e.setFocused(!0),e.focusedKey==null){let w=J=>{J!=null&&(e.setFocusedKey(J),d&&!e.isSelected(J)&&e.replaceSelection(J))},q=C.relatedTarget;q&&C.currentTarget.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_FOLLOWING?w(e.lastSelectedKey??((A=n.getLastKey)==null?void 0:A.call(n))):w(e.firstSelectedKey??((G=n.getFirstKey)==null?void 0:G.call(n)))}else!x&&y.current&&(y.current.scrollTop=g.current.top,y.current.scrollLeft=g.current.left);if(e.focusedKey!=null&&y.current){let w=Qt(l,e.focusedKey);w instanceof HTMLElement&&(!w.contains(document.activeElement)&&!m&&wn(w),yn()==="keyboard"&&tt(w,{containingElement:l.current}))}}},M=C=>{C.currentTarget.contains(C.relatedTarget)||e.setFocused(!1)},j=(0,h.useRef)(!1);Ot(l,kc,m?C=>{let{detail:A}=C;C.stopPropagation(),e.setFocused(!0),(A==null?void 0:A.focusStrategy)==="first"&&(j.current=!0)}:void 0);let _=Ut(()=>{var A;let C=((A=n.getFirstKey)==null?void 0:A.call(n))??null;if(C==null){let G=Fe();ns(l.current),ls(G,null),e.collection.size>0&&(j.current=!1)}else e.setFocusedKey(C),j.current=!1});Gl(()=>{j.current&&_()},[e.collection,_]);let E=Ut(()=>{e.collection.size>0&&(j.current=!1)});Gl(()=>{E()},[e.focusedKey,E]),Ot(l,jc,m?C=>{var A;C.stopPropagation(),e.setFocused(!1),(A=C.detail)!=null&&A.clearFocusKey&&e.setFocusedKey(null)}:void 0);let N=(0,h.useRef)(r),D=(0,h.useRef)(!1);(0,h.useEffect)(()=>{var C,A;if(N.current){let G=null;r==="first"&&(G=((C=n.getFirstKey)==null?void 0:C.call(n))??null),r==="last"&&(G=((A=n.getLastKey)==null?void 0:A.call(n))??null);let w=e.selectedKeys;if(w.size){for(let q of w)if(e.canSelectItem(q)){G=q;break}}e.setFocused(!0),e.setFocusedKey(G),G==null&&!m&&l.current&&Oe(l.current),e.collection.size>0&&(N.current=!1,D.current=!0)}});let K=(0,h.useRef)(e.focusedKey),R=(0,h.useRef)(null);(0,h.useEffect)(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==K.current||D.current)&&y.current&&l.current){let C=yn(),A=Qt(l,e.focusedKey);if(!(A instanceof HTMLElement))return;(C==="keyboard"||D.current)&&(R.current&&cancelAnimationFrame(R.current),R.current=requestAnimationFrame(()=>{y.current&&(Ul(y.current,A),C!=="virtual"&&tt(A,{containingElement:l.current}))}))}!m&&e.isFocused&&e.focusedKey==null&&K.current!=null&&l.current&&Oe(l.current),K.current=e.focusedKey,D.current=!1}),(0,h.useEffect)(()=>()=>{R.current&&cancelAnimationFrame(R.current)},[]),Ot(l,"react-aria-focus-scope-restore",C=>{C.preventDefault(),e.setFocused(!0)});let F={onKeyDown:p,onFocus:k,onBlur:M,onMouseDown(C){y.current===C.target&&C.preventDefault()}},{typeSelectProps:S}=$c({keyboardDelegate:n,selectionManager:e});u||(F=ze(S,F));let P;m||(P=e.focusedKey==null?0:-1);let z=zc(e.collection);return{collectionProps:ze(F,{tabIndex:P,"data-collection":z})}}function is(t){let{id:e,selectionManager:n,key:l,ref:r,shouldSelectOnPressUp:i,shouldUseVirtualFocus:a,focus:o,isDisabled:c,onAction:d,allowsDifferentPressOrigin:u,linkBehavior:m="action"}=t,f=Ml();e=Nt(e);let x=w=>{if(w.pointerType==="keyboard"&&Tn(w))n.toggleSelection(l);else{if(n.selectionMode==="none")return;if(n.isLink(l)){if(m==="selection"&&r.current){let q=n.getItemProps(l);f.open(r.current,w,q.href,q.routerOptions),n.setSelectedKeys(n.selectedKeys);return}else if(m==="override"||m==="none")return}n.selectionMode==="single"?n.isSelected(l)&&!n.disallowEmptySelection?n.toggleSelection(l):n.replaceSelection(l):w&&w.shiftKey?n.extendSelection(l):n.selectionBehavior==="toggle"||w&&(yt(w)||w.pointerType==="touch"||w.pointerType==="virtual")?n.toggleSelection(l):n.replaceSelection(l)}};(0,h.useEffect)(()=>{l===n.focusedKey&&n.isFocused&&(a?ns(r.current):o?o():document.activeElement!==r.current&&r.current&&Oe(r.current))},[r,l,n.focusedKey,n.childFocusStrategy,n.isFocused,a]),c||(c=n.isDisabled(l));let y={};!a&&!c?y={tabIndex:l===n.focusedKey?0:-1,onFocus(w){w.target===r.current&&n.setFocusedKey(l)}}:c&&(y.onMouseDown=w=>{w.preventDefault()});let b=n.isLink(l)&&m==="override",v=d&&t.UNSTABLE_itemBehavior==="action",I=n.isLink(l)&&m!=="selection"&&m!=="none",p=!c&&n.canSelectItem(l)&&!b&&!v,g=(d||I)&&!c,k=g&&(n.selectionBehavior==="replace"?!p:!p||n.isEmpty),M=g&&p&&n.selectionBehavior==="replace",j=k||M,_=(0,h.useRef)(null),E=j&&p,N=(0,h.useRef)(!1),D=(0,h.useRef)(!1),K=n.getItemProps(l),R=w=>{if(d){var q;d(),(q=r.current)==null||q.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}I&&r.current&&f.open(r.current,w,K.href,K.routerOptions)},F={ref:r};if(i?(F.onPressStart=w=>{_.current=w.pointerType,N.current=E,w.pointerType==="keyboard"&&(!j||os())&&x(w)},u?(F.onPressUp=k?void 0:w=>{w.pointerType==="mouse"&&p&&x(w)},F.onPress=k?R:w=>{w.pointerType!=="keyboard"&&w.pointerType!=="mouse"&&p&&x(w)}):F.onPress=w=>{if(k||M&&w.pointerType!=="mouse"){if(w.pointerType==="keyboard"&&!as())return;R(w)}else w.pointerType!=="keyboard"&&p&&x(w)}):(F.onPressStart=w=>{_.current=w.pointerType,N.current=E,D.current=k,p&&(w.pointerType==="mouse"&&!k||w.pointerType==="keyboard"&&(!g||os()))&&x(w)},F.onPress=w=>{(w.pointerType==="touch"||w.pointerType==="pen"||w.pointerType==="virtual"||w.pointerType==="keyboard"&&j&&as()||w.pointerType==="mouse"&&D.current)&&(j?R(w):p&&x(w))}),y["data-collection"]=Bc(n.collection),y["data-key"]=l,F.preventFocusOnPress=a,a&&(F=ze(F,{onPressStart(w){w.pointerType!=="touch"&&(n.setFocused(!0),n.setFocusedKey(l))},onPress(w){w.pointerType==="touch"&&(n.setFocused(!0),n.setFocusedKey(l))}})),K)for(let w of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])K[w]&&(F[w]=Kl(F[w],K[w]));let{pressProps:S,isPressed:P}=_l(F),z=M?w=>{_.current==="mouse"&&(w.stopPropagation(),w.preventDefault(),R(w))}:void 0,{longPressProps:C}=Cc({isDisabled:!E,onLongPress(w){w.pointerType==="touch"&&(x(w),n.setSelectionBehavior("toggle"))}}),A=w=>{_.current==="touch"&&N.current&&w.preventDefault()},G=m!=="none"&&n.isLink(l)?w=>{zo.isOpening||w.preventDefault()}:void 0;return{itemProps:ze(y,p||k||a&&!c?S:{},E?C:{},{onDoubleClick:z,onDragStartCapture:A,onClick:G,id:e},a?{onMouseDown:w=>w.preventDefault()}:void 0),isPressed:P,isSelected:n.isSelected(l),isFocused:n.isFocused&&n.focusedKey===l,isDisabled:c,allowsSelection:p,hasAction:j}}function as(){var t;return((t=window.event)==null?void 0:t.key)==="Enter"}function os(){let t=window.event;return(t==null?void 0:t.key)===" "||(t==null?void 0:t.code)==="Space"}var cs=class{getItemRect(t){let e=this.ref.current;if(!e)return null;let n=t==null?null:Qt(this.ref,t);if(!n)return null;let l=e.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-l.left-e.clientLeft+e.scrollLeft,y:r.top-l.top-e.clientTop+e.scrollTop,width:r.width,height:r.height}}getContentSize(){let t=this.ref.current;return{width:(t==null?void 0:t.scrollWidth)??0,height:(t==null?void 0:t.scrollHeight)??0}}getVisibleRect(){let t=this.ref.current;return{x:(t==null?void 0:t.scrollLeft)??0,y:(t==null?void 0:t.scrollTop)??0,width:(t==null?void 0:t.clientWidth)??0,height:(t==null?void 0:t.clientHeight)??0}}constructor(t){this.ref=t}},Fn=class{isDisabled(t){var e;return this.disabledBehavior==="all"&&(((e=t.props)==null?void 0:e.isDisabled)||this.disabledKeys.has(t.key))}findNextNonDisabled(t,e){let n=t;for(;n!=null;){let l=this.collection.getItem(n);if((l==null?void 0:l.type)==="item"&&!this.isDisabled(l))return n;n=e(n)}return null}getNextKey(t){let e=t;return e=this.collection.getKeyAfter(e),this.findNextNonDisabled(e,n=>this.collection.getKeyAfter(n))}getPreviousKey(t){let e=t;return e=this.collection.getKeyBefore(e),this.findNextNonDisabled(e,n=>this.collection.getKeyBefore(n))}findKey(t,e,n){let l=t,r=this.layoutDelegate.getItemRect(l);if(!r||l==null)return null;let i=r;do{if(l=e(l),l==null)break;r=this.layoutDelegate.getItemRect(l)}while(r&&n(i,r)&&l!=null);return l}isSameRow(t,e){return t.y===e.y||t.x!==e.x}isSameColumn(t,e){return t.x===e.x||t.y!==e.y}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,e){return e?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){let e=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[e]?(t=this.layoutDelegate[e](t),this.findNextNonDisabled(t,n=>this.layoutDelegate[e](n))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,n=>this.getNextColumn(n,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){let e=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[e]?(t=this.layoutDelegate[e](t),this.findNextNonDisabled(t,n=>this.layoutDelegate[e](n))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,n=>this.getNextColumn(n,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();return this.findNextNonDisabled(t,e=>this.collection.getKeyAfter(e))}getLastKey(){let t=this.collection.getLastKey();return this.findNextNonDisabled(t,e=>this.collection.getKeyBefore(e))}getKeyPageAbove(t){let e=this.ref.current,n=this.layoutDelegate.getItemRect(t);if(!n)return null;if(e&&!xt(e))return this.getFirstKey();let l=t;if(this.orientation==="horizontal"){let r=Math.max(0,n.x+n.width-this.layoutDelegate.getVisibleRect().width);for(;n&&n.x>r&&l!=null;)l=this.getKeyAbove(l),n=l==null?null:this.layoutDelegate.getItemRect(l)}else{let r=Math.max(0,n.y+n.height-this.layoutDelegate.getVisibleRect().height);for(;n&&n.y>r&&l!=null;)l=this.getKeyAbove(l),n=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getFirstKey()}getKeyPageBelow(t){let e=this.ref.current,n=this.layoutDelegate.getItemRect(t);if(!n)return null;if(e&&!xt(e))return this.getLastKey();let l=t;if(this.orientation==="horizontal"){let r=Math.min(this.layoutDelegate.getContentSize().width,n.y-n.width+this.layoutDelegate.getVisibleRect().width);for(;n&&n.x<r&&l!=null;)l=this.getKeyBelow(l),n=l==null?null:this.layoutDelegate.getItemRect(l)}else{let r=Math.min(this.layoutDelegate.getContentSize().height,n.y-n.height+this.layoutDelegate.getVisibleRect().height);for(;n&&n.y<r&&l!=null;)l=this.getKeyBelow(l),n=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getLastKey()}getKeyForSearch(t,e){if(!this.collator)return null;let n=this.collection,l=e||this.getFirstKey();for(;l!=null;){let r=n.getItem(l);if(!r)return null;let i=r.textValue.slice(0,t.length);if(r.textValue&&this.collator.compare(i,t)===0)return l;l=this.getNextKey(l)}return null}constructor(...t){if(t.length===1){let e=t[0];this.collection=e.collection,this.ref=e.ref,this.collator=e.collator,this.disabledKeys=e.disabledKeys||new Set,this.disabledBehavior=e.disabledBehavior||"all",this.orientation=e.orientation||"vertical",this.direction=e.direction,this.layout=e.layout||"stack",this.layoutDelegate=e.layoutDelegate||new cs(e.ref)}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new cs(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}};function ds(t){let{selectionManager:e,collection:n,disabledKeys:l,ref:r,keyboardDelegate:i,layoutDelegate:a}=t,o=En({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,d=(0,h.useMemo)(()=>i||new Fn({collection:n,disabledKeys:l,disabledBehavior:c,ref:r,collator:o,layoutDelegate:a}),[i,a,n,l,r,o,c]),{collectionProps:u}=Hc({...t,ref:r,selectionManager:e,keyboardDelegate:d});return{listProps:u}}var Gc=class{build(t,e){return this.context=e,us(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:e,items:n}=t;if(h.isValidElement(e)&&e.type===h.Fragment)yield*this.iterateCollection({children:e.props.children,items:n});else if(typeof e=="function"){if(!n)throw Error("props.children was a function but props.items is missing");let l=0;for(let r of n)yield*this.getFullNode({value:r,index:l},{renderer:e}),l++}else{let l=[];h.Children.forEach(e,i=>{i&&l.push(i)});let r=0;for(let i of l){let a=this.getFullNode({element:i,index:r},{});for(let o of a)r++,yield o}}}getKey(t,e,n,l){if(t.key!=null)return t.key;if(e.type==="cell"&&e.key!=null)return`${l}${e.key}`;let r=e.value;if(r!=null){let i=r.key??r.id;if(i==null)throw Error("No key found for item");return i}return l?`${l}.${e.index}`:`$.${e.index}`}getChildState(t,e){return{renderer:e.renderer||t.renderer}}*getFullNode(t,e,n,l){if(h.isValidElement(t.element)&&t.element.type===h.Fragment){let o=[];h.Children.forEach(t.element.props.children,d=>{o.push(d)});let c=t.index??0;for(let d of o)yield*this.getFullNode({element:d,index:c++},e,n,l);return}let r=t.element;if(!r&&t.value&&e&&e.renderer){let o=this.cache.get(t.value);if(o&&(!o.shouldInvalidate||!o.shouldInvalidate(this.context))){o.index=t.index,o.parentKey=l?l.key:null,yield o;return}r=e.renderer(t.value)}if(h.isValidElement(r)){let o=r.type;if(typeof o!="function"&&typeof o.getCollectionNode!="function"){let m=r.type;throw Error(`Unknown element <${m}> in collection.`)}let c=o.getCollectionNode(r.props,this.context),d=t.index??0,u=c.next();for(;!u.done&&u.value;){let m=u.value;t.index=d;let f=m.key??null;f??(f=m.element?null:this.getKey(r,t,e,n));let x=[...this.getFullNode({...m,key:f,index:d,wrapper:Uc(t.wrapper,m.wrapper)},this.getChildState(e,m),n?`${n}${r.key}`:r.key,l)];for(let y of x){if(y.value=m.value??t.value??null,y.value&&this.cache.set(y.value,y),t.type&&y.type!==t.type)throw Error(`Unsupported type <${Rn(y.type)}> in <${Rn((l==null?void 0:l.type)??"unknown parent type")}>. Only <${Rn(t.type)}> is supported.`);d++,yield y}u=c.next(x)}return}if(t.key==null||t.type==null)return;let i=this,a={type:t.type,props:t.props,key:t.key,parentKey:l?l.key:null,value:t.value??null,level:l?l.level+1:0,index:t.index,rendered:t.rendered,textValue:t.textValue??"","aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes||!1,childNodes:us(function*(){if(!t.hasChildNodes||!t.childNodes)return;let o=0;for(let c of t.childNodes()){c.key!=null&&(c.key=`${a.key}${c.key}`);let d=i.getFullNode({...c,index:o},i.getChildState(e,c),a.key,a);for(let u of d)o++,yield u}})};yield a}constructor(){this.cache=new WeakMap}};function us(t){let e=[],n=null;return{*[Symbol.iterator](){for(let l of e)yield l;n||(n=t());for(let l of n)e.push(l),yield l}}}function Uc(t,e){if(t&&e)return n=>t(e(n));if(t)return t;if(e)return e}function Rn(t){return t[0].toUpperCase()+t.slice(1)}function ms(t,e,n){let l=(0,h.useMemo)(()=>new Gc,[]),{children:r,items:i,collection:a}=t;return(0,h.useMemo)(()=>a||e(l.build({children:r,items:i},n)),[l,r,i,a,n,e])}function hs(t,e){return typeof e.getChildren=="function"?e.getChildren(t.key):t.childNodes}function qc(t){return Wc(t,0)}function Wc(t,e){if(e<0)return;let n=0;for(let l of t){if(n===e)return l;n++}}function zn(t,e,n){if(e.parentKey===n.parentKey)return e.index-n.index;let l=[...ps(t,e),e],r=[...ps(t,n),n],i=l.slice(0,r.length).findIndex((a,o)=>a!==r[o]);return i===-1?l.findIndex(a=>a===n)>=0?1:(r.findIndex(a=>a===e),-1):(e=l[i],n=r[i],e.index-n.index)}function ps(t,e){let n=[],l=e;for(;(l==null?void 0:l.parentKey)!=null;)l=t.getItem(l.parentKey),l&&n.unshift(l);return n}var mt=class{get childNodes(){throw Error("childNodes is not supported")}clone(){let t=new this.constructor(this.key);return t.value=this.value,t.level=this.level,t.hasChildNodes=this.hasChildNodes,t.rendered=this.rendered,t.textValue=this.textValue,t["aria-label"]=this["aria-label"],t.index=this.index,t.parentKey=this.parentKey,t.prevKey=this.prevKey,t.nextKey=this.nextKey,t.firstChildKey=this.firstChildKey,t.lastChildKey=this.lastChildKey,t.props=this.props,t.render=this.render,t.colSpan=this.colSpan,t.colIndex=this.colIndex,t}filter(t,e,n){let l=this.clone();return e.addDescendants(l,t),l}constructor(t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=t}},fs=class extends mt{filter(t,e,n){let[l,r]=xs(t,e,this.firstChildKey,n),i=this.clone();return i.firstChildKey=l,i.lastChildKey=r,i}},Yc=class extends mt{};Yc.type="header";var Bn=class extends mt{};Bn.type="loader";var gs=class extends fs{filter(t,e,n){if(n(this.textValue,this)){let l=this.clone();return e.addDescendants(l,t),l}return null}};gs.type="item";var Zc=class extends fs{filter(t,e,n){let l=super.filter(t,e,n);if(l&&l.lastChildKey!==null){let r=t.getItem(l.lastChildKey);if(r&&r.type!=="header")return l}return null}};Zc.type="section";var Qc=class{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let t=this.firstKey==null?void 0:this.keyMap.get(this.firstKey);for(;t;)yield t,t=t.nextKey==null?void 0:this.keyMap.get(t.nextKey)}getChildren(t){let e=this.keyMap;return{*[Symbol.iterator](){let n=e.get(t),l=(n==null?void 0:n.firstChildKey)==null?null:e.get(n.firstChildKey);for(;l;)yield l,l=l.nextKey==null?void 0:e.get(l.nextKey)}}}getKeyBefore(t){let e=this.keyMap.get(t);if(!e)return null;if(e.prevKey!=null){for(e=this.keyMap.get(e.prevKey);e&&e.type!=="item"&&e.lastChildKey!=null;)e=this.keyMap.get(e.lastChildKey);return(e==null?void 0:e.key)??null}return e.parentKey}getKeyAfter(t){let e=this.keyMap.get(t);if(!e)return null;if(e.type!=="item"&&e.firstChildKey!=null)return e.firstChildKey;for(;e;){if(e.nextKey!=null)return e.nextKey;if(e.parentKey!=null)e=this.keyMap.get(e.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let t=this.lastKey==null?null:this.keyMap.get(this.lastKey);for(;(t==null?void 0:t.lastChildKey)!=null;)t=this.keyMap.get(t.lastChildKey);return(t==null?void 0:t.key)??null}getItem(t){return this.keyMap.get(t)??null}at(){throw Error("Not implemented")}clone(){let t=this.constructor,e=new t;return e.keyMap=new Map(this.keyMap),e.firstKey=this.firstKey,e.lastKey=this.lastKey,e.itemCount=this.itemCount,e}addNode(t){if(this.frozen)throw Error("Cannot add a node to a frozen collection");t.type==="item"&&this.keyMap.get(t.key)==null&&this.itemCount++,this.keyMap.set(t.key,t)}addDescendants(t,e){this.addNode(t);let n=e.getChildren(t.key);for(let l of n)this.addDescendants(l,e)}removeNode(t){if(this.frozen)throw Error("Cannot remove a node to a frozen collection");let e=this.keyMap.get(t);e!=null&&e.type==="item"&&this.itemCount--,this.keyMap.delete(t)}commit(t,e,n=!1){if(this.frozen)throw Error("Cannot commit a frozen collection");this.firstKey=t,this.lastKey=e,this.frozen=!n}filter(t){let e=new this.constructor,[n,l]=xs(this,e,this.firstKey,t);return e==null||e.commit(n,l),e}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}};function xs(t,e,n,l){if(n==null)return[null,null];let r=null,i=null,a=t.getItem(n);for(;a!=null;){let o=a.filter(t,e,l);o!=null&&(o.nextKey=null,i&&(o.prevKey=i.key,i.nextKey=o.key),r??(r=o),e.addNode(o),i=o),a=a.nextKey?t.getItem(a.nextKey):null}if(i&&i.type==="separator"){let o=i.prevKey;e.removeNode(i.key),o?(i=e.getItem(o),i.nextKey=null):i=null}return[(r==null?void 0:r.key)??null,(i==null?void 0:i.key)??null]}var ys=class{*[Symbol.iterator](){let t=this.firstChild;for(;t;)yield t,t=t.nextSibling}get firstChild(){return this._firstChild}set firstChild(t){this._firstChild=t,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(t){this._lastChild=t,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(t){this._previousSibling=t,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(t){this._nextSibling=t,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(t){this._parentNode=t,this.ownerDocument.markDirty(this)}get isConnected(){var t;return((t=this.parentNode)==null?void 0:t.isConnected)||!1}invalidateChildIndices(t){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||t.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=t,this.ownerDocument.markDirty(this))}updateChildIndices(){let t=this._minInvalidChildIndex;for(;t;)t.index=t.previousSibling?t.previousSibling.index+1:0,t=t.nextSibling;this._minInvalidChildIndex=null}appendChild(t){t.parentNode&&t.parentNode.removeChild(t),this.firstChild??(this.firstChild=t),this.lastChild?(this.lastChild.nextSibling=t,t.index=this.lastChild.index+1,t.previousSibling=this.lastChild):(t.previousSibling=null,t.index=0),t.parentNode=this,t.nextSibling=null,this.lastChild=t,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(t,e){if(e==null)return this.appendChild(t);t.parentNode&&t.parentNode.removeChild(t),t.nextSibling=e,t.previousSibling=e.previousSibling,t.index=e.index-1,this.firstChild===e?this.firstChild=t:e.previousSibling&&(e.previousSibling.nextSibling=t),e.previousSibling=t,t.parentNode=e.parentNode,this.invalidateChildIndices(t),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(t){t.parentNode===this&&(this._minInvalidChildIndex===t&&(this._minInvalidChildIndex=null),t.nextSibling&&(this.invalidateChildIndices(t.nextSibling),t.nextSibling.previousSibling=t.previousSibling),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling),this.firstChild===t&&(this.firstChild=t.nextSibling),this.lastChild===t&&(this.lastChild=t.previousSibling),t.parentNode=null,t.nextSibling=null,t.previousSibling=null,t.index=0,this.ownerDocument.markDirty(t),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let t=this.previousSibling;for(;t&&t.isHidden;)t=t.previousSibling;return t}get nextVisibleSibling(){let t=this.nextSibling;for(;t&&t.isHidden;)t=t.nextSibling;return t}get firstVisibleChild(){let t=this.firstChild;for(;t&&t.isHidden;)t=t.nextSibling;return t}get lastVisibleChild(){let t=this.lastChild;for(;t&&t.isHidden;)t=t.previousSibling;return t}constructor(t){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=t}},Ln=class nl extends ys{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof nl?this.parentNode.level+(((e=this.node)==null?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.isMutated=(this.node=this.node.clone(),!0)),this.ownerDocument.markDirty(this),this.node)}updateNode(){var l,r,i,a,o,c,d,u;let e=this.nextVisibleSibling,n=this.getMutableNode();if(n!=null&&(n.index=this.index,n.level=this.level,n.parentKey=this.parentNode instanceof nl?((l=this.parentNode.node)==null?void 0:l.key)??null:null,n.prevKey=((i=(r=this.previousVisibleSibling)==null?void 0:r.node)==null?void 0:i.key)??null,n.nextKey=((a=e==null?void 0:e.node)==null?void 0:a.key)??null,n.hasChildNodes=!!this.firstChild,n.firstChildKey=((c=(o=this.firstVisibleChild)==null?void 0:o.node)==null?void 0:c.key)??null,n.lastChildKey=((u=(d=this.lastVisibleChild)==null?void 0:d.node)==null?void 0:u.key)??null,(n.colSpan!=null||n.colIndex!=null)&&e)){let m=(n.colIndex??n.index)+(n.colSpan??1);if(e.node!=null&&m!==e.node.colIndex){let f=e.getMutableNode();f.colIndex=m}}}setProps(e,n,l,r,i){let a,{value:o,textValue:c,id:d,...u}=e;if(this.node==null?(a=new l(d??`react-aria-${++this.ownerDocument.nodeId}`),this.node=a):a=this.getMutableNode(),u.ref=n,a.props=u,a.rendered=r,a.render=i,a.value=o,a.textValue=c||(typeof u.children=="string"?u.children:"")||e["aria-label"]||"",d!=null&&d!==a.key)throw Error("Cannot change the id of an item");u.colSpan!=null&&(a.colSpan=u.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(n){var r,i;let l=n==="none";if(e.isHidden!==l){(((r=e.parentNode)==null?void 0:r.firstVisibleChild)===e||((i=e.parentNode)==null?void 0:i.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let a=e.previousVisibleSibling,o=e.nextVisibleSibling;a&&e.ownerDocument.markDirty(a),o&&e.ownerDocument.markDirty(o),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,n){super(n),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}},Jc=class extends ys{get isConnected(){return!0}createElement(t){return new Ln(t,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(t){this.dirtyNodes.add(t)}addNode(t){if(t.isHidden||t.node==null)return;let e=this.getMutableCollection();if(!e.getItem(t.node.key))for(let n of t)this.addNode(n);e.addNode(t.node)}removeNode(t){for(let e of t)this.removeNode(e);t.node&&this.getMutableCollection().removeNode(t.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){var t,e,n,l;for(let r of this.dirtyNodes)r instanceof Ln&&(!r.isConnected||r.isHidden)?this.removeNode(r):r.updateChildIndices();for(let r of this.dirtyNodes)r instanceof Ln?(r.isConnected&&!r.isHidden&&(r.updateNode(),this.addNode(r)),r.node&&this.dirtyNodes.delete(r),r.isMutated=!1):this.dirtyNodes.delete(r);this.nextCollection&&(this.nextCollection.commit(((e=(t=this.firstVisibleChild)==null?void 0:t.node)==null?void 0:e.key)??null,((l=(n=this.lastVisibleChild)==null?void 0:n.node)==null?void 0:l.key)??null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null))}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let t of this.subscriptions)t();this.inSubscription=!1}}subscribe(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(t){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=t,this.nextCollection=t}};function $n(t){let{children:e,items:n,idScope:l,addIdAndValue:r,dependencies:i=[]}=t,a=(0,h.useMemo)(()=>new WeakMap,i);return(0,h.useMemo)(()=>{if(n&&typeof e=="function"){let o=[];for(let c of n){let d=a.get(c);if(!d){d=e(c);let u=d.props.id??c.key??c.id;if(u==null)throw Error("Could not determine key for item");l&&(u=l+":"+u),d=(0,h.cloneElement)(d,r?{key:u,id:u,value:c}:{key:u}),a.set(c,d)}o.push(d)}return o}else if(typeof e!="function")return e},[e,n,a,l,r])}var Xc=al(),ed=Oo(),vs=(0,h.createContext)(!1),Et=(0,h.createContext)(null);function bs(t){if((0,h.useContext)(Et))return t.content;let{collection:e,document:n}=sd(t.createCollection);return h.createElement(h.Fragment,null,h.createElement(ho,null,h.createElement(Et.Provider,{value:n},t.content)),h.createElement(td,{render:t.children,collection:e}))}function td({collection:t,render:e}){return e(t)}function nd(t,e,n){let l=Pl(),r=(0,h.useRef)(l);return r.current=l,(0,ed.useSyncExternalStore)(t,(0,h.useCallback)(()=>r.current?n():e(),[e,n]))}var ld=typeof h.useSyncExternalStore=="function"?h.useSyncExternalStore:nd;function sd(t){let[e]=(0,h.useState)(()=>new Jc((t==null?void 0:t())||new Qc));return{collection:ld((0,h.useCallback)(n=>e.subscribe(n),[e]),(0,h.useCallback)(()=>{let n=e.getCollection();return e.isSSR&&e.resetAfterSSR(),n},[e]),(0,h.useCallback)(()=>(e.isSSR=!0,e.getCollection()),[e])),document:e}}var Vn=(0,h.createContext)(null);function rd(t){var e;return e=class extends mt{},e.type=t,e}function js(t,e,n,l,r,i){typeof t=="string"&&(t=rd(t));let a=(0,h.useCallback)(c=>{c==null||c.setProps(e,n,t,l,i)},[e,n,l,i,t]),o=(0,h.useContext)(Vn);if(o){let c=o.ownerDocument.nodesByProps.get(e);return c||(c=o.ownerDocument.createElement(t.type),c.setProps(e,n,t,l,i),o.appendChild(c),o.ownerDocument.updateCollection(),o.ownerDocument.nodesByProps.set(e,c)),r?h.createElement(Vn.Provider,{value:c},r):null}return h.createElement(t.type,{ref:a},r)}function On(t,e){let n=({node:r})=>e(r.props,r.props.ref,r),l=(0,h.forwardRef)((r,i)=>{let a=(0,h.useContext)(Cl);if(!(0,h.useContext)(vs)){if(e.length>=3)throw Error(e.name+" cannot be rendered outside a collection.");return e(r,i)}return js(t,r,i,"children"in r?r.children:null,null,o=>h.createElement(Cl.Provider,{value:a},h.createElement(n,{node:o})))});return l.displayName=e.name,l}function id(t,e,n=ks){let l=({node:i})=>e(i.props,i.props.ref,i),r=(0,h.forwardRef)((i,a)=>js(t,i,a,null,n(i),o=>h.createElement(l,{node:o}))??h.createElement(h.Fragment,null));return r.displayName=e.name,r}function ks(t){return $n({...t,addIdAndValue:!0})}var ws=(0,h.createContext)(null);function Cs(t){let e=(0,h.useContext)(ws),n=((e==null?void 0:e.dependencies)||[]).concat(t.dependencies),l=t.idScope||(e==null?void 0:e.idScope),r=ks({...t,idScope:l,dependencies:n});return(0,h.useContext)(Et)&&(r=h.createElement(ad,null,r)),e=(0,h.useMemo)(()=>({dependencies:n,idScope:l}),[l,...n]),h.createElement(ws.Provider,{value:e},r)}function ad({children:t}){let e=(0,h.useContext)(Et),n=(0,h.useMemo)(()=>h.createElement(Et.Provider,{value:null},h.createElement(vs.Provider,{value:!0},t)),[t]);return Pl()?h.createElement(Vn.Provider,{value:e},n):(0,Xc.createPortal)(n,e)}var od=(0,h.createContext)(null),Ns={CollectionRoot({collection:t,renderDropIndicator:e}){return Ss(t,null,e)},CollectionBranch({collection:t,parent:e,renderDropIndicator:n}){return Ss(t,e,n)}};function Ss(t,e,n){return $n({items:e?t.getChildren(e.key):t,dependencies:[n],children(l){let r=l.render(l);return!n||l.type!=="item"?r:h.createElement(h.Fragment,null,n({type:"item",key:l.key,dropPosition:"before"}),r,cd(t,l,n))}})}function cd(t,e,n){let l=e.key,r=t.getKeyAfter(l),i=r==null?null:t.getItem(r);for(;i!=null&&i.type!=="item";)r=t.getKeyAfter(i.key),i=r==null?null:t.getItem(r);let a=e.nextKey==null?null:t.getItem(e.nextKey);for(;a!=null&&a.type!=="item";)a=a.nextKey==null?null:t.getItem(a.nextKey);let o=[];if(a==null){let c=e;for(;c&&(!i||c.parentKey!==i.parentKey&&i.level<c.level);){let d=n({type:"item",key:c.key,dropPosition:"after"});(0,h.isValidElement)(d)&&o.push((0,h.cloneElement)(d,{key:`${c.key}-after`})),c=c.parentKey==null?null:t.getItem(c.parentKey)}}return o}var Jt=(0,h.createContext)(Ns),Hn=new WeakMap;function Gn(t,e){let{id:n}=Hn.get(t)??{};if(!n)throw Error("Unknown list");return`${n}-${dd(e)}`}function dd(t){return typeof t=="string"?t.replace(/\s*/g,""):""+t}var Is={};Is={deselectedItem:t=>`${t.item} \u063A\u064A\u0631 \u0627\u0644\u0645\u062D\u062F\u062F`,longPressToSelect:"\u0627\u0636\u063A\u0637 \u0645\u0637\u0648\u0644\u064B\u0627 \u0644\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0648\u0636\u0639 \u0627\u0644\u062A\u062D\u062F\u064A\u062F.",select:"\u062A\u062D\u062F\u064A\u062F",selectedAll:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0629.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u0644\u0645 \u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0639\u0646\u0627\u0635\u0631",one:()=>`${e.number(t.count)} \u0639\u0646\u0635\u0631 \u0645\u062D\u062F\u062F`,other:()=>`${e.number(t.count)} \u0639\u0646\u0635\u0631 \u0645\u062D\u062F\u062F`})}.`,selectedItem:t=>`${t.item} \u0627\u0644\u0645\u062D\u062F\u062F`};var Ks={};Ks={deselectedItem:t=>`${t.item} \u043D\u0435 \u0435 \u0438\u0437\u0431\u0440\u0430\u043D.`,longPressToSelect:"\u041D\u0430\u0442\u0438\u0441\u043D\u0435\u0442\u0435 \u0438 \u0437\u0430\u0434\u0440\u044A\u0436\u0442\u0435 \u0437\u0430 \u0434\u0430 \u0432\u043B\u0435\u0437\u0435\u0442\u0435 \u0432 \u0438\u0437\u0431\u0438\u0440\u0430\u0442\u0435\u043B\u0435\u043D \u0440\u0435\u0436\u0438\u043C.",select:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435",selectedAll:"\u0412\u0441\u0438\u0447\u043A\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u0441\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u041D\u044F\u043C\u0430 \u0438\u0437\u0431\u0440\u0430\u043D\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438",one:()=>`${e.number(t.count)} \u0438\u0437\u0431\u0440\u0430\u043D \u0435\u043B\u0435\u043C\u0435\u043D\u0442`,other:()=>`${e.number(t.count)} \u0438\u0437\u0431\u0440\u0430\u043D\u0438 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438`})}.`,selectedItem:t=>`${t.item} \u0438\u0437\u0431\u0440\u0430\u043D.`};var Ms={};Ms={deselectedItem:t=>`Polo\u017Eka ${t.item} nen\xED vybr\xE1na.`,longPressToSelect:"Dlouh\xFDm stisknut\xEDm p\u0159ejdete do re\u017Eimu v\xFDb\u011Bru.",select:"Vybrat",selectedAll:"Vybr\xE1ny v\u0161echny polo\u017Eky.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nevybr\xE1ny \u017E\xE1dn\xE9 polo\u017Eky",one:()=>`Vybr\xE1na ${e.number(t.count)} polo\u017Eka`,other:()=>`Vybr\xE1no ${e.number(t.count)} polo\u017Eek`})}.`,selectedItem:t=>`Vybr\xE1na polo\u017Eka ${t.item}.`};var Es={};Es={deselectedItem:t=>`${t.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"V\xE6lg",selectedAll:"Alle elementer valgt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ingen elementer valgt",one:()=>`${e.number(t.count)} element valgt`,other:()=>`${e.number(t.count)} elementer valgt`})}.`,selectedItem:t=>`${t.item} valgt.`};var Ds={};Ds={deselectedItem:t=>`${t.item} nicht ausgew\xE4hlt.`,longPressToSelect:"Gedr\xFCckt halten, um Auswahlmodus zu \xF6ffnen.",select:"Ausw\xE4hlen",selectedAll:"Alle Elemente ausgew\xE4hlt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Keine Elemente ausgew\xE4hlt",one:()=>`${e.number(t.count)} Element ausgew\xE4hlt`,other:()=>`${e.number(t.count)} Elemente ausgew\xE4hlt`})}.`,selectedItem:t=>`${t.item} ausgew\xE4hlt.`};var _s={};_s={deselectedItem:t=>`\u0394\u03B5\u03BD \u03B5\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B5 \u03C4\u03BF \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03BF ${t.item}.`,longPressToSelect:"\u03A0\u03B1\u03C4\u03AE\u03C3\u03C4\u03B5 \u03C0\u03B1\u03C1\u03B1\u03C4\u03B5\u03C4\u03B1\u03BC\u03AD\u03BD\u03B1 \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BC\u03C0\u03B5\u03AF\u03C4\u03B5 \u03C3\u03B5 \u03BB\u03B5\u03B9\u03C4\u03BF\u03C5\u03C1\u03B3\u03AF\u03B1 \u03B5\u03C0\u03B9\u03BB\u03BF\u03B3\u03AE\u03C2.",select:"\u0395\u03C0\u03B9\u03BB\u03BF\u03B3\u03AE",selectedAll:"\u0395\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B1\u03BD \u03CC\u03BB\u03B1 \u03C4\u03B1 \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03B1.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u0394\u03B5\u03BD \u03B5\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B1\u03BD \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03B1",one:()=>`\u0395\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B5 ${e.number(t.count)} \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03BF`,other:()=>`\u0395\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B1\u03BD ${e.number(t.count)} \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03B1`})}.`,selectedItem:t=>`\u0395\u03C0\u03B9\u03BB\u03AD\u03C7\u03B8\u03B7\u03BA\u03B5 \u03C4\u03BF \u03C3\u03C4\u03BF\u03B9\u03C7\u03B5\u03AF\u03BF ${t.item}.`};var Ps={};Ps={deselectedItem:t=>`${t.item} not selected.`,select:"Select",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"No items selected",one:()=>`${e.number(t.count)} item selected`,other:()=>`${e.number(t.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:t=>`${t.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var As={};As={deselectedItem:t=>`${t.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de selecci\xF3n.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ning\xFAn elemento seleccionado",one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}.`,selectedItem:t=>`${t.item} seleccionado.`};var Ts={};Ts={deselectedItem:t=>`${t.item} pole valitud.`,longPressToSelect:"Valikure\u017Eiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"K\xF5ik \xFCksused valitud.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\xDCksusi pole valitud",one:()=>`${e.number(t.count)} \xFCksus valitud`,other:()=>`${e.number(t.count)} \xFCksust valitud`})}.`,selectedItem:t=>`${t.item} valitud.`};var Fs={};Fs={deselectedItem:t=>`Kohdetta ${t.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitk\xE4\xE4n.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ei yht\xE4\xE4n kohdetta valittu",one:()=>`${e.number(t.count)} kohde valittu`,other:()=>`${e.number(t.count)} kohdetta valittu`})}.`,selectedItem:t=>`${t.item} valittu.`};var Rs={};Rs={deselectedItem:t=>`${t.item} non s\xE9lectionn\xE9.`,longPressToSelect:"Appuyez de mani\xE8re prolong\xE9e pour passer en mode de s\xE9lection.",select:"S\xE9lectionner",selectedAll:"Tous les \xE9l\xE9ments s\xE9lectionn\xE9s.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Aucun \xE9l\xE9ment s\xE9lectionn\xE9",one:()=>`${e.number(t.count)} \xE9l\xE9ment s\xE9lectionn\xE9`,other:()=>`${e.number(t.count)} \xE9l\xE9ments s\xE9lectionn\xE9s`})}.`,selectedItem:t=>`${t.item} s\xE9lectionn\xE9.`};var zs={};zs={deselectedItem:t=>`${t.item} \u05DC\u05D0 \u05E0\u05D1\u05D7\u05E8.`,longPressToSelect:"\u05D4\u05E7\u05E9\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05DC\u05DB\u05E0\u05D9\u05E1\u05D4 \u05DC\u05DE\u05E6\u05D1 \u05D1\u05D7\u05D9\u05E8\u05D4.",select:"\u05D1\u05D7\u05E8",selectedAll:"\u05DB\u05DC \u05D4\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD \u05E0\u05D1\u05D7\u05E8\u05D5.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u05DC\u05D0 \u05E0\u05D1\u05D7\u05E8\u05D5 \u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",one:()=>`\u05E4\u05E8\u05D9\u05D8 ${e.number(t.count)} \u05E0\u05D1\u05D7\u05E8`,other:()=>`${e.number(t.count)} \u05E4\u05E8\u05D9\u05D8\u05D9\u05DD \u05E0\u05D1\u05D7\u05E8\u05D5`})}.`,selectedItem:t=>`${t.item} \u05E0\u05D1\u05D7\u05E8.`};var Bs={};Bs={deselectedItem:t=>`Stavka ${t.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u na\u010Din odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${e.number(t.count)} stavka`,other:()=>`Odabrano je ${e.number(t.count)} stavki`})}.`,selectedItem:t=>`Stavka ${t.item} je odabrana.`};var Ls={};Ls={deselectedItem:t=>`${t.item} nincs kijel\xF6lve.`,longPressToSelect:"Nyomja hosszan a kijel\xF6l\xE9shez.",select:"Kijel\xF6l\xE9s",selectedAll:"Az \xF6sszes elem kijel\xF6lve.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Egy elem sincs kijel\xF6lve",one:()=>`${e.number(t.count)} elem kijel\xF6lve`,other:()=>`${e.number(t.count)} elem kijel\xF6lve`})}.`,selectedItem:t=>`${t.item} kijel\xF6lve.`};var $s={};$s={deselectedItem:t=>`${t.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalit\xE0 di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nessun elemento selezionato",one:()=>`${e.number(t.count)} elemento selezionato`,other:()=>`${e.number(t.count)} elementi selezionati`})}.`,selectedItem:t=>`${t.item} selezionato.`};var Vs={};Vs={deselectedItem:t=>`${t.item} \u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002`,longPressToSelect:"\u9577\u62BC\u3057\u3057\u3066\u9078\u629E\u30E2\u30FC\u30C9\u3092\u958B\u304D\u307E\u3059\u3002",select:"\u9078\u629E",selectedAll:"\u3059\u3079\u3066\u306E\u9805\u76EE\u3092\u9078\u629E\u3057\u307E\u3057\u305F\u3002",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u9805\u76EE\u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u305B\u3093",one:()=>`${e.number(t.count)} \u9805\u76EE\u3092\u9078\u629E\u3057\u307E\u3057\u305F`,other:()=>`${e.number(t.count)} \u9805\u76EE\u3092\u9078\u629E\u3057\u307E\u3057\u305F`})}\u3002`,selectedItem:t=>`${t.item} \u3092\u9078\u629E\u3057\u307E\u3057\u305F\u3002`};var Os={};Os={deselectedItem:t=>`${t.item}\uC774(\uAC00) \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.`,longPressToSelect:"\uC120\uD0DD \uBAA8\uB4DC\uB85C \uB4E4\uC5B4\uAC00\uB824\uBA74 \uAE38\uAC8C \uB204\uB974\uC2ED\uC2DC\uC624.",select:"\uC120\uD0DD",selectedAll:"\uBAA8\uB4E0 \uD56D\uBAA9\uC774 \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\uC120\uD0DD\uB41C \uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",one:()=>`${e.number(t.count)}\uAC1C \uD56D\uBAA9\uC774 \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4`,other:()=>`${e.number(t.count)}\uAC1C \uD56D\uBAA9\uC774 \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4`})}.`,selectedItem:t=>`${t.item}\uC774(\uAC00) \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`};var Hs={};Hs={deselectedItem:t=>`${t.item} nepasirinkta.`,longPressToSelect:"Nor\u0117dami \u012Fjungti pasirinkimo re\u017Eim\u0105, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nepasirinktas n\u0117 vienas elementas",one:()=>`Pasirinktas ${e.number(t.count)} elementas`,other:()=>`Pasirinkta element\u0173: ${e.number(t.count)}`})}.`,selectedItem:t=>`Pasirinkta: ${t.item}.`};var Gs={};Gs={deselectedItem:t=>`Vienums ${t.item} nav atlas\u012Bts.`,longPressToSelect:"Ilgi turiet nospiestu. lai iesl\u0113gtu atlases re\u017E\u012Bmu.",select:"Atlas\u012Bt",selectedAll:"Atlas\u012Bti visi vienumi.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nav atlas\u012Bts neviens vienums",one:()=>`Atlas\u012Bto vienumu skaits: ${e.number(t.count)}`,other:()=>`Atlas\u012Bto vienumu skaits: ${e.number(t.count)}`})}.`,selectedItem:t=>`Atlas\u012Bts vienums ${t.item}.`};var Us={};Us={deselectedItem:t=>`${t.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for \xE5 g\xE5 inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ingen elementer er valgt",one:()=>`${e.number(t.count)} element er valgt`,other:()=>`${e.number(t.count)} elementer er valgt`})}.`,selectedItem:t=>`${t.item} er valgt.`};var qs={};qs={deselectedItem:t=>`${t.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Geen items geselecteerd",one:()=>`${e.number(t.count)} item geselecteerd`,other:()=>`${e.number(t.count)} items geselecteerd`})}.`,selectedItem:t=>`${t.item} geselecteerd.`};var Ws={};Ws={deselectedItem:t=>`Nie zaznaczono ${t.item}.`,longPressToSelect:"Naci\u015Bnij i przytrzymaj, aby wej\u015B\u0107 do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nie zaznaczono \u017Cadnych element\xF3w",one:()=>`${e.number(t.count)} zaznaczony element`,other:()=>`${e.number(t.count)} zaznaczonych element\xF3w`})}.`,selectedItem:t=>`Zaznaczono ${t.item}.`};var Ys={};Ys={deselectedItem:t=>`${t.item} n\xE3o selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de sele\xE7\xE3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nenhum item selecionado",one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}.`,selectedItem:t=>`${t.item} selecionado.`};var Zs={};Zs={deselectedItem:t=>`${t.item} n\xE3o selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de sele\xE7\xE3o.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nenhum item selecionado",one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}.`,selectedItem:t=>`${t.item} selecionado.`};var Qs={};Qs={deselectedItem:t=>`${t.item} neselectat.`,longPressToSelect:"Ap\u0103sa\u021Bi lung pentru a intra \xEEn modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Niciun element selectat",one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}.`,selectedItem:t=>`${t.item} selectat.`};var Js={};Js={deselectedItem:t=>`${t.item} \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E.`,longPressToSelect:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0434\u043B\u044F \u0432\u0445\u043E\u0434\u0430 \u0432 \u0440\u0435\u0436\u0438\u043C \u0432\u044B\u0431\u043E\u0440\u0430.",select:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",selectedAll:"\u0412\u044B\u0431\u0440\u0430\u043D\u044B \u0432\u0441\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432",one:()=>`${e.number(t.count)} \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u044B\u0431\u0440\u0430\u043D`,other:()=>`${e.number(t.count)} \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432 \u0432\u044B\u0431\u0440\u0430\u043D\u043E`})}.`,selectedItem:t=>`${t.item} \u0432\u044B\u0431\u0440\u0430\u043D\u043E.`};var Xs={};Xs={deselectedItem:t=>`Nevybrat\xE9 polo\u017Eky: ${t.item}.`,longPressToSelect:"Dlh\u0161\xEDm stla\u010Den\xEDm prejdite do re\u017Eimu v\xFDberu.",select:"Vybra\u0165",selectedAll:"V\u0161etky vybrat\xE9 polo\u017Eky.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u017Diadne vybrat\xE9 polo\u017Eky",one:()=>`${e.number(t.count)} vybrat\xE1 polo\u017Eka`,other:()=>`Po\u010Det vybrat\xFDch polo\u017Eiek:${e.number(t.count)}`})}.`,selectedItem:t=>`Vybrat\xE9 polo\u017Eky: ${t.item}.`};var er={};er={deselectedItem:t=>`Element ${t.item} ni izbran.`,longPressToSelect:"Za izbirni na\u010Din pritisnite in dlje \u010Dasa dr\u017Eite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Noben element ni izbran",one:()=>`${e.number(t.count)} element je izbran`,other:()=>`${e.number(t.count)} elementov je izbranih`})}.`,selectedItem:t=>`Element ${t.item} je izbran.`};var tr={};tr={deselectedItem:t=>`${t.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u re\u017Eim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${e.number(t.count)} stavka`,other:()=>`Izabrano je ${e.number(t.count)} stavki`})}.`,selectedItem:t=>`${t.item} je izabrano.`};var nr={};nr={deselectedItem:t=>`${t.item} ej markerat.`,longPressToSelect:"Tryck l\xE4nge n\xE4r du vill \xF6ppna v\xE4ljarl\xE4ge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Inga markerade objekt",one:()=>`${e.number(t.count)} markerat objekt`,other:()=>`${e.number(t.count)} markerade objekt`})}.`,selectedItem:t=>`${t.item} markerat.`};var lr={};lr={deselectedItem:t=>`${t.item} se\xE7ilmedi.`,longPressToSelect:"Se\xE7im moduna girmek i\xE7in uzun bas\u0131n.",select:"Se\xE7",selectedAll:"T\xFCm \xF6geler se\xE7ildi.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Hi\xE7bir \xF6ge se\xE7ilmedi",one:()=>`${e.number(t.count)} \xF6ge se\xE7ildi`,other:()=>`${e.number(t.count)} \xF6ge se\xE7ildi`})}.`,selectedItem:t=>`${t.item} se\xE7ildi.`};var sr={};sr={deselectedItem:t=>`${t.item} \u043D\u0435 \u0432\u0438\u0431\u0440\u0430\u043D\u043E.`,longPressToSelect:"\u0412\u0438\u043A\u043E\u043D\u0430\u0439\u0442\u0435 \u0434\u043E\u0432\u0433\u0435 \u043D\u0430\u0442\u0438\u0441\u043D\u0435\u043D\u043D\u044F, \u0449\u043E\u0431 \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043C \u0432\u0438\u0431\u043E\u0440\u0443.",select:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",selectedAll:"\u0423\u0441\u0456 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438 \u0432\u0438\u0431\u0440\u0430\u043D\u043E.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u0416\u043E\u0434\u043D\u0438\u0445 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432 \u043D\u0435 \u0432\u0438\u0431\u0440\u0430\u043D\u043E",one:()=>`${e.number(t.count)} \u0435\u043B\u0435\u043C\u0435\u043D\u0442 \u0432\u0438\u0431\u0440\u0430\u043D\u043E`,other:()=>`\u0412\u0438\u0431\u0440\u0430\u043D\u043E \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432: ${e.number(t.count)}`})}.`,selectedItem:t=>`${t.item} \u0432\u0438\u0431\u0440\u0430\u043D\u043E.`};var rr={};rr={deselectedItem:t=>`\u672A\u9009\u62E9 ${t.item}\u3002`,longPressToSelect:"\u957F\u6309\u4EE5\u8FDB\u5165\u9009\u62E9\u6A21\u5F0F\u3002",select:"\u9009\u62E9",selectedAll:"\u5DF2\u9009\u62E9\u6240\u6709\u9879\u76EE\u3002",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u672A\u9009\u62E9\u9879\u76EE",one:()=>`\u5DF2\u9009\u62E9 ${e.number(t.count)} \u4E2A\u9879\u76EE`,other:()=>`\u5DF2\u9009\u62E9 ${e.number(t.count)} \u4E2A\u9879\u76EE`})}\u3002`,selectedItem:t=>`\u5DF2\u9009\u62E9 ${t.item}\u3002`};var ir={};ir={deselectedItem:t=>`\u672A\u9078\u53D6\u300C${t.item}\u300D\u3002`,longPressToSelect:"\u9577\u6309\u4EE5\u9032\u5165\u9078\u64C7\u6A21\u5F0F\u3002",select:"\u9078\u53D6",selectedAll:"\u5DF2\u9078\u53D6\u6240\u6709\u9805\u76EE\u3002",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"\u672A\u9078\u53D6\u4EFB\u4F55\u9805\u76EE",one:()=>`\u5DF2\u9078\u53D6 ${e.number(t.count)} \u500B\u9805\u76EE`,other:()=>`\u5DF2\u9078\u53D6 ${e.number(t.count)} \u500B\u9805\u76EE`})}\u3002`,selectedItem:t=>`\u5DF2\u9078\u53D6\u300C${t.item}\u300D\u3002`};var Xt={};Xt={"ar-AE":Is,"bg-BG":Ks,"cs-CZ":Ms,"da-DK":Es,"de-DE":Ds,"el-GR":_s,"en-US":Ps,"es-ES":As,"et-EE":Ts,"fi-FI":Fs,"fr-FR":Rs,"he-IL":zs,"hr-HR":Bs,"hu-HU":Ls,"it-IT":$s,"ja-JP":Vs,"ko-KR":Os,"lt-LT":Hs,"lv-LV":Gs,"nb-NO":Us,"nl-NL":qs,"pl-PL":Ws,"pt-BR":Ys,"pt-PT":Zs,"ro-RO":Qs,"ru-RU":Js,"sk-SK":Xs,"sl-SI":er,"sr-SP":tr,"sv-SE":nr,"tr-TR":lr,"uk-UA":sr,"zh-CN":rr,"zh-TW":ir};function ud(t){return t&&t.__esModule?t.default:t}function md(t,e){let{getRowText:n=o=>{var d,u;var c;return((d=(c=e.collection).getTextValue)==null?void 0:d.call(c,o))??((u=e.collection.getItem(o))==null?void 0:u.textValue)}}=t,l=Vt(ud(Xt),"@react-aria/grid"),r=e.selectionManager.rawSelection,i=(0,h.useRef)(r),a=Ut(()=>{var m;if(!e.selectionManager.isFocused||r===i.current){i.current=r;return}let o=ar(r,i.current),c=ar(i.current,r),d=e.selectionManager.selectionBehavior==="replace",u=[];if(e.selectionManager.selectedKeys.size===1&&d){let f=e.selectionManager.selectedKeys.keys().next().value;if(f!=null&&e.collection.getItem(f)){let x=n(f);x&&u.push(l.format("selectedItem",{item:x}))}}else if(o.size===1&&c.size===0){let f=o.keys().next().value;if(f!=null){let x=n(f);x&&u.push(l.format("selectedItem",{item:x}))}}else if(c.size===1&&o.size===0){let f=c.keys().next().value;if(f!=null&&e.collection.getItem(f)){let x=n(f);x&&u.push(l.format("deselectedItem",{item:x}))}}e.selectionManager.selectionMode==="multiple"&&(u.length===0||r==="all"||r.size>1||i.current==="all"||((m=i.current)==null?void 0:m.size)>1)&&u.push(r==="all"?l.format("selectedAll"):l.format("selectedCount",{count:r.size})),u.length>0&&yo(u.join(" ")),i.current=r});Hl(()=>{if(e.selectionManager.isFocused)a();else{let o=requestAnimationFrame(a);return()=>cancelAnimationFrame(o)}},[r,e.selectionManager.isFocused])}function ar(t,e){let n=new Set;if(t==="all"||e==="all")return n;for(let l of t.keys())e.has(l)||n.add(l);return n}function hd(t){return t&&t.__esModule?t.default:t}function pd(t){let e=Vt(hd(Xt),"@react-aria/grid"),n=co(),l=(n==="pointer"||n==="virtual"||n==null)&&typeof window<"u"&&"ontouchstart"in window;return Kn((0,h.useMemo)(()=>{let r=t.selectionManager.selectionMode,i=t.selectionManager.selectionBehavior,a;return l&&(a=e.format("longPressToSelect")),i==="replace"&&r!=="none"&&t.hasItemActions?a:void 0},[t.selectionManager.selectionMode,t.selectionManager.selectionBehavior,t.hasItemActions,e,l]))}function fd(t){return t&&t.__esModule?t.default:t}function gd(t,e){let{key:n}=t,l=e.selectionManager,r=Nt(),i=!e.selectionManager.canSelectItem(n),a=e.selectionManager.isSelected(n),o=()=>l.toggleSelection(n),c=Vt(fd(Xt),"@react-aria/grid");return{checkboxProps:{id:r,"aria-label":c.format("select"),isSelected:a,isDisabled:i,onChange:o}}}function xd(t,e,n){let{isVirtualized:l,keyboardDelegate:r,layoutDelegate:i,onAction:a,disallowTypeAhead:o,linkBehavior:c="action",keyboardNavigationBehavior:d="arrow",escapeKeyBehavior:u="clearSelection",shouldSelectOnPressUp:m}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:f}=ds({selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,ref:n,keyboardDelegate:r,layoutDelegate:i,isVirtualized:l,selectOnFocus:e.selectionManager.selectionBehavior==="replace",shouldFocusWrap:t.shouldFocusWrap,linkBehavior:c,disallowTypeAhead:o,autoFocus:t.autoFocus,escapeKeyBehavior:u}),x=Nt(t.id);Hn.set(e,{id:x,onAction:a,linkBehavior:c,keyboardNavigationBehavior:d,shouldSelectOnPressUp:m});let y=pd({selectionManager:e.selectionManager,hasItemActions:!!a}),b=Ac(n,{isDisabled:e.collection.size!==0}),v=ze(Ht(t,{labelable:!0}),{role:"grid",id:x,"aria-multiselectable":e.selectionManager.selectionMode==="multiple"?"true":void 0},e.collection.size===0?{tabIndex:b?-1:0}:f,y);return l&&(v["aria-rowcount"]=e.collection.size,v["aria-colcount"]=1),md({},e),{gridProps:v}}var or={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function yd(t,e,n){var D,K,R,F;let{node:l,isVirtualized:r}=t,{direction:i}=St(),{onAction:a,linkBehavior:o,keyboardNavigationBehavior:c,shouldSelectOnPressUp:d}=Hn.get(e),u=Ao(),m=(0,h.useRef)(null),f=()=>{var S;n.current!==null&&(m.current!=null&&l.key!==m.current||!((S=n.current)!=null&&S.contains(document.activeElement)))&&Oe(n.current)},x={},y=t.hasChildItems,b=e.selectionManager.isLink(l.key);if(l!=null&&"expandedKeys"in e){var v;let S=(D=(v=e.collection).getChildren)==null?void 0:D.call(v,l.key);y||(y=[...S??[]].length>1),a==null&&!b&&e.selectionManager.selectionMode==="none"&&y&&(a=()=>e.toggleKey(l.key));let P=y?e.expandedKeys.has(l.key):void 0,z=1;if(l.level>0&&(l==null?void 0:l.parentKey)!=null){let C=e.collection.getItem(l.parentKey);if(C){var I;z=[...(K=(I=e.collection).getChildren)==null?void 0:K.call(I,C.key)].filter(A=>A.type==="item").length}}else z=[...e.collection].filter(C=>C.level===0&&C.type==="item").length;x={"aria-expanded":P,"aria-level":l.level+1,"aria-posinset":(l==null?void 0:l.index)+1,"aria-setsize":z}}let{itemProps:p,...g}=is({selectionManager:e.selectionManager,key:l.key,ref:n,isVirtualized:r,shouldSelectOnPressUp:t.shouldSelectOnPressUp||d,onAction:a||(R=l.props)!=null&&R.onAction?Kl((F=l.props)==null?void 0:F.onAction,a?()=>a(l.key):void 0):void 0,focus:f,linkBehavior:o}),k=S=>{if(!S.currentTarget.contains(S.target)||!n.current||!document.activeElement)return;let P=je(n.current);if(P.currentNode=document.activeElement,"expandedKeys"in e&&document.activeElement===n.current){if(S.key===or.expand[i]&&e.selectionManager.focusedKey===l.key&&y&&!e.expandedKeys.has(l.key)){e.toggleKey(l.key),S.stopPropagation();return}else if(S.key===or.collapse[i]&&e.selectionManager.focusedKey===l.key&&y&&e.expandedKeys.has(l.key)){e.toggleKey(l.key),S.stopPropagation();return}}switch(S.key){case"ArrowLeft":if(c==="arrow"){let C=i==="rtl"?P.nextNode():P.previousNode();if(C)S.preventDefault(),S.stopPropagation(),Oe(C),tt(C,{containingElement:rt(n.current)});else if(S.preventDefault(),S.stopPropagation(),i==="rtl")Oe(n.current),tt(n.current,{containingElement:rt(n.current)});else{P.currentNode=n.current;let A=cr(P);A&&(Oe(A),tt(A,{containingElement:rt(n.current)}))}}break;case"ArrowRight":if(c==="arrow"){let C=i==="rtl"?P.previousNode():P.nextNode();if(C)S.preventDefault(),S.stopPropagation(),Oe(C),tt(C,{containingElement:rt(n.current)});else if(S.preventDefault(),S.stopPropagation(),i==="ltr")Oe(n.current),tt(n.current,{containingElement:rt(n.current)});else{P.currentNode=n.current;let A=cr(P);A&&(Oe(A),tt(A,{containingElement:rt(n.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!S.altKey&&n.current.contains(S.target)){var z;S.stopPropagation(),S.preventDefault(),(z=n.current.parentElement)==null||z.dispatchEvent(new KeyboardEvent(S.nativeEvent.type,S.nativeEvent))}break}},M=S=>{if(m.current=l.key,S.target!==n.current){po()||e.selectionManager.setFocusedKey(l.key);return}},j=S=>{if(!(!S.currentTarget.contains(S.target)||!n.current||!document.activeElement))switch(S.key){case"Tab":if(c==="tab"){let P=je(n.current,{tabbable:!0});P.currentNode=document.activeElement,(S.shiftKey?P.previousNode():P.nextNode())&&S.stopPropagation()}}},_=$o(l.props),E=ze(p,g.hasAction?_:{},{role:"row",onKeyDownCapture:k,onKeyDown:j,onFocus:M,"aria-label":l.textValue||void 0,"aria-selected":e.selectionManager.canSelectItem(l.key)?e.selectionManager.isSelected(l.key):void 0,"aria-disabled":e.selectionManager.isDisabled(l.key)||void 0,"aria-labelledby":u&&l.textValue?`${Gn(e,l.key)} ${u}`:void 0,id:Gn(e,l.key)});if(r){let{collection:S}=e;E["aria-rowindex"]=[...S].find(P=>P.type==="section")?[...S.getKeys()].filter(P=>{var z;return((z=S.getItem(P))==null?void 0:z.type)!=="section"}).findIndex(P=>P===l.key)+1:l.index+1}let N={role:"gridcell","aria-colindex":1};return{rowProps:{...ze(E,x)},gridCellProps:N,descriptionProps:{id:u},...g}}function cr(t){let e=null,n=null;do n=t.lastChild(),n&&(e=n);while(n);return e}function vd(t,e){let{key:n}=t,{checkboxProps:l}=gd(t,e);return{checkboxProps:{...l,"aria-labelledby":`${l.id} ${Gn(e,n)}`}}}function bd(t,e,n){let{gridProps:l}=xd(t,e,n);return l.role="treegrid",{gridProps:l}}var dr={};dr={collapse:"\u0637\u064A",expand:"\u062A\u0645\u062F\u064A\u062F"};var ur={};ur={collapse:"\u0421\u0432\u0438\u0432\u0430\u043D\u0435",expand:"\u0420\u0430\u0437\u0448\u0438\u0440\u044F\u0432\u0430\u043D\u0435"};var mr={};mr={collapse:"Sbalit",expand:"Rozt\xE1hnout"};var hr={};hr={collapse:"Skjul",expand:"Udvid"};var pr={};pr={collapse:"Reduzieren",expand:"Erweitern"};var fr={};fr={collapse:"\u03A3\u03CD\u03BC\u03C0\u03C4\u03C5\u03BE\u03B7",expand:"\u0391\u03BD\u03AC\u03C0\u03C4\u03C5\u03BE\u03B7"};var gr={};gr={expand:"Expand",collapse:"Collapse"};var xr={};xr={collapse:"Contraer",expand:"Ampliar"};var yr={};yr={collapse:"Ahenda",expand:"Laienda"};var vr={};vr={collapse:"Pienenn\xE4",expand:"Laajenna"};var br={};br={collapse:"R\xE9duire",expand:"D\xE9velopper"};var jr={};jr={collapse:"\u05DB\u05D5\u05D5\u05E5",expand:"\u05D4\u05E8\u05D7\u05D1"};var kr={};kr={collapse:"Sa\u017Emi",expand:"Pro\u0161iri"};var wr={};wr={collapse:"\xD6sszecsuk\xE1s",expand:"Kibont\xE1s"};var Cr={};Cr={collapse:"Comprimi",expand:"Espandi"};var Nr={};Nr={collapse:"\u6298\u308A\u305F\u305F\u3080",expand:"\u5C55\u958B"};var Sr={};Sr={collapse:"\uC811\uAE30",expand:"\uD3BC\uCE58\uAE30"};var Ir={};Ir={collapse:"Sutraukti",expand:"I\u0161skleisti"};var Kr={};Kr={collapse:"Sak\u013Caut",expand:"Izv\u0113rst"};var Mr={};Mr={collapse:"Skjul",expand:"Utvid"};var Er={};Er={collapse:"Samenvouwen",expand:"Uitvouwen"};var Dr={};Dr={collapse:"Zwi\u0144",expand:"Rozwi\u0144"};var _r={};_r={collapse:"Recolher",expand:"Expandir"};var Pr={};Pr={collapse:"Colapsar",expand:"Expandir"};var Ar={};Ar={collapse:"Restr\xE2nge\u021Bi",expand:"Extinde\u021Bi"};var Tr={};Tr={collapse:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",expand:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C"};var Fr={};Fr={collapse:"Zbali\u0165",expand:"Rozbali\u0165"};var Rr={};Rr={collapse:"Strni",expand:"Raz\u0161iri"};var zr={};zr={collapse:" Skupi",expand:"Pro\u0161iri"};var Br={};Br={collapse:"D\xF6lj",expand:"Expandera"};var Lr={};Lr={collapse:"Daralt",expand:"Geni\u015Flet"};var $r={};$r={collapse:"\u0417\u0433\u043E\u0440\u043D\u0443\u0442\u0438",expand:"\u0420\u043E\u0437\u0433\u043E\u0440\u043D\u0443\u0442\u0438"};var Vr={};Vr={collapse:"\u6298\u53E0",expand:"\u6269\u5C55"};var Or={};Or={collapse:"\u6536\u5408",expand:"\u5C55\u958B"};var Hr={};Hr={"ar-AE":dr,"bg-BG":ur,"cs-CZ":mr,"da-DK":hr,"de-DE":pr,"el-GR":fr,"en-US":gr,"es-ES":xr,"et-EE":yr,"fi-FI":vr,"fr-FR":br,"he-IL":jr,"hr-HR":kr,"hu-HU":wr,"it-IT":Cr,"ja-JP":Nr,"ko-KR":Sr,"lt-LT":Ir,"lv-LV":Kr,"nb-NO":Mr,"nl-NL":Er,"pl-PL":Dr,"pt-BR":_r,"pt-PT":Pr,"ro-RO":Ar,"ru-RU":Tr,"sk-SK":Fr,"sl-SI":Rr,"sr-SP":zr,"sv-SE":Br,"tr-TR":Lr,"uk-UA":$r,"zh-CN":Vr,"zh-TW":Or};function jd(t){return t&&t.__esModule?t.default:t}function Gr(t,e,n){let{node:l}=t,r=yd(t,e,n),i=r.rowProps["aria-expanded"]===!0,a=Vt(jd(Hr),"@react-aria/tree"),o=vo({"aria-label":i?a.format("collapse"):a.format("expand"),"aria-labelledby":r.rowProps.id}),c={onPress:()=>{r.isDisabled||(e.toggleKey(l.key),e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(l.key))},excludeFromTabOrder:!0,preventFocusOnPress:!0,"data-react-aria-prevent-focus":!0,...o};return{...r,expandButtonProps:c}}var nt=class Zi extends Set{constructor(e,n,l){super(e),e instanceof Zi?(this.anchorKey=n??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=n??null,this.currentKey=l??null)}};function kd(t,e){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}function Ur(t){let{selectionMode:e="none",disallowEmptySelection:n=!1,allowDuplicateSelectionEvents:l,selectionBehavior:r="toggle",disabledBehavior:i="all"}=t,a=(0,h.useRef)(!1),[,o]=(0,h.useState)(!1),c=(0,h.useRef)(null),d=(0,h.useRef)(null),[,u]=(0,h.useState)(null),[m,f]=bn((0,h.useMemo)(()=>qr(t.selectedKeys),[t.selectedKeys]),(0,h.useMemo)(()=>qr(t.defaultSelectedKeys,new nt),[t.defaultSelectedKeys]),t.onSelectionChange),x=(0,h.useMemo)(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),[y,b]=(0,h.useState)(r);r==="replace"&&y==="toggle"&&typeof m=="object"&&m.size===0&&b("replace");let v=(0,h.useRef)(r);return(0,h.useEffect)(()=>{r!==v.current&&(b(r),v.current=r)},[r]),{selectionMode:e,disallowEmptySelection:n,selectionBehavior:y,setSelectionBehavior:b,get isFocused(){return a.current},setFocused(I){a.current=I,o(I)},get focusedKey(){return c.current},get childFocusStrategy(){return d.current},setFocusedKey(I,p="first"){c.current=I,d.current=p,u(I)},selectedKeys:m,setSelectedKeys(I){(l||!kd(I,m))&&f(I)},disabledKeys:x,disabledBehavior:i}}function qr(t,e){return t?t==="all"?"all":new nt(t):e}var Wr=class Qi{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,n){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let n=this.getKey(e);return n==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(n):this.state.selectedKeys.has(n)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=e.every(l=>n.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let n of this.state.selectedKeys){let l=this.collection.getItem(n);(!e||l&&zn(this.collection,l,e)<0)&&(e=l)}return(e==null?void 0:e.key)??null}get lastSelectedKey(){let e=null;for(let n of this.state.selectedKeys){let l=this.collection.getItem(n);(!e||l&&zn(this.collection,l,e)>0)&&(e=l)}return(e==null?void 0:e.key)??null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let n=this.getKey(e);if(n==null)return;let l;if(this.state.selectedKeys==="all")l=new nt([n],n,n);else{let r=this.state.selectedKeys,i=r.anchorKey??n;l=new nt(r,i,n);for(let a of this.getKeyRange(i,r.currentKey??n))l.delete(a);for(let a of this.getKeyRange(n,i))this.canSelectItem(a)&&l.add(a)}this.state.setSelectedKeys(l)}getKeyRange(e,n){let l=this.collection.getItem(e),r=this.collection.getItem(n);return l&&r?zn(this.collection,l,r)<=0?this.getKeyRangeInternal(e,n):this.getKeyRangeInternal(n,e):[]}getKeyRangeInternal(e,n){var i;if((i=this.layoutDelegate)!=null&&i.getKeyRange)return this.layoutDelegate.getKeyRange(e,n);let l=[],r=e;for(;r!=null;){let a=this.collection.getItem(r);if(a&&(a.type==="item"||a.type==="cell"&&this.allowsCellSelection)&&l.push(r),r===n)return l;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let n=this.collection.getItem(e);if(!n||n.type==="cell"&&this.allowsCellSelection)return e;for(;n&&n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let n=this.getKey(e);if(n==null)return;let l=new nt(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(n)?l.delete(n):this.canSelectItem(n)&&(l.add(n),l.anchorKey=n,l.currentKey=n),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let n=this.getKey(e);if(n==null)return;let l=this.canSelectItem(n)?new nt([n],n,n):new nt;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let n=new nt;for(let l of e){let r=this.getKey(l);if(r!=null&&(n.add(r),this.selectionMode==="single"))break}this.state.setSelectedKeys(n)}getSelectAllKeys(){let e=[],n=l=>{var r;for(;l!=null;){if(this.canSelectItem(l)){let i=this.collection.getItem(l);(i==null?void 0:i.type)==="item"&&e.push(l),i!=null&&i.hasChildNodes&&(this.allowsCellSelection||i.type!=="item")&&n(((r=qc(hs(i,this.collection)))==null?void 0:r.key)??null)}l=this.collection.getKeyAfter(l)}};return n(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new nt)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(e.size!==n.size)return!1;for(let l of e)if(!n.has(l))return!1;for(let l of n)if(!e.has(l))return!1;return!0}canSelectItem(e){var l;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let n=this.collection.getItem(e);return!(!n||n!=null&&((l=n.props)!=null&&l.isDisabled)||n.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var l;var n;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!((n=this.collection.getItem(e))!=null&&((l=n.props)!=null&&l.isDisabled)))}isLink(e){var l;var n;return!!((n=this.collection.getItem(e))!=null&&((l=n.props)!=null&&l.href))}getItemProps(e){var n;return(n=this.collection.getItem(e))==null?void 0:n.props}withCollection(e){return new Qi(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,n,l){this.collection=e,this.state=n,this.allowsCellSelection=(l==null?void 0:l.allowsCellSelection)??!1,this._isSelectAll=null,this.layoutDelegate=(l==null?void 0:l.layoutDelegate)||null}},wd=class{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let e=this.keyMap.get(t);return e?e.prevKey??null:null}getKeyAfter(t){let e=this.keyMap.get(t);return e?e.nextKey??null:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)??null}at(t){let e=[...this.getKeys()];return this.getItem(e[t])}constructor(t,{expandedKeys:e}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,e||(e=new Set);let n=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&(i.type==="section"||e.has(i.key)))for(let a of i.childNodes)n(a)};for(let i of t)n(i);let l=null,r=0;for(let[i,a]of this.keyMap)l?(l.nextKey=i,a.prevKey=l.key):(this.firstKey=i,a.prevKey=void 0),a.type==="item"&&(a.index=r++),l=a,l.nextKey=void 0;this.lastKey=(l==null?void 0:l.key)??null}};function Cd(t){let{onExpandedChange:e}=t,[n,l]=bn(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),r=Ur(t),i=(0,h.useMemo)(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),a=ms(t,(0,h.useCallback)(o=>new wd(o,{expandedKeys:n}),[n]),null);return(0,h.useEffect)(()=>{r.focusedKey!=null&&!a.getItem(r.focusedKey)&&r.setFocusedKey(null)},[a,r.focusedKey]),{collection:a,expandedKeys:n,disabledKeys:i,toggleKey:o=>{l(Nd(n,o))},setExpandedKeys:l,selectionManager:new Wr(a,r)}}function Nd(t,e){let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}var Dt=(0,h.createContext)({}),Un=(0,h.createContext)(null),Sd=(0,h.forwardRef)(function(t,e){let{render:n}=(0,h.useContext)(Un);return h.createElement(h.Fragment,null,n(t,e))});function Yr(t,e){var i;let n=t==null?void 0:t.renderDropIndicator,l=(i=t==null?void 0:t.isVirtualDragging)==null?void 0:i.call(t),r=(0,h.useCallback)(a=>{if(l||e!=null&&e.isDropTarget(a))return n?n(a):h.createElement(Sd,{target:a})},[e==null?void 0:e.target,l,n]);return t!=null&&t.useDropIndicator?r:void 0}function Zr(t,e,n){var i,a,o;let l=t.focusedKey,r=null;if(e!=null&&((i=e.isVirtualDragging)!=null&&i.call(e))&&((a=n==null?void 0:n.target)==null?void 0:a.type)==="item"&&(r=n.target.key,n.target.dropPosition==="after")){let c=n.collection.getKeyAfter(r),d=null;if(c!=null){let u=((o=n.collection.getItem(r))==null?void 0:o.level)??0;for(;c;){let m=n.collection.getItem(c);if(!m)break;if(m.type!=="item"){c=n.collection.getKeyAfter(c);continue}if((m.level??0)<=u)break;d=c,c=n.collection.getKeyAfter(c)}}r=c??d??r}return(0,h.useMemo)(()=>new Set([l,r].filter(c=>c!=null)),[l,r])}var Qr=10,Jr=5,Id=class{setup(t,e,n){this.delegate=t,this.state=e,this.direction=n}getDropTargetFromPoint(t,e,n){let l=this.delegate.getDropTargetFromPoint(t,e,n);return!l||l.type==="root"?l:this.resolveDropTarget(l,t,e,n)}resolveDropTarget(t,e,n,l){let r=this.pointerTracking,i=n-r.lastY,a=e-r.lastX,o=r.yDirection,c=r.xDirection;if(Math.abs(i)>Jr&&(o=i>0?"down":"up",r.yDirection=o,r.lastY=n),Math.abs(a)>Qr&&(c=a>0?"right":"left",r.xDirection=c,r.lastX=e),t.dropPosition==="before"){let m=this.state.collection.getKeyBefore(t.key);if(m!=null){let f={type:"item",key:m,dropPosition:"after"};l(f)&&(t=f)}}let d=this.getPotentialTargets(t,l);if(d.length===0)return{type:"root"};let u;return d.length>1?u=this.selectTarget(d,t,e,n,o,c):(u=d[0],r.boundaryContext=null),u}getPotentialTargets(t,e){if(t.dropPosition==="on")return[t];let n=t,l=this.state.collection,r=l.getItem(n.key);for(;r&&(r==null?void 0:r.type)!=="item"&&r.nextKey!=null;)n.key=r.nextKey,r=l.getItem(r.nextKey);let i=[n];if(r&&r.hasChildNodes&&this.state.expandedKeys.has(r.key)&&l.getChildren&&n.dropPosition==="after"){let c=null;for(let d of l.getChildren(r.key))if(d.type==="item"){c=d;break}if(c){let d={type:"item",key:c.key,dropPosition:"before"};return e(d)?[d]:[]}}if((r==null?void 0:r.nextKey)!=null)return[t];let a=r==null?void 0:r.parentKey,o=[];for(;a;){let c=l.getItem(a),d=c!=null&&c.nextKey?l.getItem(c.nextKey):null;if(!d||d.parentKey!==a){let u={type:"item",key:a,dropPosition:"after"};if(e(u)&&o.push(u),d)break}a=c==null?void 0:c.parentKey}if(o.length>0&&i.push(...o),i.length===1){let c=l.getKeyAfter(n.key),d=c?l.getItem(c):null;if(c!=null&&d&&r&&d.level!=null&&r.level!=null&&d.level>r.level){let u={type:"item",key:c,dropPosition:"before"};if(e(u))return[u]}}return i.filter(e)}selectTarget(t,e,n,l,r,i){var u;if(t.length<2)return t[0];let a=this.pointerTracking,o=(u=this.state.collection.getItem(e.key))==null?void 0:u.parentKey;if(!o)return t[0];(!a.boundaryContext||a.boundaryContext.parentKey!==o)&&(a.boundaryContext={parentKey:o,preferredTargetIndex:a.yDirection==="up"?t.length-1:0,lastSwitchY:l,lastSwitchX:n});let c=a.boundaryContext,d=Math.abs(n-c.lastSwitchX);if(Math.abs(l-c.lastSwitchY)>Jr&&r){let m=c.preferredTargetIndex||0;r==="down"&&m===0?c.preferredTargetIndex=t.length-1:r==="up"&&m===t.length-1&&(c.preferredTargetIndex=0),a.xDirection=null}if(d>Qr&&i){let m=c.preferredTargetIndex||0;i==="left"?this.direction==="ltr"?m<t.length-1&&(c.preferredTargetIndex=m+1,c.lastSwitchX=n):m>0&&(c.preferredTargetIndex=m-1,c.lastSwitchX=n):i==="right"&&(this.direction==="ltr"?m>0&&(c.preferredTargetIndex=m-1,c.lastSwitchX=n):m<t.length-1&&(c.preferredTargetIndex=m+1,c.lastSwitchX=n)),a.yDirection=null}return t[Math.max(0,Math.min(c.preferredTargetIndex||0,t.length-1))]}constructor(){this.delegate=null,this.state=null,this.direction="ltr",this.pointerTracking={lastY:0,lastX:0,yDirection:null,xDirection:null,boundaryContext:null}}},Kd=class{*[Symbol.iterator](){yield*this.flattenedRows}get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}getItem(t){return this.keyMap.get(t)||null}at(t){return this.flattenedRows[t]}getFirstKey(){var t;return(t=this.flattenedRows[0])==null?void 0:t.key}getLastKey(){var t;return(t=this.flattenedRows[this.flattenedRows.length-1])==null?void 0:t.key}getKeyAfter(t){var n;let e=this.flattenedRows.findIndex(l=>l.key===t);return(n=this.flattenedRows[e+1])==null?void 0:n.key}getKeyBefore(t){var n;let e=this.flattenedRows.findIndex(l=>l.key===t);return(n=this.flattenedRows[e-1])==null?void 0:n.key}getChildren(t){let e=this.keyMap;return{*[Symbol.iterator](){let n=e.get(t),l=(n==null?void 0:n.firstChildKey)==null?null:e.get(n.firstChildKey);for(;l;)yield l,l=l.nextKey==null?void 0:e.get(l.nextKey)}}}getTextValue(t){let e=this.getItem(t);return e?e.textValue:""}constructor(t){this.keyMap=new Map,this.itemCount=0;let{collection:e,expandedKeys:n}=t,{flattenedRows:l,keyMap:r,itemCount:i}=_d(e,{expandedKeys:n});this.flattenedRows=l,this.keyMap=r,this.itemCount=i}},Md=(0,h.createContext)(null),qn=(0,h.createContext)(null),Ed=(0,h.forwardRef)(function(t,e){return[t,e]=fo(t,e,Md),h.createElement(bs,{content:h.createElement(Cs,t)},n=>h.createElement(Dd,{props:t,collection:n,treeRef:e}))}),Xr={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function Dd({props:t,collection:e,treeRef:n}){let{dragAndDropHooks:l}=t,{direction:r}=St(),i=En({usage:"search",sensitivity:"base"}),a=!!(l!=null&&l.useDraggableCollectionState),o=!!(l!=null&&l.useDroppableCollectionState),c=(0,h.useRef)(a),d=(0,h.useRef)(o);(0,h.useEffect)(()=>{c.current!==a&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),d.current!==o&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior.")},[a,o]);let{selectionMode:u="none",expandedKeys:m,defaultExpandedKeys:f,onExpandedChange:x,disabledBehavior:y="all"}=t,{CollectionRoot:b,isVirtualized:v,layoutDelegate:I,dropTargetDelegate:p}=(0,h.useContext)(Jt),[g,k]=bn(m?ri(m):void 0,f?ri(f):new Set,x),M=(0,h.useMemo)(()=>new Kd({collection:e,expandedKeys:g}),[e,g]),j=Cd({...t,selectionMode:u,expandedKeys:g,onExpandedChange:k,collection:M,children:void 0,disabledBehavior:y}),{gridProps:_}=bd({...t,isVirtualized:v,layoutDelegate:I},j,n),E,N,D,K=!1,R=null,F=(0,h.useRef)(null);if(a&&l){E=l.useDraggableCollectionState({collection:j.collection,selectionManager:j.selectionManager,preview:l.renderDragPreview?F:void 0}),l.useDraggableCollection({},E,n);let ee=l.DragPreview;R=l.renderDragPreview?h.createElement(ee,{ref:F},l.renderDragPreview):null}let[S]=(0,h.useState)(()=>new Id);if(o&&l){N=l.useDroppableCollectionState({collection:j.collection,selectionManager:j.selectionManager});let ee=l.dropTargetDelegate||p||new l.ListDropTargetDelegate(j.collection,n,{direction:r});S.setup(ee,j,r);let ce=new Fn({collection:j.collection,collator:i,ref:n,disabledKeys:j.selectionManager.disabledKeys,disabledBehavior:j.selectionManager.disabledBehavior,direction:r,layoutDelegate:I});D=l.useDroppableCollection({keyboardDelegate:ce,dropTargetDelegate:S,onDropActivate:re=>{var Y;if(re.target.type==="item"){let Z=re.target.key,te=j.collection.getItem(Z),ne=g!=="all"&&g.has(Z);te&&te.hasChildNodes&&(!ne||l!=null&&((Y=l.isVirtualDragging)!=null&&Y.call(l)))&&j.toggleKey(Z)}},onKeyDown:re=>{let Y=N==null?void 0:N.target;if(Y&&Y.type==="item"&&Y.dropPosition==="on"){let Z=j.collection.getItem(Y.key);(re.key===Xr.expand[r]&&(Z!=null&&Z.hasChildNodes)&&!j.expandedKeys.has(Y.key)||re.key===Xr.collapse[r]&&(Z!=null&&Z.hasChildNodes)&&j.expandedKeys.has(Y.key))&&j.toggleKey(Y.key)}}},N,n);let ue=N.getDropOperation;N.getDropOperation=re=>{var ne;let{target:Y,isInternal:Z}=re,te=(E==null?void 0:E.draggingKeys)??new Set;if(Z&&Y.type==="item"&&te.size>0){if(te.has(Y.key)&&Y.dropPosition==="on")return"cancel";let fe=Y.key;for(;fe!=null;){let T=(ne=j.collection.getItem(fe))==null?void 0:ne.parentKey;if(T!=null&&te.has(T))return"cancel";fe=T??null}}return ue(re)},K=N.isDropTarget({type:"root"})}let P=!!(a&&!(E!=null&&E.isDisabled)),{focusProps:z,isFocused:C,isFocusVisible:A}=xn(),G={isEmpty:j.collection.size===0,isFocused:C,isFocusVisible:A,isDropTarget:K,selectionMode:j.selectionManager.selectionMode,allowsDragging:!!P,state:j},w=wt({className:t.className,style:t.style,defaultClassName:"react-aria-Tree",values:G}),q=null;if(j.collection.size===0&&t.renderEmptyState){let{isEmpty:ee,...ce}=G,ue=t.renderEmptyState({...ce});q=h.createElement("div",{role:"row",style:{display:"contents"},"aria-level":1},h.createElement("div",{role:"gridcell",style:{display:"contents"}},ue))}let J=Ht(t,{global:!0});return h.createElement(h.Fragment,null,h.createElement(Ql,null,h.createElement("div",{...ze(J,w,_,z,D==null?void 0:D.collectionProps),ref:n,slot:t.slot||void 0,"data-empty":j.collection.size===0||void 0,"data-focused":C||void 0,"data-drop-target":K||void 0,"data-focus-visible":A||void 0,"data-selection-mode":j.selectionManager.selectionMode==="none"?void 0:j.selectionManager.selectionMode,"data-allows-dragging":!!P||void 0},h.createElement(Nl,{values:[[qn,j],[Dt,{dragAndDropHooks:l,dragState:E,dropState:N}],[Un,{render:Pd}]]},o&&h.createElement(Fd,null),h.createElement(Fa,null,h.createElement(b,{collection:j.collection,persistedKeys:Zr(j.selectionManager,l,N),scrollRef:n,renderDropIndicator:Yr(l,N)}))),q)),R)}var ei=class extends mt{};ei.type="content";var ti=On(ei,function(t){let e=(0,h.useContext)(ni),n=wt({children:t.children,values:e});return h.createElement(Jt.Provider,{value:Ns},n.children)}),ni=(0,h.createContext)(null),li=class extends mt{};li.type="item";var si=id(li,(t,e,n)=>{let l=(0,h.useContext)(qn);e=vn(e);let{dragAndDropHooks:r,dragState:i,dropState:a}=(0,h.useContext)(Dt),{rowProps:o,gridCellProps:c,expandButtonProps:d,descriptionProps:u,...m}=Gr({node:n,shouldSelectOnPressUp:!!i},l,e),f=o["aria-expanded"]===!0,x=t.hasChildItems||[...l.collection.getChildren(n.key)].length>1,y=o["aria-level"]||1,{hoverProps:b,isHovered:v}=uo({isDisabled:!m.allowsSelection&&!m.hasAction,onHoverStart:t.onHoverStart,onHoverChange:t.onHoverChange,onHoverEnd:t.onHoverEnd}),{isFocusVisible:I,focusProps:p}=xn(),{isFocusVisible:g,focusProps:k}=xn({within:!0}),{checkboxProps:M}=vd({key:n.key},l),j=null;i&&r&&(j=r.useDraggableItem({key:n.key,hasDragButton:!0},i));let _=null,E=(0,h.useRef)(null),N=(0,h.useRef)(null),D=(0,h.useRef)(null),{visuallyHiddenProps:K}=Mt();a&&r&&(_=r.useDropIndicator({target:{type:"item",key:n.key,dropPosition:"on"},activateButtonRef:D},a,N));let R=i&&i.isDragging(n.key),F=_==null?void 0:_.isDropTarget,S=l.selectionManager.selectionMode,P=l.selectionManager.selectionBehavior,z=h.useMemo(()=>({...m,isHovered:v,isFocusVisible:I,isExpanded:f,hasChildItems:x,level:y,selectionMode:S,selectionBehavior:P,isFocusVisibleWithin:g,state:l,id:n.key,allowsDragging:!!i,isDragging:R,isDropTarget:F}),[m,v,I,f,x,y,g,l,n.key,i,R,F,P,S]),C=wt({...t,id:void 0,children:n.rendered,defaultClassName:"react-aria-TreeItem",defaultStyle:{"--tree-item-level":y},values:z});(0,h.useEffect)(()=>{n.textValue},[n.textValue]),(0,h.useEffect)(()=>{x&&E.current},[]);let A=(0,h.useRef)(null);(0,h.useEffect)(()=>{i&&A.current},[]);let G=$n({items:l.collection.getChildren(n.key),children:J=>{switch(J.type){case"content":return J.render(J);case"loader":case"item":return h.createElement(h.Fragment,null);default:throw Error("Unsupported element type in TreeRow: "+J.type)}}}),w=Nt(),q=Ht(t,{global:!0});return delete q.id,delete q.onClick,h.createElement(h.Fragment,null,_&&!_.isHidden&&h.createElement("div",{role:"row","aria-level":o["aria-level"],"aria-expanded":o["aria-expanded"],"aria-label":_.dropIndicatorProps["aria-label"]},h.createElement("div",{role:"gridcell","aria-colindex":1,style:{display:"contents"}},h.createElement("div",{role:"button",...K,..._.dropIndicatorProps,ref:N}),o["aria-expanded"]==null?null:h.createElement("div",{role:"button",...K,id:w,"aria-label":d["aria-label"],"aria-labelledby":`${w} ${o.id}`,tabIndex:-1,ref:D}))),h.createElement("div",{...ze(q,o,p,b,k,j==null?void 0:j.dragProps),...C,ref:e,"data-expanded":x&&f||void 0,"data-has-child-items":x||void 0,"data-level":y,"data-selected":m.isSelected||void 0,"data-disabled":m.isDisabled||void 0,"data-hovered":v||void 0,"data-focused":m.isFocused||void 0,"data-focus-visible":I||void 0,"data-pressed":m.isPressed||void 0,"data-selection-mode":l.selectionManager.selectionMode==="none"?void 0:l.selectionManager.selectionMode,"data-allows-dragging":!!i||void 0,"data-dragging":R||void 0,"data-drop-target":F||void 0},h.createElement("div",{...c,style:{display:"contents"}},h.createElement(Nl,{values:[[mc,{slots:{selection:M}}],[xo,{slots:{[oo]:{},chevron:{...d,ref:E},drag:{...j==null?void 0:j.dragButtonProps,ref:A,style:{pointerEvents:"none"}}}}],[ni,{...z}],[Ba,{isSelected:m.isSelected}]]},G))))});On(Bn,function(t,e,n){let{isVirtualized:l}=(0,h.useContext)(Jt),r=(0,h.useContext)(qn),{isLoading:i,onLoadMore:a,scrollOffset:o,...c}=t,d=(0,h.useRef)(null);Wl((0,h.useMemo)(()=>({onLoadMore:a,collection:r==null?void 0:r.collection,sentinelRef:d,scrollOffset:o}),[a,o,r==null?void 0:r.collection]),d),e=vn(e);let{rowProps:u,gridCellProps:m}=Gr({node:n},r,e),f=u["aria-level"]||1,x={role:"row","aria-level":u["aria-level"]},y=wt({...c,id:void 0,children:n.rendered,defaultClassName:"react-aria-TreeLoader",values:{level:f}}),b={};return l&&(b={display:"contents"}),h.createElement(h.Fragment,null,h.createElement("div",{style:{position:"relative",width:0,height:0},inert:Yl(!0)},h.createElement("div",{"data-testid":"loadMoreSentinel",ref:d,style:{position:"absolute",height:1,width:1}})),i&&y.children&&h.createElement("div",{ref:e,...ze(Ht(t),x),...y,"data-level":f},h.createElement("div",{...m,style:b},y.children)))});function ri(t){return t?t==="all"?"all":new Set(t):new Set}function _d(t,e){let{expandedKeys:n=new Set}=e,l=new Map,r=[],i=0,a=new Map,o=c=>{if(c.type==="item"||c.type==="loader"){let d=c==null?void 0:c.parentKey,u={...c};d==null?l.set(c.key,c):([...t.getChildren(d)][0].type!=="item"&&(u.index=(c==null?void 0:c.index)==null?0:(c==null?void 0:c.index)-1),c.type==="loader"&&(u.level=c.level+1),l.set(u.key,u));let m=l.get(c.key)||c;(m.level===0||m.parentKey!=null&&n.has(m.parentKey)&&a.get(m.parentKey))&&(m.type==="item"&&i++,r.push(m),a.set(m.key,!0))}else c.type!==null&&l.set(c.key,c);for(let d of t.getChildren(c.key))o(d)};for(let c of t)o(c);return{flattenedRows:r,keyMap:l,itemCount:i}}function Pd(t,e){var d;e=vn(e);let{dragAndDropHooks:n,dropState:l}=(0,h.useContext)(Dt),r=(0,h.useRef)(null),{dropIndicatorProps:i,isHidden:a,isDropTarget:o}=n.useDropIndicator(t,l,r);if(a)return null;let c=l&&t.target.type==="item"?(((d=l.collection.getItem(t.target.key))==null?void 0:d.level)||0)+1:1;return h.createElement(Td,{...t,dropIndicatorProps:i,isDropTarget:o,ref:e,buttonRef:r,level:c})}function Ad(t,e){let{dropIndicatorProps:n,isDropTarget:l,buttonRef:r,level:i,...a}=t,{visuallyHiddenProps:o}=Mt(),c=wt({...a,defaultClassName:"react-aria-DropIndicator",defaultStyle:{position:"relative","--tree-item-level":i},values:{isDropTarget:l}});return h.createElement("div",{...c,role:"row","aria-level":i,ref:e,"data-drop-target":l||void 0},h.createElement("div",{role:"gridcell"},h.createElement("div",{...o,role:"button",...n,ref:r}),c.children))}var Td=(0,h.forwardRef)(Ad);function Fd(){let{dragAndDropHooks:t,dropState:e}=(0,h.useContext)(Dt),n=(0,h.useRef)(null),{dropIndicatorProps:l}=t.useDropIndicator({target:{type:"root"}},e,n),r=e.isDropTarget({type:"root"}),{visuallyHiddenProps:i}=Mt();return!r&&l["aria-hidden"]?null:h.createElement("div",{role:"row","aria-hidden":l["aria-hidden"],style:{position:"absolute"}},h.createElement("div",{role:"gridcell"},h.createElement("div",{role:"button",...i,...l,ref:n})))}var Rd=Ne(),zd=t=>{switch(t){case"chat":return"chat_model";case"autocomplete":return"autocomplete_model";case"edit":return"edit_model"}};const ii=()=>{let t=(0,Rd.c)(12),[e,n]=pt(Ka),{saveUserConfig:l}=kt(),r;t[0]!==l||t[1]!==n?(r=async m=>{await l({config:m}).then(()=>{n(f=>({...f,...m}))})},t[0]=l,t[1]=n,t[2]=r):r=t[2];let i=r,a;t[3]!==i||t[4]!==e?(a=async(m,f)=>{var y,b,v,I,p;let x=zd(f);x&&i({ai:{...e.ai,models:{custom_models:((b=(y=e.ai)==null?void 0:y.models)==null?void 0:b.custom_models)??[],displayed_models:((I=(v=e.ai)==null?void 0:v.models)==null?void 0:I.displayed_models)??[],...(p=e.ai)==null?void 0:p.models,[x]:m}}})},t[3]=i,t[4]=e,t[5]=a):a=t[5];let o=a,c;t[6]!==i||t[7]!==e?(c=async m=>{i({ai:{...e.ai,mode:m}})},t[6]=i,t[7]=e,t[8]=c):c=t[8];let d=c,u;return t[9]!==d||t[10]!==o?(u={saveModelChange:o,saveModeChange:d},t[9]=d,t[10]=o,t[11]=u):u=t[11],u},en=["openai","anthropic","google","ollama","bedrock","deepseek","azure","github","openrouter","wandb","marimo"];var Re=class ll{constructor(e,n){this.providerId=e,this.shortModelId=n}get id(){return`${this.providerId}/${this.shortModelId}`}static parse(e){if(!e.includes("/"))return new ll(Bd(e),e);let[n,...l]=e.split("/");return new ll(n,l.join("/"))}};function Bd(t){return t.startsWith("gpt")||t.startsWith("o3")||t.startsWith("o1")?"openai":t.startsWith("claude")?"anthropic":t.startsWith("gemini")||t.startsWith("google")?"google":t.startsWith("deepseek")?"deepseek":"ollama"}function Wn(t){return en.includes(t)}const Ld=[{name:"Claude 4.5 Opus",model:"claude-opus-4-5",description:"Latest Opus model with enhanced capabilities and performance improvements",providers:["anthropic"],roles:["chat","edit"],thinking:!0},{name:"Claude 4.5 Sonnet",model:"claude-sonnet-4-5",description:"Latest Sonnet model with enhanced capabilities and performance improvements",providers:["anthropic"],roles:["chat","edit"],thinking:!0},{name:"Claude 4.1 Opus",model:"claude-opus-4-1",description:"Latest Opus model with enhanced capabilities and performance improvements",providers:["anthropic"],roles:["chat","edit"],thinking:!0},{name:"Claude 4 Opus",model:"claude-opus-4-0",description:"Most capable model with superior performance on complex tasks and reasoning",providers:["anthropic"],roles:["chat","edit"],thinking:!0},{name:"Claude 4 Sonnet",model:"claude-sonnet-4-0",description:"Next-generation Sonnet model with advanced reasoning and multimodal capabilities",providers:["anthropic"],roles:["chat","edit"],thinking:!0},{name:"Claude 3.7 Sonnet",model:"claude-3-7-sonnet-latest",description:"Enhanced Sonnet model with improved capabilities",providers:["anthropic"],roles:["chat","edit"],thinking:!1},{name:"Claude 3.5 Sonnet",model:"claude-3-5-sonnet-latest",description:"Balanced model with strong performance across reasoning, math, and coding",providers:["anthropic"],roles:["chat","edit"],thinking:!1},{name:"Claude 3.5 Haiku",model:"claude-3-5-haiku-latest",description:"Fast and efficient model with excellent performance for everyday tasks",providers:["anthropic"],roles:["chat","edit"],thinking:!1},{name:"Gemini 3.0 Pro",model:"gemini-3-pro-preview",description:"Most capable Gemini model with advanced reasoning and large context support",providers:["google"],roles:["chat","edit"],thinking:!0},{name:"Gemini 2.5 Pro",model:"gemini-2.5-pro",description:"Most capable Gemini model with advanced reasoning and large context support",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.5 Pro Experimental",model:"gemini-2.5-pro-exp",description:"Experimental version of Gemini 2.5 Pro with latest improvements",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.5 Flash",model:"gemini-2.5-flash",description:"Adaptive thinking, cost efficiency",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.5 Flash Lite",model:"gemini-2.5-flash-lite",description:"Most cost-efficient model supporting high throughput",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.0 Flash",model:"gemini-2.0-flash",description:"Next-generation Flash model with improved performance and capabilities",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.0 Flash Experimental",model:"gemini-2.0-flash-exp",description:"Experimental version of Gemini 2.0 Flash with cutting-edge features",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.0 Flash Lite",model:"gemini-2.0-flash-lite",description:"Lightweight version of Gemini 2.0 Flash optimized for efficiency",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 2.0 Flash Thinking",model:"gemini-2.0-flash-thinking-exp-01-21",description:"Specialized reasoning model with enhanced thinking capabilities",providers:["google"],roles:["chat"],thinking:!0},{name:"Gemini 1.5 Flash",model:"gemini-1.5-flash",description:"Fast and efficient model optimized for speed and everyday tasks",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 1.5 Flash 8B",model:"gemini-1.5-flash-8b",description:"Lightweight version of Gemini 1.5 Flash with 8 billion parameters",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"Gemini 1.5 Pro",model:"gemini-1.5-pro",description:"Advanced model with superior reasoning capabilities and large context window",providers:["google"],roles:["chat","edit"],thinking:!1},{name:"GPT-5",model:"gpt-5",description:"The best model for coding and agentic tasks across domains",providers:["openai","azure","github"],roles:["chat","edit"],thinking:!1},{name:"GPT-5 Mini",model:"gpt-5-mini",description:"A faster, cost-efficient version of GPT-5 for well-defined tasks",providers:["openai","azure","github"],roles:["chat","edit"],thinking:!1},{name:"GPT-5 Nano",model:"gpt-5-nano",description:"Fastest, most cost-efficient version of GPT-5",providers:["openai","azure"],roles:["chat","edit"],thinking:!1},{name:"GPT-4.1",model:"gpt-4.1",description:"Fast, highly intelligent model with largest context window (1 million tokens)",providers:["openai","azure"],roles:["chat","edit"],thinking:!1},{name:"GPT-4.1 Mini",model:"gpt-4.1-mini",description:"Balanced for intelligence, speed, and cost",providers:["openai","azure"],roles:["chat","edit"],thinking:!1},{name:"GPT-4o",model:"gpt-4o",description:"Fast, intelligent, flexible GPT model with multimodal capabilities",providers:["openai","azure"],roles:["chat","edit"],thinking:!1},{name:"GPT-4o Mini",model:"gpt-4o-mini",description:"Fast, affordable small model for focused tasks",providers:["openai","azure","github"],roles:["chat","edit"],thinking:!1},{name:"o3",model:"o3",description:"Our most powerful reasoning model with chain-of-thought capabilities",providers:["openai","azure"],roles:["chat","edit"],thinking:!0},{name:"o3 Mini",model:"o3-mini",description:"A small model alternative to o3 for reasoning tasks",providers:["openai","azure"],roles:["chat","edit"],thinking:!0},{name:"o3 Pro",model:"o3-pro",description:"Version of o3 designed to think longer and provide most reliable responses",providers:["openai","azure"],roles:["chat","edit"],thinking:!0},{name:"o4 Mini",model:"o4-mini",description:"Faster, more affordable reasoning model optimized for math, coding, and visual tasks",providers:["openai","azure"],roles:["chat","edit"],thinking:!0},{name:"GPT-3.5-turbo",model:"gpt-3.5-turbo",description:"Fast and efficient model with excellent performance for everyday tasks",providers:["github"],roles:["chat","edit"],thinking:!1},{name:"Claude 4.5 Sonnet (Bedrock)",model:"global.anthropic.claude-sonnet-4-5-20250929-v1:0",description:"Enhanced Sonnet model with improved capabilities",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Claude 4.1 Opus (Bedrock)",model:"us.anthropic.claude-opus-4-1-20250805-v1:0",description:"Opus model for deep thinking",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Claude 3.7 Sonnet (Bedrock)",model:"us.anthropic.claude-3-7-sonnet-20250219-v1:0",description:"Enhanced Sonnet model with improved capabilities",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Claude 3.5 Sonnet v2 (Bedrock)",model:"us.anthropic.claude-3-5-sonnet-20241022-v2:0",description:"Balanced model with strong performance across reasoning, math, and coding",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Claude 3.5 Haiku (Bedrock)",model:"us.anthropic.claude-3-5-haiku-20241022-v1:0",description:"Fast and efficient model with excellent performance for everyday tasks",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Llama 3.3 70B Instruct",model:"us.meta.llama3-3-70b-instruct-v1:0",description:"Large language model optimized for instruction following and chat",providers:["bedrock"],roles:["chat","edit"],thinking:!1},{name:"Cohere Embed Multilingual v3",model:"cohere.embed-multilingual-v3",description:"Multilingual text embedding model for semantic search and similarity",providers:["bedrock"],roles:["embed"],thinking:!1},{name:"Cohere Rerank 3.5",model:"cohere.rerank-v3-5:0",description:"Advanced reranking model for improving search result relevance",providers:["bedrock"],roles:["rerank"],thinking:!1},{name:"gpt-oss 20b",model:"gpt-oss:20b",description:"OpenAI\u2019s open-weight models designed for powerful reasoning, agentic tasks, and versatile developer use cases.",providers:["ollama"],roles:["chat","edit"],thinking:!0},{name:"Qwen3 8b",model:"qwen3:8b",description:"Qwen3 is the latest generation of large language models in Qwen series.",providers:["ollama"],roles:["chat","edit"],thinking:!0},{name:"Gemma3 12b",model:"gemma3:12b",description:"Lightweight gemma models trained by Google, trained to run on a single GPU.",providers:["ollama"],roles:["chat","edit"],thinking:!0},{name:"Meta Llama 3.1 8B (W&B)",model:"meta-llama/Llama-3.1-8B-Instruct",description:"Efficient conversational model optimized for responsive multilingual chatbot interactions",providers:["wandb"],roles:["chat","edit"],thinking:!1},{name:"OpenAI GPT OSS 120B",model:"openai/gpt-oss-120b",description:"Efficient Mixture-of-Experts model designed for high-reasoning, agentic and general-purpose use cases",providers:["wandb"],roles:["chat","edit"],thinking:!0},{name:"OpenAI GPT OSS 20B",model:"openai/gpt-oss-20b",description:"Lower latency Mixture-of-Experts model trained on OpenAI's Harmony response format with reasoning capabilities",providers:["wandb"],roles:["chat","edit"],thinking:!0},{name:"DeepSeek V3-0324",model:"deepseek-ai/DeepSeek-V3-0324",description:"Robust Mixture-of-Experts model tailored for high-complexity language processing and comprehensive document analysis",providers:["wandb"],roles:["chat","edit"],thinking:!1},{name:"Meta Llama 3.3 70B (W&B)",model:"meta-llama/Llama-3.3-70B-Instruct",description:"Multilingual model excelling in conversational tasks, detailed instruction-following, and coding",providers:["wandb"],roles:["chat","edit"],thinking:!1},{name:"DeepSeek R1-0528",model:"deepseek-ai/DeepSeek-R1-0528",description:"Optimized for precise reasoning tasks including complex coding, math, and structured document analysis",providers:["wandb"],roles:["chat","edit"],thinking:!0},{name:"MoonshotAI Kimi K2",model:"moonshotai/Kimi-K2-Instruct",description:"Mixture-of-Experts model optimized for complex tool use, reasoning, and code synthesis",providers:["wandb"],roles:["chat","edit"],thinking:!0},{name:"Z.AI GLM 4.5",model:"zai-org/GLM-4.5",description:"Mixture-of-Experts model with user-controllable thinking/non-thinking modes for strong reasoning, code generation, and agent alignment",providers:["wandb"],roles:["chat","edit"],thinking:!0}],$d=[{name:"OpenAI",id:"openai",description:"OpenAI's API for GPT models, including GPT-3.5 and GPT-4.",url:"https://platform.openai.com/"},{name:"Amazon Bedrock",id:"bedrock",description:"Amazon Bedrock provides access to foundation models from Amazon and leading AI startups via a unified API.",url:"https://aws.amazon.com/bedrock/"},{name:"Azure",id:"azure",description:"Azure provides access to models via the Azure cloud.",url:"https://azure.microsoft.com/en-us/products/ai-services/"},{name:"Anthropic",id:"anthropic",description:"Anthropic's Claude models for conversational and completion tasks.",url:"https://www.anthropic.com/"},{name:"Google AI",id:"google",description:"Google's Vertex AI and PaLM APIs for generative and conversational models.",url:"https://cloud.google.com/vertex-ai/docs/generative-ai/learn/overview"},{name:"Ollama",id:"ollama",description:"Ollama is a lightweight, open-source model server for running and sharing LLMs.",url:"https://ollama.ai/"},{name:"GitHub",id:"github",description:"GitHub's API for GPT models with GitHub-hosted models.",url:"https://github.com/features/copilot"},{name:"marimo",id:"marimo",description:"marimo's hosted models.",url:"https://docs.marimo.io/guides/editor_features/ai_completion/"},{name:"DeepSeek",id:"deepseek",description:"DeepSeek's API for GPT models.",url:"https://deepseek.com/"},{name:"LM Studio",id:"lmstudio",description:"LM Studio's API for GPT models.",url:"https://lmstudio.ai/"},{name:"OpenRouter",id:"openrouter",description:"OpenRouter's API for GPT models.",url:"https://openrouter.ai/"},{name:"Mistral",id:"mistral",description:"Mistral's API for GPT models.",url:"https://mistral.ai/"},{name:"Vercel v0",id:"vercel",description:"Vercel's API for GPT models.",url:"https://vercel.com/"},{name:"Together AI",id:"together",description:"Together AI's API for GPT models.",url:"https://together.ai/"},{name:"xAI",id:"xai",description:"xAI's API for GPT models.",url:"https://x.ai/"},{name:"Weights & Biases",id:"wandb",description:"Weights & Biases' hosted models for ML development and AI inference.",url:"https://wandb.ai/"}],ai=lt(()=>{let t=new Map,e=new Map;for(let n of Ld){let l=n.model,r={...n,model:n.model,roles:n.roles.map(a=>a),providers:n.providers,custom:!1},i=r.roles.includes("chat")||r.roles.includes("edit");for(let a of r.providers){let o=`${a}/${l}`;t.set(o,r),i&&!e.has(a)&&e.set(a,o)}}return{modelMap:t,defaultModelByProvider:e}});var oi=lt(()=>{let t=new Map,e=new Map;return $d.forEach((n,l)=>{let r=n.id;t.set(r,n),e.set(r,l)}),{providerMap:t,providerToOrderIdx:e}}),_t=class cn{constructor(e,n){Ae(this,"modelsByProviderMap",new Rl);this.customModels=new Set(e),this.displayedModels=new Set(n),this.modelsMap=new Map,this.buildMaps()}static getProviderInfo(e){let{providerMap:n}=oi();return n.get(e)}static create(e){let{customModels:n=[],displayedModels:l=[]}=e;return new cn(n.map(r=>Re.parse(r).id),l.map(r=>Re.parse(r).id))}buildMaps(){let e=cn.buildMapsFromConfig({displayedModels:this.displayedModels,customModels:this.customModels});e.modelsMap.size===0&&(Q.error("The configured displayed_models have filtered out all registered models. Reverting back to showing all models.",[...this.displayedModels]),e=cn.buildMapsFromConfig({displayedModels:new Set,customModels:this.customModels})),this.modelsByProviderMap=e.modelsByProviderMap,this.modelsMap=e.modelsMap}static buildMapsFromConfig(e){let{displayedModels:n,customModels:l}=e,r=n.size>0,i=ai().modelMap,a=new Map,o=new Map,c=new Rl;for(let d of l){if(r&&!n.has(d))continue;let u=Re.parse(d),m={name:u.shortModelId,model:u.shortModelId,description:"Custom model",providers:[u.providerId],roles:[],thinking:!1,custom:!0};a.set(d,m)}if(r)for(let d of n){let u=i.get(d);u&&o.set(d,u)}else o=new Map(i);o=new Map([...a,...o]);for(let[d,u]of o.entries()){let m=Re.parse(d);c.add(m.providerId,u)}return{modelsByProviderMap:c,modelsMap:o}}getDisplayedModels(){return this.displayedModels}getCustomModels(){return this.customModels}getModelsByProvider(e){return this.modelsByProviderMap.get(e)||[]}getGroupedModelsByProvider(){return this.modelsByProviderMap}getListModelsByProvider(){let e=[...this.getGroupedModelsByProvider().entries()],n=oi().providerToOrderIdx;return e.sort((l,r)=>{let i=l[0],a=r[0];return(n.get(i)??0)-(n.get(a)??0)}),e}getModelsMap(){return this.modelsMap}getModel(e){return this.modelsMap.get(e)}};function Vd(t){"scheduler"in window?window.scheduler.postTask(t,{priority:"background"}):"requestIdleCallback"in window?requestIdleCallback(t):setTimeout(t,0)}var tn=null,Od=class{constructor(t){Ae(this,"abortController",new AbortController);this.view=t.view,this.view.dom.addEventListener("focus",()=>{tn=new WeakRef(this.view)},{signal:this.abortController.signal,capture:!0}),this.update()}update(){let t=this.view.dom.querySelector(".cm-vimCursorLayer");if(t instanceof HTMLElement)if(sa())t.style.display="none";else{let e=(tn==null?void 0:tn.deref())===this.view;t.style.display=e?"":"none"}}destroy(){this.abortController.abort()}};const ci={map:{args:["lhs","rhs"]},nmap:{mode:"normal",args:["lhs","rhs"]},vmap:{mode:"visual",args:["lhs","rhs"]},imap:{mode:"insert",args:["lhs","rhs"]},noremap:{args:["lhs","rhs"]},nnoremap:{mode:"normal",args:["lhs","rhs"]},vnoremap:{mode:"visual",args:["lhs","rhs"]},inoremap:{mode:"insert",args:["lhs","rhs"]},unmap:{args:["lhs"]},nunmap:{mode:"normal",args:["lhs"]},vunmap:{mode:"visual",args:["lhs"]},iunmap:{mode:"insert",args:["lhs"]},mapclear:{},nmapclear:{mode:"normal"},vmapclear:{mode:"visual"},imapclear:{mode:"insert"}};function Hd(t,e){let n=[];for(let l of t.split(`
`)){if(l.startsWith('"')||l.trim()==="")continue;let r=Gd(l,e);r&&n.push(r)}return n}function Gd(t,e){let n=t.split(/\s+/),l=n[0],r=0;if(l in ci){let i=ci[l],a={};for(let c of i.args||[])if(r+=1,r<n.length)a[c]=n[r];else{e&&e(`Not enough arguments for "${l}" command: "${t}"`);return}let o={name:l};return"args"in i&&(o.args=a),"mode"in i&&(o.mode=i.mode),o}e&&e(`Unknown vimrc command: "${t}"`)}function Ud(){return qd(),Wd(),[Xe.of([{key:"j",run:t=>{if(pa(t,!0)&&rl(t)){let e=t.state.facet(Bt),n=t.state.facet(il);return e.moveToNextCell({cellId:n,before:!1,noCreate:!0}),!0}return!1}}]),Xe.of([{key:"k",run:t=>{if(ia(t)&&rl(t)){let e=t.state.facet(Bt),n=t.state.facet(il);return e.moveToNextCell({cellId:n,before:!0,noCreate:!0}),!0}return!1}}]),Xe.of([{linux:"Ctrl-[",win:"Ctrl-[",run:t=>{let e=zt(t);return e?ui(e)?e.state.vim.insertMode?(be.exitInsertMode(e,!0),!0):!1:(Q.warn("Expected CodeMirror instance to have Vim state"),!1):(Q.warn("Expected CodeMirror instance to have CodeMirror instance state"),!1)}}]),fl.define(t=>(requestAnimationFrame(()=>{di.INSTANCES.addInstance(t)}),{destroy(){di.INSTANCES.removeInstance(t)}})),fl.define(t=>new Od({view:t})),Oa.domEventHandlers({keydown(t,e){return t.ctrlKey&&t.key==="Escape"?(e.dom.dispatchEvent(new KeyboardEvent(t.type,t)),!0):!1}})]}var qd=lt(()=>{be.defineAction("goToDefinition",t=>{let e=t.cm6;return ma(e)}),be.mapCommand("gd","action","goToDefinition",{},{context:"normal"}),be.defineEx("write","w",t=>{let e=t.cm6;e&&e.state.facet(Bt).saveNotebook()})}),Wd=lt(async()=>{var e;let t=(e=ot.get(hn).keymap)==null?void 0:e.vimrc;if(t)try{Q.log(`Loading vimrc from ${t}`);let n=(await Ua().sendFileDetails({path:t})).contents;if(!n){Q.error(`Failed to load vimrc from ${t}`);return}Yd(Hd(n,Q.warn))}catch(n){Q.error("Failed to load vimrc:",n)}});function Yd(t){function e(i){if(!i.args){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}if(!i.args.lhs||!i.args.rhs){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}i.mode?be.map(i.args.lhs,i.args.rhs,i.mode):be.map(i.args.lhs,i.args.rhs)}function n(i){if(!i.args){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}if(!i.args.lhs||!i.args.rhs){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}i.mode?be.noremap(i.args.lhs,i.args.rhs,i.mode):be.noremap(i.args.lhs,i.args.rhs)}function l(i){if(!i.args){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}if(!i.args.lhs){Q.warn(`Could not execute vimrc command "${i.name}: expected arguments"`);return}i.mode?be.unmap(i.args.lhs,i.mode):be.unmap(i.args.lhs)}function r(i){i.mode?be.mapclear(i.mode):be.mapclear()}for(let i of t)"map|nmap|vmap|imap".split("|").includes(i.name)?e(i):"noremap|nnoremap|vnoremap|inoremap".split("|").includes(i.name)?n(i):"unmap|nunmap|vunmap|iunmap".split("|").includes(i.name)?l(i):"mapclear|nmapclear|vmapclear|imapclear".split("|").includes(i.name)?r(i):Q.warn(`Could not execute vimrc command "${i.name}: unknown command"`)}var di=(ht=class{constructor(){Ae(this,"instances",new Set);Ae(this,"isBroadcasting",!1)}addInstance(e){this.instances.add(e);let n=zt(e);if(!n){Q.warn("Expected CodeMirror instance to have CodeMirror instance state");return}n.on("vim-mode-change",l=>{this.isBroadcasting||(mn("mode"in l,'Expected event to have a "mode" property'),this.isBroadcasting=!0,Vd(()=>{this.broadcastModeChange(e,l.mode,l.subMode),this.isBroadcasting=!1}))})}removeInstance(e){this.instances.delete(e)}broadcastModeChange(e,n,l){mn("exitInsertMode"in be,"Vim does not have an exitInsertMode method"),mn("exitVisualMode"in be,"Vim does not have an exitVisualMode method");for(let r of this.instances)if(r!==e){let i=zt(r);if(!i){Q.warn("Expected CodeMirror instance to have CodeMirror instance state");continue}let a=i.setSelections.bind(i);if(i.setSelections=()=>[],!ui(i)){Q.warn("Expected CodeMirror instance to have Vim state");continue}let o=i.state.vim;switch(n){case"normal":o.insertMode&&be.exitInsertMode(i,!0),o.visualMode&&be.exitVisualMode(i,!0);break;case"insert":o.insertMode||be.handleKey(i,"i","");break;case"visual":break}i.setSelections=a}}},Ae(ht,"INSTANCES",new ht),ht);function ui(t){return t.state.vim!==void 0}const Zd=["default","vim"];function Qd(t,e){switch(t.preset){case"default":return[Xe.of(mi()),Xe.of(hi(e))];case"vim":return[Xe.of(Xd()),Xe.of(hi(e)),Xe.of([{key:"Enter",run:n=>{var l,r;return(r=(l=zt(n))==null?void 0:l.state.vim)!=null&&r.insertMode?Ga(n):!1}}]),pl.high(eu("d",n=>n.state.doc.toString()==="",n=>n.state.doc.toString()===""?(n.state.facet(Bt).deleteCell(),!0):!1)),fa({status:!1}),pl.high(Ud())];default:return ka(t.preset),[]}}var Jd=new Set([xl,gl]),mi=lt(()=>Ha.filter(t=>!Jd.has(t.run))),hi=t=>[{key:t.getHotkey("cell.toggleComment").key,run:xl},{key:t.getHotkey("cell.toggleBlockComment").key,run:gl}],Xd=lt(()=>{let t=new Set(["Enter","Ctrl-v"]);return mi().filter(e=>!t.has(e.key||e.mac||e.linux||e.win||""))});function eu(t,e,n){let l="",r=0;return Xe.of([{any:(i,a)=>{let o=a.key,c=a.timeStamp;return o!==t||!e(i)?(l="",r=0,!1):l===t&&c-r<500&&n(i)?(l="",r=0,!0):(l=o,r=c,!1)}}])}function pi(){return["compact","medium","full","columns"]}var tu={openai:t=>{var e;return!!((e=t==null?void 0:t.open_ai)!=null&&e.api_key)},anthropic:t=>{var e;return!!((e=t==null?void 0:t.anthropic)!=null&&e.api_key)},google:t=>{var e;return!!((e=t==null?void 0:t.google)!=null&&e.api_key)},github:t=>{var e;return!!((e=t==null?void 0:t.github)!=null&&e.api_key)},openrouter:t=>{var e;return!!((e=t==null?void 0:t.openrouter)!=null&&e.api_key)},azure:t=>{var e,n;return!!((e=t==null?void 0:t.azure)!=null&&e.api_key&&((n=t==null?void 0:t.azure)!=null&&n.base_url))},wandb:t=>{var e;return!!((e=t==null?void 0:t.wandb)!=null&&e.api_key)},bedrock:t=>{var e;return!!((e=t==null?void 0:t.bedrock)!=null&&e.region_name)},ollama:t=>{var e;return!!((e=t==null?void 0:t.ollama)!=null&&e.base_url)},deepseek:()=>!1,marimo:()=>!1};function nu(t){for(let n of en)if(tu[n](t))return n;let e=t==null?void 0:t.custom_providers;if(e){let n=Object.entries(e).find(([l,r])=>r==null?void 0:r.base_url);if(n)return n[0]}}function lu(t){let e=nu(t);if(e)return ai().defaultModelByProvider.get(e)}function su(t){var i,a;let e={chatModel:void 0,editModel:void 0},n=!((i=t==null?void 0:t.models)!=null&&i.chat_model),l=!((a=t==null?void 0:t.models)!=null&&a.edit_model);if(!n&&!l)return e;let r=lu(t);return r&&(n&&(e.chatModel=r),l&&(e.editModel=r)),e}var ru=Ne();function fi(t){return t.toLowerCase().replaceAll("+","-").trim()}function iu(t,e){let n=t.getHotkeyGroups(),l=e?new Set(n[e]||[]):new Set,r=new Map;for(let o of t.iterate()){if(l.has(o))continue;let c=t.getHotkey(o);if(!c.key||c.key.trim()==="")continue;let d=fi(c.key);r.has(d)||r.set(d,[]);let u=r.get(d);u&&u.push({action:o,name:c.name})}let i=[],a=new Set;for(let[o,c]of r.entries())if(c.length>1){i.push({key:o,actions:c});for(let{action:d}of c)a.add(d)}return{duplicates:i,hasDuplicate:o=>a.has(o),getDuplicatesFor:o=>{let c=t.getHotkey(o);if(!c.key||c.key.trim()==="")return[];let d=fi(c.key),u=i.find(m=>m.key===d);return!u||u.actions.length<=1?[]:u.actions.filter(m=>m.action!==o).map(m=>m.action)}}}function au(t,e){let n=(0,ru.c)(3),l;return n[0]!==t||n[1]!==e?(l=iu(t,e),n[0]=t,n[1]=e,n[2]=l):l=n[2],l}var ou=Ne(),s=sl($a(),1);const cu=t=>{let e=(0,ou.c)(7),{duplicates:n}=t;if(n.length===0)return null;let l,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(kn,{className:"h-4 w-4"}),r=(0,s.jsx)(ec,{children:"Duplicate shortcuts"}),e[0]=l,e[1]=r):(l=e[0],r=e[1]);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)("p",{className:"mb-2",children:"Multiple actions are assigned to the same keyboard shortcut:"}),e[2]=i):i=e[2];let a;e[3]===n?a=e[4]:(a=n.map(uu),e[3]=n,e[4]=a);let o;return e[5]===a?o=e[6]:(o=(0,s.jsxs)(tc,{variant:"warning",className:"mb-4",children:[l,r,(0,s.jsxs)(Xo,{children:[i,(0,s.jsx)("ul",{className:"space-y-2",children:a})]})]}),e[5]=a,e[6]=o),o};function du(t){let{action:e,name:n}=t;return(0,s.jsx)("li",{children:n},e)}function uu(t){let{key:e,actions:n}=t;return(0,s.jsxs)("li",{className:"text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(Nn,{shortcut:e}),(0,s.jsx)("span",{className:"font-semibold",children:"is used by:"})]}),(0,s.jsx)("ul",{className:"ml-6 list-disc",children:n.map(du)})]},e)}const Yn=ct(!1),mu=()=>{let[t,e]=pt(Yn),[n,l]=(0,h.useState)(null),[r,i]=(0,h.useState)([]),[a,o]=ml(),c=dt(Pa),{saveUserConfig:d}=kt(),{duplicates:u,hasDuplicate:m,getDuplicatesFor:f}=au(c,"Markdown");za("global.showHelp",()=>e(k=>!k));let x=async k=>{let M={...a};o(j=>({...j,...k})),await d({config:k}).catch(j=>{throw o(M),j})},y=async k=>{if(!n)return;let M=k.join("-"),j={keymap:{...a.keymap,overrides:{...a.keymap.overrides,[n]:M}}};l(null),i([]),await x(j)},b=async()=>{if(!n)return;let k={keymap:{...a.keymap,overrides:{...a.keymap.overrides}}};delete k.keymap.overrides[n],l(null),i([]),await x(k)},v=async()=>{if(!window.confirm("Are you sure you want to reset all shortcuts to their default values?"))return;let k={keymap:{...a.keymap,overrides:{}}};l(null),i([]),await x(k)};if(!t)return null;let I=k=>{let M=c.getHotkey(k);if(n===k){let E=Na(k);return(0,s.jsxs)("div",{children:[(0,s.jsx)(Ye,{defaultValue:r.join("+"),placeholder:M.name,onKeyDown:N=>{N.preventDefault();let D=[];if(N.key==="Meta"||N.key==="Control"||N.key==="Alt"||N.key==="Shift"||(N.metaKey&&D.push(cl()?"Cmd":"Meta"),N.ctrlKey&&D.push("Ctrl"),N.altKey&&D.push("Alt"),N.shiftKey&&D.push("Shift"),N.key==="-"))return;if(N.key==="Escape"&&D.length===0){l(null),i([]);return}let K=N.key.toLowerCase();N.key===" "&&(K="Space"),D.push(K),y(D)},autoFocus:!0,endAdornment:(0,s.jsx)(ae,{variant:"text",size:"xs",className:"mb-0",onClick:()=>{l(null),i([])},children:(0,s.jsx)(fn,{className:"w-4 h-4"})})}),(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"Press a key combination"}),E.key!==M.key&&(0,s.jsxs)("span",{className:"text-xs cursor-pointer text-primary",onClick:b,children:["Reset to default:"," ",(0,s.jsx)("span",{className:"font-mono",children:E.key})]})]})]},k)}let j=m(k),_=j?f(k):[];return(0,s.jsxs)("div",{className:"grid grid-cols-[auto_2fr_3fr] gap-2 items-center",children:[c.isEditable(k)?(0,s.jsx)(Sl,{className:"cursor-pointer opacity-60 hover:opacity-100 text-muted-foreground w-3 h-3",onClick:()=>{i([]),l(k)}}):(0,s.jsx)("div",{className:"w-3 h-3"}),(0,s.jsx)(Nn,{className:"justify-end",shortcut:M.key}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{children:M.name.toLowerCase()}),j&&(0,s.jsxs)("div",{className:"group relative inline-flex",children:[(0,s.jsx)(kn,{className:"w-3 h-3 text-(--yellow-11)"}),(0,s.jsxs)("div",{className:"invisible group-hover:visible absolute left-0 top-5 z-10 w-max max-w-xs rounded-md bg-(--yellow-2) border border-(--yellow-7) p-2 text-xs text-(--yellow-11) shadow-md",children:["Also used by:"," ",_.map(E=>c.getHotkey(E).name.toLowerCase()).join(", ")]})]})]})]},k)},p=c.getHotkeyGroups(),g=(k,M)=>{let j=p[k];return(0,s.jsxs)("div",{className:"mb-[40px] gap-2 flex flex-col",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:k}),M]}),j.map(I)]})};return(0,s.jsx)(_o,{open:t,onOpenChange:k=>e(k),children:(0,s.jsxs)(Do,{className:"sm:items-center sm:top-0",children:[(0,s.jsx)(Eo,{}),(0,s.jsxs)(Mo,{usePortal:!1,className:"max-h-screen sm:max-h-[90vh] overflow-y-auto sm:max-w-[850px]",children:[(0,s.jsx)(Io,{children:(0,s.jsx)(Ko,{children:"Shortcuts"})}),(0,s.jsx)(cu,{duplicates:u}),(0,s.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,s.jsxs)("div",{className:"w-1/2",children:[g("Editing"),g("Markdown")]}),(0,s.jsxs)("div",{className:"w-1/2",children:[g("Navigation"),g("Running Cells"),g("Creation and Ordering"),(k=>g(k,(0,s.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["Press"," ",a.keymap.preset==="vim"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Nn,{shortcut:cl()?"Cmd":"Ctrl"}),(0,s.jsx)(oe,{children:"Esc"})]}):(0,s.jsx)(oe,{children:"Esc"})," ","in a cell to enter command mode"]})))("Command"),g("Other"),(0,s.jsx)(ae,{className:"mt-4 hover:bg-destructive/10 border-destructive hover:border-destructive",variant:"outline",size:"xs",onClick:v,tabIndex:-1,children:(0,s.jsx)("span",{className:"text-destructive",children:"Reset all to default"})})]})]})]})]})})};var gi="marimo:copilot:signedIn";const xi=xa(gi,null,ya,{getOnInit:!0}),yi=ct(null),nn=ct(null),Zn=ct({busy:!1,kind:null,message:null});function hu(t){ot.set(nn,t)}function pu(t){ot.get(nn)===t&&ot.set(nn,null)}function fu(){return oa.getItem(gi)==="true"}function vi(){let t=fu(),e=Ea();return t&&e.completion.copilot==="github"}function gu(){return ea(hn,t=>t.completion.copilot==="github")}var xu=da(),Ie=Q.get("@github/copilot-language-server"),yu=class extends ca{constructor(e){super(e);Ae(this,"documentVersion",0);Ae(this,"hasOpenedDocument",!1);Ae(this,"copilotSettings",{});Ae(this,"getCompletionInternal",async(e,n)=>await this._request("textDocument/inlineCompletion",{...e,textDocument:{...e.textDocument,version:n}}));Ae(this,"throttledGetCompletionInternal",oc(this.getCompletionInternal,200));Ae(this,"handleNotification",e=>{if(!e.params)return;let n=e;if(n.method==="statusNotification"&&ot.set(Zn,n.params),n.method==="didChangeStatus"&&ot.set(Zn,n.params),n.method==="window/logMessage"){let{type:l,message:r}=n.params;switch(l){case 1:Ie.error("[GitHub Copilot]",r);break;case 2:Ie.warn("[GitHub Copilot]",r);break;case 3:Ie.debug("[GitHub Copilot]",r);break;default:Ie.log("[GitHub Copilot]",r);break}}});this.copilotSettings=e.copilotSettings??{},this.onNotification(this.handleNotification),this.attachInitializeListener()}attachInitializeListener(){this.initializePromise.then(()=>{this.sendConfiguration()})}async sendConfiguration(){let e=this.copilotSettings;!e||Object.keys(e).length===0||(await this.notify("workspace/didChangeConfiguration",{settings:e}),Ie.debug("#sendConfiguration: Configuration sent",e))}async _request(e,n){return await this.request(e,n)}async notify(e,n){return Ie.debug("#notify",e,n),super.notify(e,n)}getInitializationOptions(){let e={name:"marimo",version:"0.1.0"};return{...super.getInitializationOptions(),workspaceFolders:[],capabilities:{workspace:{workspaceFolders:!1}},initializationOptions:{editorInfo:e,editorPluginInfo:e}}}isDisabled(){return!vi()}async textDocumentDidOpen(e){return this.isDisabled()?e:(this.hasOpenedDocument=!0,super.textDocumentDidOpen(e))}async textDocumentCompletion(e){return[]}async textDocumentDidChange(e){if(this.isDisabled())return e;this.hasOpenedDocument||await this.textDocumentDidOpen({textDocument:{uri:e.textDocument.uri,languageId:"python",version:e.textDocument.version,text:e.contentChanges[0].text}});let n=e.contentChanges;n.length!==1&&Ie.warn("#textDocumentDidChange: Multiple changes detected. This is not supported.",n);let l=n[0];"range"in l&&Ie.warn("#textDocumentDidChange: Copilot doesn't support range changes.",l);let r=na(l.text);return super.textDocumentDidChange({...e,contentChanges:[{text:r}],textDocument:xu.VersionedTextDocumentIdentifier.create(e.textDocument.uri,++this.documentVersion)})}textDocumentHover(e){return Promise.resolve({contents:[]})}signOut(){return this._request("signOut",{})}async signInInitiate(){Ie.log("#signInInitiate: Starting sign-in flow");try{let e=await this._request("signIn",{});return Ie.log("#signInInitiate: Sign-in flow started successfully"),e}catch(e){throw Ie.warn("#signInInitiate: Failed to start sign-in flow",e),e}}async signInConfirm(e){Ie.log("#signInConfirm: Confirming sign-in");try{let n=await this._request("signInConfirm",e);return Ie.log("#signInConfirm: Sign-in confirmed successfully"),n}catch(n){throw Ie.warn("#signInConfirm: Failed to confirm sign-in",n),n}}async signedIn(){try{let{status:e}=await this._request("checkStatus",{});return Ie.log("#checkStatus: Status check completed",{status:e}),e==="SignedIn"||e==="AlreadySignedIn"||e==="OK"}catch(e){throw Ie.warn("#signedIn: Failed to check sign-in status",e),e}}async getCompletion(e){if(this.isDisabled())return null;let n=this.documentVersion;if(e.textDocument.version=n,n===0)return null;hu(n);let l=await this.throttledGetCompletionInternal(e,n);return pu(n),n===this.documentVersion?l??null:null}},vu=ua(),bu=la(),ju=class extends bu.Transport{constructor(e){super();Ae(this,"pendingSubscriptions",[]);this.delegate=void 0,this.pendingSubscriptions=[],this.options={retries:e.retries??3,retryDelayMs:e.retryDelayMs??1e3,maxTimeoutMs:e.maxTimeoutMs??5e3,getWsUrl:e.getWsUrl,waitForReady:e.waitForReady,showError:e.showError}}subscribe(...e){super.subscribe(...e);let[n,l]=e;this.pendingSubscriptions.push({event:n,handler:l}),this.delegate&&this.delegate.subscribe(n,l)}unsubscribe(...e){let n=super.unsubscribe(...e),[l,r]=e;if(this.delegate&&this.delegate.unsubscribe(l,r),r)if(l){let i=this.pendingSubscriptions.findIndex(a=>a.event===l&&a.handler===r);i>-1&&this.pendingSubscriptions.splice(i,1)}else this.pendingSubscriptions=this.pendingSubscriptions.filter(i=>i.handler!==r);else l?this.pendingSubscriptions=this.pendingSubscriptions.filter(i=>i.event!==l):this.pendingSubscriptions=[];return n}createDelegate(){let e=new vu.WebSocketTransport(this.options.getWsUrl());for(let{event:n,handler:l}of this.pendingSubscriptions)e.subscribe(n,l);return e}async tryConnect(){for(let e=1;e<=this.options.retries;e++)try{this.delegate||(this.delegate=this.createDelegate()),await this.delegate.connect(),Q.log("Copilot#connect: Connected successfully");return}catch(n){if(Q.warn(`Copilot#connect: Connection attempt ${e}/${this.options.retries} failed`,n),e===this.options.retries)throw this.delegate=void 0,this.options.showError("GitHub Copilot Connection Error",`Failed to connect to GitHub Copilot. Please check your settings and try again.

`+Wo(n)),n;await new Promise(l=>setTimeout(l,this.options.retryDelayMs))}}async connect(){return await this.options.waitForReady(),this.tryConnect()}close(){var e;(e=this.delegate)==null||e.close(),this.delegate=void 0}async sendData(e,n){if(!this.delegate){Q.log("Copilot#sendData: Delegate not initialized, reconnecting...");try{await this.options.waitForReady(),await this.tryConnect()}catch(l){throw Q.error("Copilot#sendData: Failed to reconnect transport",l),Error("Unable to connect to GitHub Copilot. Please check your settings and try again.")}}if(!this.delegate)throw Error("Failed to initialize GitHub Copilot connection. Please try again.");return n=Math.min(n??this.options.maxTimeoutMs,this.options.maxTimeoutMs),this.delegate.sendData(e,n)}};const bi="/__marimo_copilot__.py";var ji=`file://${bi}`;const ku=lt(()=>{let t=Ta();return new ju({getWsUrl:()=>t.getLSPURL("copilot").toString(),waitForReady:async()=>{await gu(),await Aa()},showError:(e,n)=>{He({variant:"danger",title:e,description:n})}})}),Pt=lt(()=>{var e,n;let t=((n=(e=ot.get(hn).ai)==null?void 0:e.github)==null?void 0:n.copilot_settings)??{};return new yu({rootUri:ji,workspaceFolders:null,transport:ku(),copilotSettings:t})});function wu(){return va({documentUri:ji,client:Pt(),languageId:"copilot",hoverEnabled:!1,completionEnabled:!1,definitionEnabled:!1,renameEnabled:!1,codeActionsEnabled:!1,signatureHelpEnabled:!1,diagnosticsEnabled:!1,sendIncrementalChanges:!1})}const ki=(0,h.memo)(()=>{let[t,e]=pt(xi),[n,l]=pt(yi),[r,i]=(0,h.useState)(),[a,o]=(0,h.useState)(!1),c=async m=>{m.preventDefault(),o(!0);try{let f=await Nu();if(!(f!=null&&f.verificationUri)||!f.userCode){Q.error("Copilot#trySignIn: Invalid response from sign-in",{result:f}),l("connectionError"),He({title:"GitHub Copilot Connection Error",description:"Unable to connect to GitHub Copilot. Please check your settings and try again.",variant:"danger"});return}let{verificationUri:x,status:y,userCode:b}=f;Ni(y)?e(!0):(l("signingIn"),i({url:x,code:b}))}catch(f){Q.error("Copilot#trySignIn: Error during sign-in",f),l("connectionError"),He({title:"GitHub Copilot Connection Error",description:f instanceof Error?f.message:"Unable to connect to GitHub Copilot. Please check your settings and try again.",variant:"danger"})}finally{o(!1)}},d=async m=>{if(m.preventDefault(),r){o(!0);try{let f=await Su(r.code);f.success?(e(!0),l("signedIn")):f.error==="connection"?(l("connectionError"),He({title:"GitHub Copilot Connection Error",description:"Lost connection during sign-in. Please try again.",variant:"danger",action:(0,s.jsx)(ae,{onClick:c,children:"Retry"})})):l("signInFailed")}finally{o(!1)}}},u=async m=>{m.preventDefault(),await Ku(),e(!1),l("signedOut")};return(()=>{switch(n??(t?"signedIn":"connecting")){case"connecting":return(0,s.jsx)(Ze,{className:"font-normal flex",children:"Connecting..."});case"signedOut":return(0,s.jsx)(ae,{onClick:c,size:"xs",variant:"link",children:"Sign in to GitHub Copilot"});case"signingIn":return(0,s.jsxs)("ol",{className:"ml-4 text-sm list-decimal [&>li]:mt-2",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center",children:["Copy this code:",(0,s.jsx)("strong",{className:"ml-2",children:r==null?void 0:r.code}),(0,s.jsx)(io,{className:"ml-2 cursor-pointer opacity-60 hover:opacity-100 h-3 w-3",onClick:async()=>{r&&(await Yo(r.code),He({description:"Copied to clipboard"}))}})]})}),(0,s.jsxs)("li",{children:["Enter the code at this link:",(0,s.jsx)("a",{href:r==null?void 0:r.url,target:"_blank",rel:"noreferrer",className:Va({variant:"link",size:"xs"}),children:r==null?void 0:r.url})]}),(0,s.jsxs)("li",{children:["Click here when done:",(0,s.jsxs)(ae,{size:"xs",onClick:d,className:"ml-1",children:[a&&(0,s.jsx)($t,{className:"h-3 w-3 mr-1 animate-spin"}),"Done"]})]})]});case"signInFailed":return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-destructive text-sm",children:"Sign in failed. Please try again."}),a?(0,s.jsx)($t,{className:"h-3 w-3 mr-1 animate-spin"}):(0,s.jsx)(ae,{onClick:c,size:"xs",variant:"link",children:"Connect to GitHub Copilot"})]});case"signedIn":return(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)(Ze,{className:"font-normal flex items-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center bg-(--grass-7) rounded-full p-1 mr-2",children:(0,s.jsx)(qa,{className:"h-3 w-3 text-white"})}),"Connected"]}),(0,s.jsx)(ae,{onClick:u,size:"xs",variant:"text",children:"Disconnect"})]});case"connectionError":return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)(Ze,{className:"font-normal flex",children:[(0,s.jsx)(fn,{className:"h-4 w-4 mr-1"}),"Connection Error"]}),(0,s.jsx)("div",{className:"text-sm",children:"Unable to connect to GitHub Copilot."}),(0,s.jsx)(ae,{onClick:c,size:"xs",variant:"link",children:"Retry Connection"})]});case"notConnected":return(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)(Ze,{className:"font-normal flex",children:[(0,s.jsx)(fn,{className:"h-4 w-4 mr-1"}),"Unable to connect"]}),(0,s.jsxs)("div",{className:"text-sm",children:["For troubleshooting, see the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/getting_started/index.html#github-copilot",children:"docs"}),"."]})]})}})()});ki.displayName="CopilotConfig";var wi=5,Cu=3e3;async function Nu(){return await Pt().signInInitiate()}async function Su(t){let e=Pt();try{Q.log("Copilot#tryFinishSignIn: Attempting to confirm sign-in");let{status:n}=await e.signInConfirm({userCode:t});return Ni(n)?(Q.log("Copilot#tryFinishSignIn: Sign-in confirmed successfully"),{success:!0}):(Q.warn("Copilot#tryFinishSignIn: Sign-in confirmation returned unexpected status",{status:n}),{success:!1})}catch(n){return Ci(n)?(Q.error("Copilot#tryFinishSignIn: Connection error during sign-in",n),{success:!1,error:"connection"}):await Iu(e)}}async function Iu(t){for(let e=0;e<wi;e++)try{if(await new Promise(n=>setTimeout(n,Cu)),await t.signedIn())return Q.log("Copilot#tryFinishSignIn: Successfully signed in after retry"),{success:!0}}catch(n){if(Q.warn("Copilot#tryFinishSignIn: Retry attempt failed",{attempt:e+1,maxRetries:wi}),Ci(n))return{success:!1,error:"connection"}}return Q.error("Copilot#tryFinishSignIn: All sign-in attempts failed"),{success:!1}}async function Ku(){await Pt().signOut()}function Ci(t){return t instanceof Error&&(t.message.includes("ECONNREFUSED")||t.message.includes("WebSocket")||t.message.includes("network"))}function Ni(t){return t==="SignedIn"||t==="AlreadySignedIn"||t==="OK"}var Si="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eAnthropic%3c/title%3e%3cpath%20d='M17.3041%203.541h-3.6718l6.696%2016.918H24Zm-10.6082%200L0%2020.459h3.7442l1.3693-3.5527h7.0052l1.3693%203.5528h3.7442L10.5363%203.5409Zm-.3712%2010.2232%202.2914-5.9456%202.2914%205.9456Z'/%3e%3c/svg%3e",Mu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20y='0'%20x='0'%20id='Layer_1'%20version='1.1'%20viewBox='0%200%20300.67%20179.8'%3e%3cstyle%20id='style1855'%20type='text/css'%3e.st1{fill-rule:evenodd;clip-rule:evenodd;fill:%23f90}%3c/style%3e%3cg%20transform='translate(-1.668%20-1.1)'%20id='g1865'%3e%3cpath%20id='path1857'%20d='M86.4%2066.4c0%203.7.4%206.7%201.1%208.9.8%202.2%201.8%204.6%203.2%207.2.5.8.7%201.6.7%202.3%200%201-.6%202-1.9%203L83.2%2092c-.9.6-1.8.9-2.6.9-1%200-2-.5-3-1.4-1.4-1.5-2.6-3.1-3.6-4.7-1-1.7-2-3.6-3.1-5.9-7.8%209.2-17.6%2013.8-29.4%2013.8-8.4%200-15.1-2.4-20-7.2-4.9-4.8-7.4-11.2-7.4-19.2%200-8.5%203-15.4%209.1-20.6%206.1-5.2%2014.2-7.8%2024.5-7.8%203.4%200%206.9.3%2010.6.8%203.7.5%207.5%201.3%2011.5%202.2v-7.3c0-7.6-1.6-12.9-4.7-16-3.2-3.1-8.6-4.6-16.3-4.6-3.5%200-7.1.4-10.8%201.3-3.7.9-7.3%202-10.8%203.4-1.6.7-2.8%201.1-3.5%201.3-.7.2-1.2.3-1.6.3-1.4%200-2.1-1-2.1-3.1v-4.9c0-1.6.2-2.8.7-3.5.5-.7%201.4-1.4%202.8-2.1%203.5-1.8%207.7-3.3%2012.6-4.5C41%201.9%2046.2%201.3%2051.7%201.3c11.9%200%2020.6%202.7%2026.2%208.1%205.5%205.4%208.3%2013.6%208.3%2024.6v32.4zM45.8%2081.6c3.3%200%206.7-.6%2010.3-1.8%203.6-1.2%206.8-3.4%209.5-6.4%201.6-1.9%202.8-4%203.4-6.4.6-2.4%201-5.3%201-8.7v-4.2c-2.9-.7-6-1.3-9.2-1.7-3.2-.4-6.3-.6-9.4-.6-6.7%200-11.6%201.3-14.9%204-3.3%202.7-4.9%206.5-4.9%2011.5%200%204.7%201.2%208.2%203.7%2010.6%202.4%202.5%205.9%203.7%2010.5%203.7zm80.3%2010.8c-1.8%200-3-.3-3.8-1-.8-.6-1.5-2-2.1-3.9L96.7%2010.2c-.6-2-.9-3.3-.9-4%200-1.6.8-2.5%202.4-2.5h9.8c1.9%200%203.2.3%203.9%201%20.8.6%201.4%202%202%203.9l16.8%2066.2%2015.6-66.2c.5-2%201.1-3.3%201.9-3.9.8-.6%202.2-1%204-1h8c1.9%200%203.2.3%204%201%20.8.6%201.5%202%201.9%203.9l15.8%2067%2017.3-67c.6-2%201.3-3.3%202-3.9.8-.6%202.1-1%203.9-1h9.3c1.6%200%202.5.8%202.5%202.5%200%20.5-.1%201-.2%201.6-.1.6-.3%201.4-.7%202.5l-24.1%2077.3c-.6%202-1.3%203.3-2.1%203.9-.8.6-2.1%201-3.8%201h-8.6c-1.9%200-3.2-.3-4-1-.8-.7-1.5-2-1.9-4L156%2023l-15.4%2064.4c-.5%202-1.1%203.3-1.9%204-.8.7-2.2%201-4%201zm128.5%202.7c-5.2%200-10.4-.6-15.4-1.8-5-1.2-8.9-2.5-11.5-4-1.6-.9-2.7-1.9-3.1-2.8-.4-.9-.6-1.9-.6-2.8v-5.1c0-2.1.8-3.1%202.3-3.1.6%200%201.2.1%201.8.3.6.2%201.5.6%202.5%201%203.4%201.5%207.1%202.7%2011%203.5%204%20.8%207.9%201.2%2011.9%201.2%206.3%200%2011.2-1.1%2014.6-3.3%203.4-2.2%205.2-5.4%205.2-9.5%200-2.8-.9-5.1-2.7-7-1.8-1.9-5.2-3.6-10.1-5.2L246%2052c-7.3-2.3-12.7-5.7-16-10.2-3.3-4.4-5-9.3-5-14.5%200-4.2.9-7.9%202.7-11.1%201.8-3.2%204.2-6%207.2-8.2%203-2.3%206.4-4%2010.4-5.2%204-1.2%208.2-1.7%2012.6-1.7%202.2%200%204.5.1%206.7.4%202.3.3%204.4.7%206.5%201.1%202%20.5%203.9%201%205.7%201.6%201.8.6%203.2%201.2%204.2%201.8%201.4.8%202.4%201.6%203%202.5.6.8.9%201.9.9%203.3v4.7c0%202.1-.8%203.2-2.3%203.2-.8%200-2.1-.4-3.8-1.2-5.7-2.6-12.1-3.9-19.2-3.9-5.7%200-10.2.9-13.3%202.8-3.1%201.9-4.7%204.8-4.7%208.9%200%202.8%201%205.2%203%207.1%202%201.9%205.7%203.8%2011%205.5l14.2%204.5c7.2%202.3%2012.4%205.5%2015.5%209.6%203.1%204.1%204.6%208.8%204.6%2014%200%204.3-.9%208.2-2.6%2011.6-1.8%203.4-4.2%206.4-7.3%208.8-3.1%202.5-6.8%204.3-11.1%205.6-4.5%201.4-9.2%202.1-14.3%202.1z'%20fill='%23252f3e'/%3e%3cg%20id='g1863'%3e%3cpath%20id='path1859'%20d='M273.5%20143.7c-32.9%2024.3-80.7%2037.2-121.8%2037.2-57.6%200-109.5-21.3-148.7-56.7-3.1-2.8-.3-6.6%203.4-4.4%2042.4%2024.6%2094.7%2039.5%20148.8%2039.5%2036.5%200%2076.6-7.6%20113.5-23.2%205.5-2.5%2010.2%203.6%204.8%207.6z'%20class='st1'/%3e%3cpath%20id='path1861'%20d='M287.2%20128.1c-4.2-5.4-27.8-2.6-38.5-1.3-3.2.4-3.7-2.4-.8-4.5%2018.8-13.2%2049.7-9.4%2053.3-5%203.6%204.5-1%2035.4-18.6%2050.2-2.7%202.3-5.3%201.1-4.1-1.9%204-9.9%2012.9-32.2%208.7-37.5z'%20class='st1'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Eu="data:image/svg+xml,%3csvg%20width='150'%20height='150'%20viewBox='0%200%2096%2096'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='e399c19f-b68f-429d-b176-18c2117ff73c'%20x1='-1032.172'%20x2='-1059.213'%20y1='145.312'%20y2='65.426'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23114a8b'/%3e%3cstop%20offset='1'%20stop-color='%230669bc'/%3e%3c/linearGradient%3e%3clinearGradient%20id='ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15'%20x1='-1023.725'%20x2='-1029.98'%20y1='108.083'%20y2='105.968'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-opacity='.3'/%3e%3cstop%20offset='.071'%20stop-opacity='.2'/%3e%3cstop%20offset='.321'%20stop-opacity='.1'/%3e%3cstop%20offset='.623'%20stop-opacity='.05'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='a7fee970-a784-4bb1-af8d-63d18e5f7db9'%20x1='-1027.165'%20x2='-997.482'%20y1='147.642'%20y2='68.561'%20gradientTransform='matrix(1%200%200%20-1%201075%20158)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%233ccbf4'/%3e%3cstop%20offset='1'%20stop-color='%232892df'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23e399c19f-b68f-429d-b176-18c2117ff73c)'%20d='M33.338%206.544h26.038l-27.03%2080.087a4.152%204.152%200%200%201-3.933%202.824H8.149a4.145%204.145%200%200%201-3.928-5.47L29.404%209.368a4.152%204.152%200%200%201%203.934-2.825z'/%3e%3cpath%20fill='%230078d4'%20d='M71.175%2060.261h-41.29a1.911%201.911%200%200%200-1.305%203.309l26.532%2024.764a4.171%204.171%200%200%200%202.846%201.121h23.38z'/%3e%3cpath%20fill='url(%23ac2a6fc2-ca48-4327-9a3c-d4dcc3256e15)'%20d='M33.338%206.544a4.118%204.118%200%200%200-3.943%202.879L4.252%2083.917a4.14%204.14%200%200%200%203.908%205.538h20.787a4.443%204.443%200%200%200%203.41-2.9l5.014-14.777%2017.91%2016.705a4.237%204.237%200%200%200%202.666.972H81.24L71.024%2060.261l-29.781.007L59.47%206.544z'/%3e%3cpath%20fill='url(%23a7fee970-a784-4bb1-af8d-63d18e5f7db9)'%20d='M66.595%209.364a4.145%204.145%200%200%200-3.928-2.82H33.648a4.146%204.146%200%200%201%203.928%202.82l25.184%2074.62a4.146%204.146%200%200%201-3.928%205.472h29.02a4.146%204.146%200%200%200%203.927-5.472z'/%3e%3c/svg%3e",Du="data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDeepSeek%3c/title%3e%3cpath%20d='M23.748%204.482c-.254-.124-.364.113-.512.234-.051.039-.094.09-.137.136-.372.397-.806.657-1.373.626-.829-.046-1.537.214-2.163.848-.133-.782-.575-1.248-1.247-1.548-.352-.156-.708-.311-.955-.65-.172-.241-.219-.51-.305-.774-.055-.16-.11-.323-.293-.35-.2-.031-.278.136-.356.276-.313.572-.434%201.202-.422%201.84.027%201.436.633%202.58%201.838%203.393.137.093.172.187.129.323-.082.28-.18.552-.266.833-.055.179-.137.217-.329.14a5.526%205.526%200%2001-1.736-1.18c-.857-.828-1.631-1.742-2.597-2.458a11.365%2011.365%200%2000-.689-.471c-.985-.957.13-1.743.388-1.836.27-.098.093-.432-.779-.428-.872.004-1.67.295-2.687.684a3.055%203.055%200%2001-.465.137%209.597%209.597%200%2000-2.883-.102c-1.885.21-3.39%201.102-4.497%202.623C.082%208.606-.231%2010.684.152%2012.85c.403%202.284%201.569%204.175%203.36%205.653%201.858%201.533%203.997%202.284%206.438%202.14%201.482-.085%203.133-.284%204.994-1.86.47.234.962.327%201.78.397.63.059%201.236-.03%201.705-.128.735-.156.684-.837.419-.961-2.155-1.004-1.682-.595-2.113-.926%201.096-1.296%202.746-2.642%203.392-7.003.05-.347.007-.565%200-.845-.004-.17.035-.237.23-.256a4.173%204.173%200%20001.545-.475c1.396-.763%201.96-2.015%202.093-3.517.02-.23-.004-.467-.247-.588zM11.581%2018c-2.089-1.642-3.102-2.183-3.52-2.16-.392.024-.321.471-.235.763.09.288.207.486.371.739.114.167.192.416-.113.603-.673.416-1.842-.14-1.897-.167-1.361-.802-2.5-1.86-3.301-3.307-.774-1.393-1.224-2.887-1.298-4.482-.02-.386.093-.522.477-.592a4.696%204.696%200%20011.529-.039c2.132.312%203.946%201.265%205.468%202.774.868.86%201.525%201.887%202.202%202.891.72%201.066%201.494%202.082%202.48%202.914.348.292.625.514.891.677-.802.09-2.14.11-3.054-.614zm1-6.44a.306.306%200%2001.415-.287.302.302%200%2001.2.288.306.306%200%2001-.31.307.303.303%200%2001-.304-.308zm3.11%201.596c-.2.081-.399.151-.59.16a1.245%201.245%200%2001-.798-.254c-.274-.23-.47-.358-.552-.758a1.73%201.73%200%2001.016-.588c.07-.327-.008-.537-.239-.727-.187-.156-.426-.199-.688-.199a.559.559%200%2001-.254-.078c-.11-.054-.2-.19-.114-.358.028-.054.16-.186.192-.21.356-.202.767-.136%201.146.016.352.144.618.408%201.001.782.391.451.462.576.685.914.176.265.336.537.445.848.067.195-.019.354-.25.452z'%3e%3c/path%3e%3c/svg%3e",_u="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGitHub%3c/title%3e%3cpath%20d='M12%20.297c-6.63%200-12%205.373-12%2012%200%205.303%203.438%209.8%208.205%2011.385.6.113.82-.258.82-.577%200-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422%2018.07%203.633%2017.7%203.633%2017.7c-1.087-.744.084-.729.084-.729%201.205.084%201.838%201.236%201.838%201.236%201.07%201.835%202.809%201.305%203.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93%200-1.31.465-2.38%201.235-3.22-.135-.303-.54-1.523.105-3.176%200%200%201.005-.322%203.3%201.23.96-.267%201.98-.399%203-.405%201.02.006%202.04.138%203%20.405%202.28-1.552%203.285-1.23%203.285-1.23.645%201.653.24%202.873.12%203.176.765.84%201.23%201.91%201.23%203.22%200%204.61-2.805%205.625-5.475%205.92.42.36.81%201.096.81%202.22%200%201.606-.015%202.896-.015%203.286%200%20.315.21.69.825.57C20.565%2022.092%2024%2017.592%2024%2012.297c0-6.627-5.373-12-12-12'/%3e%3c/svg%3e",Ii="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGoogle%20Gemini%3c/title%3e%3cpath%20d='M11.04%2019.32Q12%2021.51%2012%2024q0-2.49.93-4.68.96-2.19%202.58-3.81t3.81-2.55Q21.51%2012%2024%2012q-2.49%200-4.68-.93a12.3%2012.3%200%200%201-3.81-2.58%2012.3%2012.3%200%200%201-2.58-3.81Q12%202.49%2012%200q0%202.49-.96%204.68-.93%202.19-2.55%203.81a12.3%2012.3%200%200%201-3.81%202.58Q2.49%2012%200%2012q2.49%200%204.68.96%202.19.93%203.81%202.55t2.55%203.81'/%3e%3c/svg%3e",Pu="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOllama%3c/title%3e%3cpath%20d='M16.361%2010.26a.894.894%200%200%200-.558.47l-.072.148.001.207c0%20.193.004.217.059.353.076.193.152.312.291.448.24.238.51.3.872.205a.86.86%200%200%200%20.517-.436.752.752%200%200%200%20.08-.498c-.064-.453-.33-.782-.724-.897a1.06%201.06%200%200%200-.466%200zm-9.203.005c-.305.096-.533.32-.65.639a1.187%201.187%200%200%200-.06.52c.057.309.31.59.598.667.362.095.632.033.872-.205.14-.136.215-.255.291-.448.055-.136.059-.16.059-.353l.001-.207-.072-.148a.894.894%200%200%200-.565-.472%201.02%201.02%200%200%200-.474.007Zm4.184%202c-.131.071-.223.25-.195.383.031.143.157.288.353.407.105.063.112.072.117.136.004.038-.01.146-.029.243-.02.094-.036.194-.036.222.002.074.07.195.143.253.064.052.076.054.255.059.164.005.198.001.264-.03.169-.082.212-.234.15-.525-.052-.243-.042-.28.087-.355.137-.08.281-.219.324-.314a.365.365%200%200%200-.175-.48.394.394%200%200%200-.181-.033c-.126%200-.207.03-.355.124l-.085.053-.053-.032c-.219-.13-.259-.145-.391-.143a.396.396%200%200%200-.193.032zm.39-2.195c-.373.036-.475.05-.654.086-.291.06-.68.195-.951.328-.94.46-1.589%201.226-1.787%202.114-.04.176-.045.234-.045.53%200%20.294.005.357.043.524.264%201.16%201.332%202.017%202.714%202.173.3.033%201.596.033%201.896%200%201.11-.125%202.064-.727%202.493-1.571.114-.226.169-.372.22-.602.039-.167.044-.23.044-.523%200-.297-.005-.355-.045-.531-.288-1.29-1.539-2.304-3.072-2.497a6.873%206.873%200%200%200-.855-.031zm.645.937a3.283%203.283%200%200%201%201.44.514c.223.148.537.458.671.662.166.251.26.508.303.82.02.143.01.251-.043.482-.08.345-.332.705-.672.957a3.115%203.115%200%200%201-.689.348c-.382.122-.632.144-1.525.138-.582-.006-.686-.01-.853-.042-.57-.107-1.022-.334-1.35-.68-.264-.28-.385-.535-.45-.946-.03-.192.025-.509.137-.776.136-.326.488-.73.836-.963.403-.269.934-.46%201.422-.512.187-.02.586-.02.773-.002zm-5.503-11a1.653%201.653%200%200%200-.683.298C5.617.74%205.173%201.666%204.985%202.819c-.07.436-.119%201.04-.119%201.503%200%20.544.064%201.24.155%201.721.02.107.031.202.023.208a8.12%208.12%200%200%201-.187.152%205.324%205.324%200%200%200-.949%201.02%205.49%205.49%200%200%200-.94%202.339%206.625%206.625%200%200%200-.023%201.357c.091.78.325%201.438.727%202.04l.13.195-.037.064c-.269.452-.498%201.105-.605%201.732-.084.496-.095.629-.095%201.294%200%20.67.009.803.088%201.266.095.555.288%201.143.503%201.534.071.128.243.393.264.407.007.003-.014.067-.046.141a7.405%207.405%200%200%200-.548%201.873c-.062.417-.071.552-.071.991%200%20.56.031.832.148%201.279L3.42%2024h1.478l-.05-.091c-.297-.552-.325-1.575-.068-2.597.117-.472.25-.819.498-1.296l.148-.29v-.177c0-.165-.003-.184-.057-.293a.915.915%200%200%200-.194-.25%201.74%201.74%200%200%201-.385-.543c-.424-.92-.506-2.286-.208-3.451.124-.486.329-.918.544-1.154a.787.787%200%200%200%20.223-.531c0-.195-.07-.355-.224-.522a3.136%203.136%200%200%201-.817-1.729c-.14-.96.114-2.005.69-2.834.563-.814%201.353-1.336%202.237-1.475.199-.033.57-.028.776.01.226.04.367.028.512-.041.179-.085.268-.19.374-.431.093-.215.165-.333.36-.576.234-.29.46-.489.822-.729.413-.27.884-.467%201.352-.561.17-.035.25-.04.569-.04.319%200%20.398.005.569.04a4.07%204.07%200%200%201%201.914.997c.117.109.398.457.488.602.034.057.095.177.132.267.105.241.195.346.374.43.14.068.286.082.503.045.343-.058.607-.053.943.016%201.144.23%202.14%201.173%202.581%202.437.385%201.108.276%202.267-.296%203.153-.097.15-.193.27-.333.419-.301.322-.301.722-.001%201.053.493.539.801%201.866.708%203.036-.062.772-.26%201.463-.533%201.854a2.096%202.096%200%200%201-.224.258.916.916%200%200%200-.194.25c-.054.109-.057.128-.057.293v.178l.148.29c.248.476.38.823.498%201.295.253%201.008.231%202.01-.059%202.581a.845.845%200%200%200-.044.098c0%20.006.329.009.732.009h.73l.02-.074.036-.134c.019-.076.057-.3.088-.516.029-.217.029-1.016%200-1.258-.11-.875-.295-1.57-.597-2.226-.032-.074-.053-.138-.046-.141.008-.005.057-.074.108-.152.376-.569.607-1.284.724-2.228.031-.26.031-1.378%200-1.628-.083-.645-.182-1.082-.348-1.525a6.083%206.083%200%200%200-.329-.7l-.038-.064.131-.194c.402-.604.636-1.262.727-2.04a6.625%206.625%200%200%200-.024-1.358%205.512%205.512%200%200%200-.939-2.339%205.325%205.325%200%200%200-.95-1.02%208.097%208.097%200%200%201-.186-.152.692.692%200%200%201%20.023-.208c.208-1.087.201-2.443-.017-3.503-.19-.924-.535-1.658-.98-2.082-.354-.338-.716-.482-1.15-.455-.996.059-1.8%201.205-2.116%203.01a6.805%206.805%200%200%200-.097.726c0%20.036-.007.066-.015.066a.96.96%200%200%201-.149-.078A4.857%204.857%200%200%200%2012%203.03c-.832%200-1.687.243-2.456.698a.958.958%200%200%201-.148.078c-.008%200-.015-.03-.015-.066a6.71%206.71%200%200%200-.097-.725C8.997%201.392%208.337.319%207.46.048a2.096%202.096%200%200%200-.585-.041Zm.293%201.402c.248.197.523.759.682%201.388.03.113.06.244.069.292.007.047.026.152.041.233.067.365.098.76.102%201.24l.002.475-.12.175-.118.178h-.278c-.324%200-.646.041-.954.124l-.238.06c-.033.007-.038-.003-.057-.144a8.438%208.438%200%200%201%20.016-2.323c.124-.788.413-1.501.696-1.711.067-.05.079-.049.157.013zm9.825-.012c.17.126.358.46.498.888.28.854.36%202.028.212%203.145-.019.14-.024.151-.057.144l-.238-.06a3.693%203.693%200%200%200-.954-.124h-.278l-.119-.178-.119-.175.002-.474c.004-.669.066-1.19.214-1.772.157-.623.434-1.185.68-1.382.078-.062.09-.063.159-.012z'/%3e%3c/svg%3e",Ki="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOpenAI%3c/title%3e%3cpath%20d='M22.2819%209.8211a5.9847%205.9847%200%200%200-.5157-4.9108%206.0462%206.0462%200%200%200-6.5098-2.9A6.0651%206.0651%200%200%200%204.9807%204.1818a5.9847%205.9847%200%200%200-3.9977%202.9%206.0462%206.0462%200%200%200%20.7427%207.0966%205.98%205.98%200%200%200%20.511%204.9107%206.051%206.051%200%200%200%206.5146%202.9001A5.9847%205.9847%200%200%200%2013.2599%2024a6.0557%206.0557%200%200%200%205.7718-4.2058%205.9894%205.9894%200%200%200%203.9977-2.9001%206.0557%206.0557%200%200%200-.7475-7.0729zm-9.022%2012.6081a4.4755%204.4755%200%200%201-2.8764-1.0408l.1419-.0804%204.7783-2.7582a.7948.7948%200%200%200%20.3927-.6813v-6.7369l2.02%201.1686a.071.071%200%200%201%20.038.052v5.5826a4.504%204.504%200%200%201-4.4945%204.4944zm-9.6607-4.1254a4.4708%204.4708%200%200%201-.5346-3.0137l.142.0852%204.783%202.7582a.7712.7712%200%200%200%20.7806%200l5.8428-3.3685v2.3324a.0804.0804%200%200%201-.0332.0615L9.74%2019.9502a4.4992%204.4992%200%200%201-6.1408-1.6464zM2.3408%207.8956a4.485%204.485%200%200%201%202.3655-1.9728V11.6a.7664.7664%200%200%200%20.3879.6765l5.8144%203.3543-2.0201%201.1685a.0757.0757%200%200%201-.071%200l-4.8303-2.7865A4.504%204.504%200%200%201%202.3408%207.872zm16.5963%203.8558L13.1038%208.364%2015.1192%207.2a.0757.0757%200%200%201%20.071%200l4.8303%202.7913a4.4944%204.4944%200%200%201-.6765%208.1042v-5.6772a.79.79%200%200%200-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759%200%200%200-.7854%200L9.409%209.2297V6.8974a.0662.0662%200%200%201%20.0284-.0615l4.8303-2.7866a4.4992%204.4992%200%200%201%206.6802%204.66zM8.3065%2012.863l-2.02-1.1638a.0804.0804%200%200%201-.038-.0567V6.0742a4.4992%204.4992%200%200%201%207.3757-3.4537l-.142.0805L8.704%205.459a.7948.7948%200%200%200-.3927.6813zm1.0976-2.3654l2.602-1.4998%202.6069%201.4998v2.9994l-2.5974%201.4997-2.6067-1.4997Z'/%3e%3c/svg%3e",Au="data:image/svg+xml,%3csvg%20width='240'%20height='300'%20viewBox='0%200%20240%20300'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1401_86274)'%3e%3cmask%20id='mask0_1401_86274'%20style='mask-type:luminance'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='240'%20height='300'%3e%3cpath%20d='M240%200H0V300H240V0Z'%20fill='white'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1401_86274)'%3e%3cpath%20d='M180%20240H60V120H180V240Z'%20fill='%23CFCECD'/%3e%3cpath%20d='M180%2060H60V240H180V60ZM240%20300H0V0H240V300Z'%20fill='%23211E1E'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1401_86274'%3e%3crect%20width='240'%20height='300'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Tu="data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOpenRouter%3c/title%3e%3cpath%20d='M16.804%201.957l7.22%204.105v.087L16.73%2010.21l.017-2.117-.821-.03c-1.059-.028-1.611.002-2.268.11-1.064.175-2.038.577-3.147%201.352L8.345%2011.03c-.284.195-.495.336-.68.455l-.515.322-.397.234.385.23.53.338c.476.314%201.17.796%202.701%201.866%201.11.775%202.083%201.177%203.147%201.352l.3.045c.694.091%201.375.094%202.825.033l.022-2.159%207.22%204.105v.087L16.589%2022l.014-1.862-.635.022c-1.386.042-2.137.002-3.138-.162-1.694-.28-3.26-.926-4.881-2.059l-2.158-1.5a21.997%2021.997%200%2000-.755-.498l-.467-.28a55.927%2055.927%200%2000-.76-.43C2.908%2014.73.563%2014.116%200%2014.116V9.888l.14.004c.564-.007%202.91-.622%203.809-1.124l1.016-.58.438-.274c.428-.28%201.072-.726%202.686-1.853%201.621-1.133%203.186-1.78%204.881-2.059%201.152-.19%201.974-.213%203.814-.138l.02-1.907z'%3e%3c/path%3e%3c/svg%3e",Fu="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eWeights%20&amp;%20Biases%3c/title%3e%3cpath%20d='M2.48%200a1.55%201.55%200%201%200%200%203.1%201.55%201.55%200%200%200%200-3.1zm19.04%200a1.55%201.55%200%201%200%200%203.101%201.55%201.55%200%200%200%200-3.101zM12%202.295a1.55%201.55%200%201%200%200%203.1%201.55%201.55%200%200%200%200-3.1zM2.48%205.272a2.48%202.48%200%201%200%200%204.96%202.48%202.48%200%200%200%200-4.96zm19.04%200a2.48%202.48%200%201%200%200%204.96%202.48%202.48%200%200%200%200-4.96zM12%208.496a1.55%201.55%200%201%200%200%203.1%201.55%201.55%200%200%200%200-3.1zm-9.52%203.907a1.55%201.55%200%201%200%200%203.1%201.55%201.55%200%200%200%200-3.1zm19.04%200a1.55%201.55%200%201%200%200%203.102%201.55%201.55%200%200%200%200-3.102zM12%2013.767a2.48%202.48%200%201%200%200%204.962%202.48%202.48%200%200%200%200-4.962zm-9.52%203.907a2.48%202.48%200%201%200%20.001%204.962%202.48%202.48%200%200%200%200-4.962zm19.04.93a1.55%201.55%200%201%200%200%203.102%201.55%201.55%200%200%200%200-3.101zM12%2020.9a1.55%201.55%200%201%200%200%203.1%201.55%201.55%200%200%200%200-3.1Z'/%3e%3c/svg%3e",Ru="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABtlJREFUWEetV21QlNcVfs67y67KV/EjJIRdBIxJrB9BotFqAtERTIKkk8SxNiGt7Ipa46DsxvjR0rVTKuKKJFYTE1SIxmhFbR0Kwc4YNSraqmNswhSFIrBUBD8QVGTZfU/nvrDLroqQ4Pm179nnnvvc5557zr2EXlj05hSfhgvO10AUB/A4AOHEFMCADOJrBFQx0zki+ajkkA9eyslr6kVYBUIPA8ZaLOr/ttQtYJKXgRHSy6B2EBVKwMZqa+6hnsZ0S2DY8jlD2uxSIYDxPQVx/S+CSZIEpyx3rI5wXIZsslm3neouxoMJMEhvNv6JwcvcwYkw8kk9xoZFYOjgYAT2HwBZlnH99i1UNtbj9KVKVDZcho9KhX4+GtgdDrQ52sVwGYQcbduAFRUbNrTdS+R+AhaLpL9Vu4kZ8wTYV6vFrydNxTsTY/Bk0KCHinHxymVsP/E1vjz1jRvXSQIEOqGxO39esWFbo2cQbwIzZ6r0QwPSWUa6APlp++GgyYLgwCB8dqQEs8a/iEF+/j3uSPW1RqTt2orTVRfBHmgCyjQaObZidRcJLwJPL032b3XSEQaixMqTJr6s7GlDcxNOVpZj13wz9IOG9EhAABxOJ5buyUfB6RNeeCKU+vnpYsssFrvXKYhImzvcQfJXDISH/GQg5kyeiqzifYh5eiSss+ZgoK9fryb2BMnMeG/HZhR+e/peEmtqrFuU/OpQwGKRdC21pSLjJZKwMuEtZBbtw6ujx+LDXxohfD/WWu12JH6UgfL6OncIAtpVKh5VlbW1XCGgMxlnA7xT/H4zeiLO26oVCUtMv1cyuq/2na0aMz7KcB/PzjO6rdaam6wQ0JuNx5h5EhFhybQZyD54AJuS5iNhzPN9nds9fsXeHdhRetgz3m2nv+ox6ig4qnqAped04UqWn6utwr/SrVBLKmWAkPHClS4Jw4c8jsbmmzheUYaA/r6YPjJKUcp24yqOlH8PiQgvDv8pQj2Obf3NG5i8erlSH9wmcTyFmQ2vyQxR8ZASE48vTh7BlGdGYWOSUgYU+76uBtPXW9zfyZOnYnvpYbQ7nYovSh+BJXGvY27en13FB1ofH+Qlp2LyUyPc4xZ/uQX7zohUcxmvJJ05OQ1M64TrMf9ANLTcxOK4RKTFJXZLQKxQZLin9ffRoLVdOVluGxsWib8tWun+/uZCGd7+NNsTkk+hJkMOAanCK2S8225HeuIsGF+a1i2B0KDBGB4cgkP/Oe/GaNRqxI14DkcvlqG59Y7iF/Eurv7EjRGKjU5Pxe22uy7fYdKZjflgfteT1gevvIGFU1/tlsCnv1qIV0ZFY8If30dd0zUFN2PMOGxKWoDMogJsPFSk+IRS1Wu3eKky6+O1KK0sV3xEKBdNZzszv+OJSvpZLDLe6HLdmwP5hsWY8uxoxK5ZoTQiYTOfn4TsXxiw/h8HkF3y124JLCv4HDtPHu2YjtBIOpNhI4DfeBKIDovE/kXLu1WgLwQy/74Xm74udsVuIr3JsJSBNZ4EREs9tyoH/v36K+5HqUBG4R5sPlzSqQDZSG8yTmPwQReBwX7+uHqrBetnG5Sq+KgJpO7Mxf6zJztzgI5TsDnJV8PaRoCV5Y4bOkyp2888EYqChR8owLob15TG5LJ5sdMxIkSHjMK/oKH5puIeHzEcb0+IwVffnUXx+TOuCZAz2+iVhFOyfoeKhsudKUAbOkuxoYAZbwqvODqvR43H7n8ew/73liN6aKRXgL58VDbU4+Ws37pDSISEDgL3bIOQvvjfZ/FsSCj2LlymHKdHYaZdW7Gn835AwBU//2a9KzLpTMYTAE8QE4kJxfWr9vpVrEyYiXmx8X2ev+j8GSzY/gm4s4ISsaXGunWVe2mh5pQXiJ3i+uLV/EVD+vjd+YgfGfWjSYjtFN2w3dnZiAg2lZ9z1CVLXpOXtnqzIZMZHZnnYYLEkvhEpMTEQav26TWR/zVdxx8O7IZYvYexxJRQnZ2rlEsvAuIhUtliKwK4qxF4jBStetqIMYgKi0TEkGA8ERiEwf4BGKDRulFCYtHOd586hr1nSt3d0QUgolU11lx3a70vu8TF9I5MxWBM8qT9eEAQ1CoJthsdtd9LIfEWUPsouWN3OnC3XXkP3G+E7FrrFjPQdVl+YHqHWFIGqG/J+cz8lmcUX41WSU5R/12vn17uRxskMtWuzRVl38sedr5It3TuPJI5k5kDe5yIqAqACoyBAHtcoamE4EyrWbet7MGi9BA5PNUY7FDjfYCTAQT1SKQDcAmMQiLKq1mX65WBP0QBL+ywRYu0dk3rSwx+AUAkCEFg8eLCHWJcYeYaSVKXOyT527qsXFsvieL/FjzLIPLjeMUAAAAASUVORK5CYII=",zu=Ne(),Mi={openai:Ki,anthropic:Si,claude:Si,gemini:Ii,google:Ii,codex:Ki,ollama:Pu,azure:Eu,bedrock:Mu,deepseek:Du,github:_u,openrouter:Tu,wandb:Fu,marimo:Ru,opencode:Au};const Le=t=>{let e=(0,zu.c)(15),n,l,r;e[0]===t?(n=e[1],l=e[2],r=e[3]):({provider:l,className:r,...n}=t,e[0]=t,e[1]=n,e[2]=l,e[3]=r);let i=r===void 0?"":r;if(l==="openai-compatible"||!(l in Mi)){let d;e[4]===i?d=e[5]:(d=xe("h-4 w-4",i),e[4]=i,e[5]=d);let u;return e[6]===d?u=e[7]:(u=(0,s.jsx)(un,{className:d}),e[6]=d,e[7]=u),u}let a=Mi[l],o;e[8]===i?o=e[9]:(o=xe("h-4 w-4 grayscale dark:invert",i),e[8]=i,e[9]=o);let c;return e[10]!==a||e[11]!==n||e[12]!==l||e[13]!==o?(c=(0,s.jsx)("img",{src:a,alt:l,className:o,...n}),e[10]=a,e[11]=n,e[12]=l,e[13]=o,e[14]=c):c=e[14],c};function ln(t){switch(t){case"chat":return"bg-[var(--purple-3)] text-[var(--purple-11)]";case"autocomplete":return"bg-[var(--green-3)] text-[var(--green-11)]";case"edit":return"bg-[var(--blue-3)] text-[var(--blue-11)]";case"thinking":return"bg-[var(--purple-4)] text-[var(--purple-12)]"}return"bg-[var(--mauve-3)] text-[var(--mauve-11)]"}function Ei(t){switch(t){case"chat":return"Current model used for chat conversations";case"autocomplete":return"Current model used for autocomplete autocomplete";case"edit":return"Current model used for code edits";case"rerank":return"Current model used for reranking completions";case"embed":return"Current model used for embedding"}}var sn=Ne();const O="flex flex-row items-center space-x-1 space-y-0",Bu=t=>{let e=(0,sn.c)(2),{children:n}=t,l;return e[0]===n?l=e[1]:(l=(0,s.jsx)("div",{className:"text-md font-semibold text-muted-foreground uppercase tracking-wide  mb-1",children:n}),e[0]=n,e[1]=l),l},vt=t=>{let e=(0,sn.c)(10),n,l,r;e[0]===t?(n=e[1],l=e[2],r=e[3]):({children:n,className:l,...r}=t,e[0]=t,e[1]=n,e[2]=l,e[3]=r);let i;e[4]===l?i=e[5]:(i=xe("text-base font-semibold underline-offset-2 text-accent-foreground uppercase tracking-wide",l),e[4]=l,e[5]=i);let a;return e[6]!==n||e[7]!==r||e[8]!==i?(a=(0,s.jsx)("div",{...r,className:i,children:n}),e[6]=n,e[7]=r,e[8]=i,e[9]=a):a=e[9],a},Lu=t=>{let e=(0,sn.c)(2),{children:n}=t,l;return e[0]===n?l=e[1]:(l=(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:n}),e[0]=n,e[1]=l),l},$e=t=>{let e=(0,sn.c)(5),{title:n,children:l}=t,r;e[0]===n?r=e[1]:(r=(0,s.jsx)(vt,{children:n}),e[0]=n,e[1]=r);let i;return e[2]!==l||e[3]!==r?(i=(0,s.jsxs)("div",{className:"flex flex-col gap-4 pb-4",children:[r,l]}),e[2]=l,e[3]=r,e[4]=i):i=e[4],i},Di=[{label:"Auto (Default)",value:"auto"},{label:"Native",value:"native"},{label:"Polars",value:"polars"},{label:"Lazy Polars",value:"lazy-polars"},{label:"Pandas",value:"pandas"}],$u="us-east-1.us-east-2.us-west-1.us-west-2.ap-northeast-1.ap-northeast-2.ap-northeast-3.ap-south-1.ap-south-2.ap-southeast-1.ap-southeast-2.ap-southeast-3.ap-southeast-4.ap-southeast-5.ap-southeast-7.ap-east-2.ca-central-1.eu-central-1.eu-central-2.eu-north-1.eu-south-1.eu-south-2.eu-west-1.eu-west-2.eu-west-3.il-central-1.me-central-1.sa-east-1.us-gov-east-1.us-gov-west-1".split(".");var Vu=Ne();const _i=t=>{let e=(0,Vu.c)(12),{value:n,includeSuggestion:l}=t,r=l===void 0?!0:l;if(!n||n.includes("/"))return null;let i;e[0]===n?i=e[1]:(i=Re.parse(n),e[0]=n,e[1]=i);let a=i.id,o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)("code",{className:"font-bold",children:"provider/model"}),e[2]=o):o=e[2];let c;e[3]===n?c=e[4]:(c=(0,s.jsxs)("span",{children:["Model id should be in the form"," ",o,". ",n," is missing a provider."]}),e[3]=n,e[4]=c);let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsx)("br",{}),e[5]=d):d=e[5];let u;e[6]!==r||e[7]!==a?(u=r&&a&&(0,s.jsxs)("span",{children:["Did you mean ",(0,s.jsx)("code",{className:"font-bold",children:a}),"?"]}),e[6]=r,e[7]=a,e[8]=u):u=e[8];let m;return e[9]!==c||e[10]!==u?(m=(0,s.jsxs)(Wt,{kind:"danger",className:"mt-1",children:[c,d,u]}),e[9]=c,e[10]=u,e[11]=m):m=e[11],m};var Qn=Ne();function Pi(t,e){let n=(0,Qn.c)(10),l;n[0]!==e||n[1]!==t?(l=ol(t,e),n[0]=e,n[1]=t,n[2]=l):l=n[2];let r=l,i=dt(Da),a;n[3]!==e||n[4]!==i?(a=ol(i,e),n[3]=e,n[4]=i,n[5]=a):a=n[5];let o=a,c=o!=null&&r!==o,d;return n[6]!==r||n[7]!==c||n[8]!==o?(d={isOverridden:c,currentValue:r,overriddenValue:o},n[6]=r,n[7]=c,n[8]=o,n[9]=d):d=n[9],d}const Ou=t=>{let e=(0,Qn.c)(3),{name:n,children:l}=t,[r]=ul(),{isOverridden:i}=Pi(r,n),a;return e[0]!==l||e[1]!==i?(a=i?(0,s.jsx)(et,{delayDuration:200,content:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("p",{children:["This setting is overridden by the"," ",(0,s.jsx)(oe,{className:"inline mx-px",children:"pyproject.toml"})," config."]}),(0,s.jsxs)("p",{children:["To change it, edit the project config"," ",(0,s.jsx)(oe,{className:"inline mx-px",children:"pyproject.toml"}),"directly."]})]}),children:(0,s.jsx)("div",{className:"text-muted-foreground opacity-80 cursor-not-allowed *:pointer-events-none",children:l})}):l,e[0]=l,e[1]=i,e[2]=a):a=e[2],a},H=t=>{let e=(0,Qn.c)(18),{userConfig:n,name:l}=t,{isOverridden:r,currentValue:i,overriddenValue:a}=Pi(n,l);if(!r)return null;let o,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsxs)("span",{children:["This setting is overridden by"," ",(0,s.jsx)(oe,{className:"inline",children:"pyproject.toml"}),"."]}),c=(0,s.jsx)("br",{}),e[0]=o,e[1]=c):(o=e[0],c=e[1]);let d,u;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsxs)("span",{children:["Edit the ",(0,s.jsx)(oe,{className:"inline",children:"pyproject.toml"})," file directly to change this setting."]}),u=(0,s.jsx)("br",{}),e[2]=d,e[3]=u):(d=e[2],u=e[3]);let m=String(i),f;e[4]===m?f=e[5]:(f=(0,s.jsxs)("span",{children:["User value: ",(0,s.jsx)("strong",{children:m})]}),e[4]=m,e[5]=f);let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x=(0,s.jsx)("br",{}),e[6]=x):x=e[6];let y=String(a),b;e[7]===y?b=e[8]:(b=(0,s.jsxs)("span",{children:["Project value: ",(0,s.jsx)("strong",{children:y})]}),e[7]=y,e[8]=b);let v;e[9]!==f||e[10]!==b?(v=(0,s.jsxs)(s.Fragment,{children:[o,c,d,u,f,x,b]}),e[9]=f,e[10]=b,e[11]=v):v=e[11];let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=(0,s.jsx)(Vl,{className:"w-3 h-3"}),e[12]=I):I=e[12];let p=String(a),g;e[13]===p?g=e[14]:(g=(0,s.jsxs)("span",{className:"text-(--amber-12) text-xs flex items-center gap-1 border rounded px-2 py-1 bg-(--amber-2) border-(--amber-6) ml-1",children:[I,"Overridden by pyproject.toml [",p,"]"]}),e[13]=p,e[14]=g);let k;return e[15]!==v||e[16]!==g?(k=(0,s.jsx)(et,{content:v,children:g}),e[15]=v,e[16]=g,e[17]=k):k=e[17],k};var bt=Ne(),Ai=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("rounded-xl border bg-card text-card-foreground shadow",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});Ai.displayName="Card";var Ti=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("flex flex-col space-y-1.5 p-6",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});Ti.displayName="CardHeader";var Fi=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("font-semibold leading-none tracking-tight",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});Fi.displayName="CardTitle";var Ri=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("text-sm text-muted-foreground",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});Ri.displayName="CardDescription";var zi=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("p-6 pt-0",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});zi.displayName="CardContent";var Hu=h.forwardRef((t,e)=>{let n=(0,bt.c)(9),l,r;n[0]===t?(l=n[1],r=n[2]):({className:l,...r}=t,n[0]=t,n[1]=l,n[2]=r);let i;n[3]===l?i=n[4]:(i=xe("flex items-center p-6 pt-0",l),n[3]=l,n[4]=i);let a;return n[5]!==r||n[6]!==e||n[7]!==i?(a=(0,s.jsx)("div",{ref:e,className:i,...r}),n[5]=r,n[6]=e,n[7]=i,n[8]=a):a=n[8],a});Hu.displayName="CardFooter";var Gu=Ne();function Bi(){let t=(0,Gu.c)(1),e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],zl(Uu,e)}async function Uu(){return pn.get("/ai/mcp/status")}function qu(){let[t,e]=(0,h.useState)(!1);return{refresh:async()=>{e(!0);try{await pn.post("/ai/mcp/refresh",{}),He({title:"MCP refreshed",description:"MCP server configuration has been refreshed successfully"})}catch(n){He({title:"Refresh failed",description:n instanceof Error?n.message:"Failed to refresh MCP",variant:"danger"})}finally{e(!1)}},isRefreshing:t}}var Li=Ne();const Wu=()=>{let t=(0,Li.c)(27),{data:e,refetch:n,isFetching:l}=Bi(),r;t[0]===n?r=t[1]:(r=async()=>{try{await pn.post("/ai/mcp/refresh",{}),He({title:"MCP refreshed",description:"MCP server configuration has been refreshed"}),n()}catch(k){let M=k;He({title:"Refresh failed",description:M instanceof Error?M.message:"Failed to refresh MCP",variant:"danger"})}},t[0]=n,t[1]=r);let i=r,a;t[2]===(e==null?void 0:e.servers)?a=t[3]:(a=(e==null?void 0:e.servers)||{},t[2]=e==null?void 0:e.servers,t[3]=a);let o=a,c=Object.keys(o).length>0,d=(e==null?void 0:e.status)==="ok"&&"text-green-500",u=(e==null?void 0:e.status)==="partial"&&"text-yellow-500",m=(e==null?void 0:e.status)==="error"&&c&&"text-red-500",f;t[4]!==d||t[5]!==u||t[6]!==m?(f=xe("h-4 w-4",d,u,m),t[4]=d,t[5]=u,t[6]=m,t[7]=f):f=t[7];let x;t[8]===f?x=t[9]:(x=(0,s.jsx)(et,{content:"MCP Status",children:(0,s.jsx)(Ho,{asChild:!0,children:(0,s.jsx)(ae,{variant:"text",size:"icon",children:(0,s.jsx)(Ol,{className:f})})})}),t[8]=f,t[9]=x);let y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)("h4",{className:"font-medium text-sm",children:"MCP Server Status"}),t[10]=y):y=t[10];let b;t[11]===l?b=t[12]:(b=l?(0,s.jsx)($t,{className:"h-3 w-3 animate-spin"}):(0,s.jsx)(wl,{className:"h-3 w-3"}),t[11]=l,t[12]=b);let v;t[13]!==i||t[14]!==l||t[15]!==b?(v=(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[y,(0,s.jsx)(ae,{variant:"ghost",size:"xs",onClick:i,disabled:l,children:b})]}),t[13]=i,t[14]=l,t[15]=b,t[16]=v):v=t[16];let I;t[17]!==c||t[18]!==o||t[19]!==e?(I=e&&(0,s.jsxs)("div",{className:"text-xs space-y-2",children:[c&&(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Overall:"}),(0,s.jsx)(rn,{status:e.status})]}),e.error&&(0,s.jsx)("div",{className:"text-xs text-red-500 bg-red-50 dark:bg-red-950/20 p-2 rounded",children:e.error}),c&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-muted-foreground font-medium",children:"Servers:"}),Object.entries(o).map(Yu)]}),!c&&(0,s.jsxs)("div",{className:"text-muted-foreground text-center py-2",children:["No MCP servers configured. ",(0,s.jsx)("br",{})," Configure under"," ",(0,s.jsx)("b",{children:"Settings > AI > MCP"})]})]}),t[17]=c,t[18]=o,t[19]=e,t[20]=I):I=t[20];let p;t[21]!==I||t[22]!==v?(p=(0,s.jsx)(Go,{className:"w-[320px]",align:"start",side:"right",children:(0,s.jsxs)("div",{className:"space-y-3",children:[v,I]})}),t[21]=I,t[22]=v,t[23]=p):p=t[23];let g;return t[24]!==p||t[25]!==x?(g=(0,s.jsxs)(Uo,{children:[x,p]}),t[24]=p,t[25]=x,t[26]=g):g=t[26],g},rn=t=>{let e=(0,Li.c)(11),{status:n}=t,l=n==="ok"&&"text-green-500",r=n==="partial"&&"text-yellow-500",i=n==="error"&&"text-red-500",a=n==="failed"&&"text-red-500",o=n==="disconnected"&&"text-gray-500",c=n==="pending"&&"text-yellow-500",d=n==="connected"&&"text-green-500",u;e[0]!==l||e[1]!==r||e[2]!==i||e[3]!==a||e[4]!==o||e[5]!==c||e[6]!==d?(u=xe("text-xs font-medium",l,r,i,a,o,c,d),e[0]=l,e[1]=r,e[2]=i,e[3]=a,e[4]=o,e[5]=c,e[6]=d,e[7]=u):u=e[7];let m;return e[8]!==n||e[9]!==u?(m=(0,s.jsx)("span",{className:u,children:n}),e[8]=n,e[9]=u,e[10]=m):m=e[10],m};function Yu(t){let[e,n]=t;return(0,s.jsxs)("div",{className:"flex justify-between items-center pl-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground truncate max-w-[180px]",children:e}),(0,s.jsx)(rn,{status:n})]},e)}var Zu=Ne(),Qu=[{id:"marimo",title:"marimo (docs)",description:"Access marimo documentation"},{id:"context7",title:"Context7",description:"Connect to Context7 MCP server"}];const Ju=t=>{let e=(0,Zu.c)(36),{form:n,onSubmit:l}=t,{handleClick:r}=tl(),{data:i,refetch:a,isFetching:o}=Bi(),{refresh:c,isRefreshing:d}=qu(),u;e[0]!==a||e[1]!==c?(u=async()=>{await c(),a()},e[0]=a,e[1]=c,e[2]=u):u=e[2];let m=u,f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsx)(vt,{children:"MCP Servers"}),e[3]=f):f=e[3];let x;e[4]===i?x=e[5]:(x=i&&(0,s.jsx)(rn,{status:i.status}),e[4]=i,e[5]=x);let y=d||o,b;e[6]!==o||e[7]!==d?(b=d||o?(0,s.jsx)($t,{className:"h-3 w-3 animate-spin"}):(0,s.jsx)(wl,{className:"h-3 w-3"}),e[6]=o,e[7]=d,e[8]=b):b=e[8];let v;e[9]!==m||e[10]!==y||e[11]!==b?(v=(0,s.jsx)(ae,{variant:"outline",size:"xs",onClick:m,disabled:y,children:b}),e[9]=m,e[10]=y,e[11]=b,e[12]=v):v=e[12];let I;e[13]!==x||e[14]!==v?(I=(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[f,(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[x,v]})]}),e[13]=x,e[14]=v,e[15]=I):I=e[15];let p;e[16]===i?p=e[17]:(p=(i==null?void 0:i.error)&&(0,s.jsx)("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded",children:i.error}),e[16]=i,e[17]=p);let g;e[18]===i?g=e[19]:(g=(i==null?void 0:i.servers)&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:Object.entries(i.servers).map(Xu)}),e[18]=i,e[19]=g);let k;e[20]===Symbol.for("react.memo_cache_sentinel")?(k=(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enable Model Context Protocol (MCP) servers to provide additional capabilities and data sources for AI features."}),e[20]=k):k=e[20];let M;e[21]===Symbol.for("react.memo_cache_sentinel")?(M=(0,s.jsx)(oe,{className:"inline",children:"marimo[mcp]"}),e[21]=M):M=e[21];let j;e[22]===r?j=e[23]:(j=(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["This feature requires the ",M," ","package. See"," ",(0,s.jsx)(ae,{variant:"link",onClick:()=>r("optionalDeps"),size:"xs",children:"Optional Features"})," ","for more details."]}),e[22]=r,e[23]=j);let _;e[24]!==n||e[25]!==l?(_=D=>{let{field:K}=D,R=K.value||[],F=S=>{let P=R.includes(S)?R.filter(z=>z!==S):[...R,S];K.onChange(P),l(n.getValues())};return(0,s.jsx)($,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Qu.map(S=>{let P=R.includes(S.id);return(0,s.jsxs)(Ai,{className:`cursor-pointer transition-all ${P?"border-[var(--blue-9)] bg-[var(--blue-2)]":"hover:border-[var(--blue-7)]"}`,onClick:()=>F(S.id),children:[(0,s.jsx)(Ti,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(Fi,{className:"text-base",children:S.title}),(0,s.jsx)("span",{className:`h-5 w-5 flex items-center justify-center rounded border ${P?"border-[var(--blue-7)] bg-[var(--blue-7)] text-foreground":"border-muted bg-background text-muted-foreground"}`,children:P?(0,s.jsx)(uc,{}):null})]})}),(0,s.jsx)(zi,{children:(0,s.jsx)(Ri,{children:S.description})})]},S.id)})})})},e[24]=n,e[25]=l,e[26]=_):_=e[26];let E;e[27]!==n.control||e[28]!==_?(E=(0,s.jsx)(B,{control:n.control,name:"mcp.presets",render:_}),e[27]=n.control,e[28]=_,e[29]=E):E=e[29];let N;return e[30]!==j||e[31]!==E||e[32]!==I||e[33]!==p||e[34]!==g?(N=(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[I,p,g,k,j,E]}),e[30]=j,e[31]=E,e[32]=I,e[33]=p,e[34]=g,e[35]=N):N=e[35],N};function Xu(t){let[e,n]=t;return(0,s.jsxs)("div",{children:[e,": ",(0,s.jsx)(rn,{status:n})]},e)}var Ke=Ne();const e0=t=>{let e=(0,Ke.c)(5),{provider:n,children:l}=t,r;e[0]===n?r=e[1]:(r=n&&(0,s.jsx)(Le,{provider:n,className:"mr-2"}),e[0]=n,e[1]=r);let i;return e[2]!==l||e[3]!==r?(i=(0,s.jsxs)("div",{className:"flex items-center text-base font-semibold",children:[r,l]}),e[2]=l,e[3]=r,e[4]=i):i=e[4],i},Qe=t=>{let e=(0,Ke.c)(11),{form:n,config:l,name:r,placeholder:i,testId:a,description:o,onChange:c}=t,d;e[0]!==l||e[1]!==o||e[2]!==r||e[3]!==c||e[4]!==i||e[5]!==a?(d=m=>{let{field:f}=m;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"API Key"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ye,{"data-testid":a,rootClassName:"flex-1",className:"m-0 inline-flex h-7",placeholder:i,type:"password",...f,value:At(f.value),onChange:x=>{let y=x.target.value;y.includes("*")||(f.onChange(y),c==null||c(y))}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:r})]}),o&&(0,s.jsx)(W,{children:o})]})},e[0]=l,e[1]=o,e[2]=r,e[3]=c,e[4]=i,e[5]=a,e[6]=d):d=e[6];let u;return e[7]!==n.control||e[8]!==r||e[9]!==d?(u=(0,s.jsx)(B,{control:n.control,name:r,render:d}),e[7]=n.control,e[8]=r,e[9]=d,e[10]=u):u=e[10],u};function At(t){return t==null?"":typeof t=="string"?t:String(t)}const at=t=>{let e=(0,Ke.c)(12),{form:n,config:l,name:r,placeholder:i,testId:a,description:o,disabled:c,onChange:d}=t,u=c===void 0?!1:c,m;e[0]!==l||e[1]!==o||e[2]!==u||e[3]!==r||e[4]!==d||e[5]!==i||e[6]!==a?(m=x=>{let{field:y}=x;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Base URL"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ye,{"data-testid":a,rootClassName:"flex-1",className:"m-0 inline-flex h-7",placeholder:i,...y,value:At(y.value),disabled:u,onChange:b=>{y.onChange(b.target.value),d==null||d(b.target.value)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:r})]}),o&&(0,s.jsx)(W,{children:o})]})},e[0]=l,e[1]=o,e[2]=u,e[3]=r,e[4]=d,e[5]=i,e[6]=a,e[7]=m):m=e[7];let f;return e[8]!==n.control||e[9]!==r||e[10]!==m?(f=(0,s.jsx)(B,{control:n.control,name:r,render:m}),e[8]=n.control,e[9]=r,e[10]=m,e[11]=f):f=e[11],f},Jn=t=>{let e=(0,Ke.c)(13),{form:n,config:l,name:r,placeholder:i,description:a,label:o,forRole:c,onSubmit:d}=t,u;e[0]!==l||e[1]!==a||e[2]!==c||e[3]!==n||e[4]!==o||e[5]!==r||e[6]!==d||e[7]!==i?(u=f=>{let{field:x}=f,y=At(x.value),b=v=>{x.onChange(v),d(n.getValues())};return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:o}),(0,s.jsx)(V,{children:(0,s.jsx)(Wi,{value:y,placeholder:i,onSelect:b,triggerClassName:"text-sm",customDropdownContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Lt,{}),(0,s.jsxs)("p",{className:"px-2 py-1.5 text-sm text-muted-secondary flex items-center gap-1",children:["Enter a custom model",(0,s.jsx)(et,{content:"Models should include the provider prefix, e.g. 'openai/gpt-4o'",children:(0,s.jsx)(ra,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"px-2 py-1",children:[(0,s.jsx)(Ye,{className:"w-full border-border shadow-none focus-visible:shadow-xs",placeholder:i,...x,value:At(x.value),onKeyDown:hl.stopPropagation()}),y&&(0,s.jsx)(_i,{value:y,includeSuggestion:!1})]})]}),forRole:c})}),(0,s.jsx)(U,{})]}),(0,s.jsx)(H,{userConfig:l,name:r}),(0,s.jsx)(_i,{value:y}),a&&(0,s.jsx)(W,{children:a})]})},e[0]=l,e[1]=a,e[2]=c,e[3]=n,e[4]=o,e[5]=r,e[6]=d,e[7]=i,e[8]=u):u=e[8];let m;return e[9]!==n.control||e[10]!==r||e[11]!==u?(m=(0,s.jsx)(B,{control:n.control,name:r,render:u}),e[9]=n.control,e[10]=r,e[11]=u,e[12]=m):m=e[12],m},t0=t=>{let e=(0,Ke.c)(10),{form:n,config:l,name:r,options:i,testId:a,disabled:o}=t,c=o===void 0?!1:o,d;e[0]!==l||e[1]!==c||e[2]!==r||e[3]!==i||e[4]!==a?(d=m=>{let{field:f}=m;return(0,s.jsx)("div",{className:"flex flex-col space-y-1",children:(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Provider"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":a,onChange:x=>{x.target.value==="none"?f.onChange(!1):f.onChange(x.target.value)},value:At(f.value===!0?"github":f.value===!1?"none":f.value),disabled:c,className:"inline-flex mr-2",children:i.map(h0)})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:r})]})})},e[0]=l,e[1]=c,e[2]=r,e[3]=i,e[4]=a,e[5]=d):d=e[5];let u;return e[6]!==n.control||e[7]!==r||e[8]!==d?(u=(0,s.jsx)(B,{control:n.control,name:r,render:d}),e[6]=n.control,e[7]=r,e[8]=d,e[9]=u):u=e[9],u};var n0=({form:t,config:e,onSubmit:n})=>{let l=t.getValues("completion.copilot");if(l===!1)return null;if(l==="codeium")return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-sm text-muted-secondary",children:["To get a Windsurf API key, follow"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/ai_completion.html#windsurf-copilot",children:"these instructions"}),"."]}),(0,s.jsx)(Qe,{form:t,config:e,name:"completion.codeium_api_key",placeholder:"key",testId:"codeium-api-key-input"})]});if(l==="github")return(0,s.jsx)(ki,{});if(l==="custom")return(0,s.jsx)(Jn,{label:"Autocomplete Model",form:t,config:e,name:"ai.models.autocomplete_model",placeholder:"ollama/qwen2.5-coder:1.5b",description:"Model to use for code completion when using a custom provider.",onSubmit:n,forRole:"autocomplete"})},Tt=t=>{let e=(0,Ke.c)(5),{children:n,className:l}=t,r;e[0]===l?r=e[1]:(r=xe("flex flex-col gap-4 pb-4",l),e[0]=l,e[1]=r);let i;return e[2]!==n||e[3]!==r?(i=(0,s.jsx)("div",{className:r,children:n}),e[2]=n,e[3]=r,e[4]=i):i=e[4],i},l0=t=>{let e=(0,Ke.c)(23),{qualifiedId:n,model:l,isEnabled:r,onToggle:i,onDelete:a}=t,o;e[0]!==i||e[1]!==n?(o=()=>{i(n)},e[0]=i,e[1]=n,e[2]=o):o=e[2];let c=o,d;e[3]!==a||e[4]!==n?(d=v=>{v.stopPropagation(),v.preventDefault(),a(n)},e[3]=a,e[4]=n,e[5]=d):d=e[5];let u=d,m;e[6]===l?m=e[7]:(m=(0,s.jsx)(s0,{model:l}),e[6]=l,e[7]=m);let f;e[8]!==u||e[9]!==l.custom?(f=l.custom&&(0,s.jsx)(ae,{variant:"ghost",size:"icon",onClick:u,className:"mr-2 hover:bg-transparent",children:(0,s.jsx)(Il,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e[8]=u,e[9]=l.custom,e[10]=f):f=e[10];let x;e[11]!==c||e[12]!==r?(x=(0,s.jsx)(La,{checked:r,onClick:c,size:"sm"}),e[11]=c,e[12]=r,e[13]=x):x=e[13];let y;e[14]!==m||e[15]!==f||e[16]!==x?(y=(0,s.jsx)(ti,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-3 py-2.5 border-b last:border-b-0 cursor-pointer outline-none",children:[m,f,x]})}),e[14]=m,e[15]=f,e[16]=x,e[17]=y):y=e[17];let b;return e[18]!==c||e[19]!==l.name||e[20]!==n||e[21]!==y?(b=(0,s.jsx)(si,{id:n,textValue:l.name,className:"pl-6 outline-none data-focused:bg-muted/50 hover:bg-muted/50",onAction:c,children:y}),e[18]=c,e[19]=l.name,e[20]=n,e[21]=y,e[22]=b):b=e[22],b},s0=t=>{let e=(0,Ke.c)(18),{model:n}=t,l;e[0]===n.name?l=e[1]:(l=(0,s.jsx)("h3",{className:"font-medium text-sm",children:n.name}),e[0]=n.name,e[1]=l);let r;e[2]===n.custom?r=e[3]:(r=n.custom&&(0,s.jsx)(un,{className:"h-4 w-4"}),e[2]=n.custom,e[3]=r);let i;e[4]===r?i=e[5]:(i=(0,s.jsx)(et,{content:"Custom model",children:r}),e[4]=r,e[5]=i);let a;e[6]===n.thinking?a=e[7]:(a=n.thinking&&(0,s.jsxs)("div",{className:xe("flex items-center gap-1 rounded px-1 py-0.5 w-fit",ln("thinking")),children:[(0,s.jsx)(Sn,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:"Reasoning"})]}),e[6]=n.thinking,e[7]=a);let o;e[8]!==l||e[9]!==i||e[10]!==a?(o=(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[l,i,a]}),e[8]=l,e[9]=i,e[10]=a,e[11]=o):o=e[11];let c;e[12]!==n.custom||e[13]!==n.description?(c=n.description&&!n.custom&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:n.description}),e[12]=n.custom,e[13]=n.description,e[14]=c):c=e[14];let d;return e[15]!==o||e[16]!==c?(d=(0,s.jsxs)("div",{className:"flex flex-col flex-1 gap-0.5",children:[o,c]}),e[15]=o,e[16]=c,e[17]=d):d=e[17],d};const r0=t=>{let e=(0,Ke.c)(13),{form:n,config:l,onSubmit:r}=t,i,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)(vt,{children:"Code Completion"}),a=(0,s.jsx)("p",{className:"text-sm text-muted-secondary",children:"Choose GitHub Copilot, Codeium, or a custom provider (such as Ollama) to enable AI-powered code completion."}),e[0]=i,e[1]=a):(i=e[0],a=e[1]);let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=["none","github","codeium","custom"],e[2]=o):o=e[2];let c;e[3]!==l||e[4]!==n?(c=(0,s.jsx)(t0,{form:n,config:l,name:"completion.copilot",options:o,testId:"copilot-select"}),e[3]=l,e[4]=n,e[5]=c):c=e[5];let d;e[6]!==l||e[7]!==n||e[8]!==r?(d=n0({form:n,config:l,onSubmit:r}),e[6]=l,e[7]=n,e[8]=r,e[9]=d):d=e[9];let u;return e[10]!==c||e[11]!==d?(u=(0,s.jsxs)(Tt,{children:[i,a,c,d]}),e[10]=c,e[11]=d,e[12]=u):u=e[12],u};var Ge=t=>{let e=(0,Ke.c)(15),{title:n,triggerClassName:l,provider:r,children:i,isConfigured:a,value:o}=t,c=o??r,d;e[0]===a?d=e[1]:(d=a&&(0,s.jsx)("span",{className:"ml-2 px-1 rounded bg-muted text-xs font-medium border",children:"Configured"}),e[0]=a,e[1]=d);let u;e[2]!==r||e[3]!==d||e[4]!==n?(u=(0,s.jsxs)(e0,{provider:r,children:[n,d]}),e[2]=r,e[3]=d,e[4]=n,e[5]=u):u=e[5];let m;e[6]!==u||e[7]!==l?(m=(0,s.jsx)(Zo,{className:l,children:u}),e[6]=u,e[7]=l,e[8]=m):m=e[8];let f;e[9]===i?f=e[10]:(f=(0,s.jsx)(Jo,{wrapperClassName:"flex flex-col gap-4",children:i}),e[9]=i,e[10]=f);let x;return e[11]!==c||e[12]!==m||e[13]!==f?(x=(0,s.jsxs)(Qo,{value:c,children:[m,f]}),e[11]=c,e[12]=m,e[13]=f,e[14]=x):x=e[14],x};const i0=({form:t,config:e,onSubmit:n})=>{let[l,r]=(0,h.useState)(!1),[i,a]=(0,h.useState)(""),[o,c]=(0,h.useState)(""),[d,u]=(0,h.useState)(""),m=(0,h.useId)(),f=(0,h.useId)(),x=(0,h.useId)(),y=i.toLowerCase().replaceAll(/\s+/g,"_"),b=t.watch("ai.custom_providers"),v=en.includes(y)||b&&Object.keys(b).includes(y),I=y.trim()&&d.trim()&&!v,p=()=>{a(""),c(""),u(""),r(!1)};return(0,s.jsx)(B,{control:t.control,name:"ai.custom_providers",render:({field:g})=>{let k=g.value||{},M=Object.entries(k),j=()=>{I&&(g.onChange({...k,[y]:{api_key:o||void 0,base_url:d}}),n(t.getValues()),p())},_=K=>{let{[K]:R,...F}=k;t.resetField("ai.custom_providers"),t.setValue("ai.custom_providers",F,{shouldDirty:!0}),n(t.getValues())},E=(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 border border-border rounded-md bg-muted/20",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)(Ze,{htmlFor:m,children:"Provider Name"}),(0,s.jsx)(Ye,{id:m,placeholder:"e.g., together, groq, mistral",value:i,onChange:K=>a(K.target.value)}),v&&(0,s.jsx)("p",{className:"text-xs text-destructive",children:"A provider with this name already exists."}),i&&(0,s.jsxs)("p",{className:"text-xs text-muted-secondary",children:["Use models with prefix:"," ",(0,s.jsxs)(oe,{className:"inline text-xs",children:[y,"/"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsxs)(Ze,{htmlFor:x,children:["Base URL ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(Ye,{id:x,placeholder:"e.g., https://api.together.xyz/v1",value:d,onChange:K=>u(K.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)(Ze,{htmlFor:f,children:"API Key (optional)"}),(0,s.jsx)(Ye,{id:f,placeholder:"sk-...",type:"password",value:o,onChange:K=>c(K.target.value)})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,s.jsx)(ae,{onClick:j,disabled:!I,size:"xs",children:"Add Provider"}),(0,s.jsx)(ae,{variant:"outline",onClick:p,size:"xs",children:"Cancel"})]})]}),N=K=>{g.onChange({...k,[K.providerName]:{...k[K.providerName],[K.fieldName]:K.value||void 0}})},D=({providerName:K,providerConfig:R,onRemove:F})=>{let S=dn.startCase(K),P=!!R.api_key||!!R.base_url;return(0,s.jsxs)(Ge,{title:S,provider:K,value:`custom-${K}`,isConfigured:P,children:[(0,s.jsx)(Qe,{form:t,config:e,name:`ai.custom_providers.${K}.api_key`,placeholder:"sk-...",testId:`custom-provider-${K}-api-key`,onChange:z=>N({providerName:K,fieldName:"api_key",value:z})}),(0,s.jsx)(at,{form:t,config:e,name:`ai.custom_providers.${K}.base_url`,placeholder:"https://api.example.com/v1",testId:`custom-provider-${K}-base-url`,onChange:z=>N({providerName:K,fieldName:"base_url",value:z})}),(0,s.jsxs)(ae,{variant:"destructive",size:"xs",onClick:z=>{z.stopPropagation(),z.preventDefault(),F(K)},className:"w-fit self-end",children:[(0,s.jsx)(Il,{className:"h-4 w-4 mr-2"}),"Remove Provider"]})]},`custom-${K}`)};return(0,s.jsxs)(Tt,{children:[(0,s.jsx)(vt,{children:"Custom Providers"}),(0,s.jsx)("p",{className:"text-sm text-muted-secondary",children:"Add your own OpenAI-compatible provider. Once added, you can configure models in the AI Models tab."}),M.length>0&&(0,s.jsx)(Fl,{type:"multiple",className:"-mt-4",children:M.map(([K,R])=>D({providerName:K,providerConfig:R,onRemove:_}))}),l?E:(0,s.jsx)($i,{className:"self-start",isFormOpen:l,setIsFormOpen:r,label:"Add Provider"})]})}})},a0=t=>{let e=(0,Ke.c)(116),{form:n,config:l,onSubmit:r}=t,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=ft(),e[0]=i):i=e[0];let a=i,o;e[1]===n?o=e[2]:(o=We=>!!n.getValues(We),e[1]=n,e[2]=o);let c=o,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsx)(oe,{className:"inline",children:"marimo.toml"}),e[3]=d):d=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)("p",{className:"text-sm text-muted-secondary",children:["Add your API keys below or to ",d," ","to set up a provider for the Code Completion and Assistant features; see"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/ai_completion/#connecting-to-an-llm",children:"docs"})," ","for more info."]}),e[4]=u):u=e[4];let m=c("ai.open_ai.api_key"),f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsxs)(s.Fragment,{children:["Your OpenAI API key from"," ",(0,s.jsx)(pe,{href:"https://platform.openai.com/account/api-keys",children:"platform.openai.com"}),"."]}),e[5]=f):f=e[5];let x,y;e[6]!==l||e[7]!==n?(x=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.open_ai.api_key",placeholder:"sk-proj...",testId:"ai-openai-api-key-input",description:f}),y=(0,s.jsx)(at,{form:n,config:l,name:"ai.open_ai.base_url",placeholder:"https://api.openai.com/v1",testId:"ai-base-url-input",disabled:a}),e[6]=l,e[7]=n,e[8]=x,e[9]=y):(x=e[8],y=e[9]);let b;e[10]!==m||e[11]!==x||e[12]!==y?(b=(0,s.jsxs)(Ge,{title:"OpenAI",provider:"openai",triggerClassName:"pt-0",isConfigured:m,children:[x,y]}),e[10]=m,e[11]=x,e[12]=y,e[13]=b):b=e[13];let v=c("ai.anthropic.api_key"),I;e[14]===Symbol.for("react.memo_cache_sentinel")?(I=(0,s.jsxs)(s.Fragment,{children:["Your Anthropic API key from"," ",(0,s.jsx)(pe,{href:"https://console.anthropic.com/settings/keys",children:"console.anthropic.com"}),"."]}),e[14]=I):I=e[14];let p;e[15]!==l||e[16]!==n?(p=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.anthropic.api_key",placeholder:"sk-ant...",testId:"ai-anthropic-api-key-input",description:I}),e[15]=l,e[16]=n,e[17]=p):p=e[17];let g;e[18]!==v||e[19]!==p?(g=(0,s.jsx)(Ge,{title:"Anthropic",provider:"anthropic",isConfigured:v,children:p}),e[18]=v,e[19]=p,e[20]=g):g=e[20];let k=c("ai.google.api_key"),M;e[21]===Symbol.for("react.memo_cache_sentinel")?(M=(0,s.jsxs)(s.Fragment,{children:["Your Google AI API key from"," ",(0,s.jsx)(pe,{href:"https://aistudio.google.com/app/apikey",children:"aistudio.google.com"}),"."]}),e[21]=M):M=e[21];let j;e[22]!==l||e[23]!==n?(j=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.google.api_key",placeholder:"AI...",testId:"ai-google-api-key-input",description:M}),e[22]=l,e[23]=n,e[24]=j):j=e[24];let _;e[25]!==k||e[26]!==j?(_=(0,s.jsx)(Ge,{title:"Google",provider:"google",isConfigured:k,children:j}),e[25]=k,e[26]=j,e[27]=_):_=e[27];let E=c("ai.ollama.base_url"),N;e[28]!==l||e[29]!==n?(N=(0,s.jsx)(at,{form:n,config:l,name:"ai.ollama.base_url",placeholder:"http://localhost:11434/v1",testId:"ollama-base-url-input"}),e[28]=l,e[29]=n,e[30]=N):N=e[30];let D;e[31]!==E||e[32]!==N?(D=(0,s.jsx)(Ge,{title:"Ollama",provider:"ollama",isConfigured:E,children:N}),e[31]=E,e[32]=N,e[33]=D):D=e[33];let K=c("ai.github.api_key"),R;e[34]===Symbol.for("react.memo_cache_sentinel")?(R=(0,s.jsxs)(s.Fragment,{children:["Your GitHub API token from"," ",(0,s.jsx)(oe,{className:"inline",children:"gh auth token"}),"."]}),e[34]=R):R=e[34];let F,S;e[35]!==l||e[36]!==n?(F=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.github.api_key",placeholder:"gho_...",testId:"ai-github-api-key-input",description:R}),S=(0,s.jsx)(at,{form:n,config:l,name:"ai.github.base_url",placeholder:"https://api.githubcopilot.com/",testId:"ai-github-base-url-input"}),e[35]=l,e[36]=n,e[37]=F,e[38]=S):(F=e[37],S=e[38]);let P;e[39]!==K||e[40]!==F||e[41]!==S?(P=(0,s.jsxs)(Ge,{title:"GitHub",provider:"github",isConfigured:K,children:[F,S]}),e[39]=K,e[40]=F,e[41]=S,e[42]=P):P=e[42];let z=c("ai.openrouter.api_key"),C;e[43]===Symbol.for("react.memo_cache_sentinel")?(C=(0,s.jsxs)(s.Fragment,{children:["Your OpenRouter API key from ","",(0,s.jsx)(pe,{href:"https://openrouter.ai/keys",children:"openrouter.ai"}),"."]}),e[43]=C):C=e[43];let A,G;e[44]!==l||e[45]!==n?(A=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.openrouter.api_key",placeholder:"or-...",testId:"ai-openrouter-api-key-input",description:C}),G=(0,s.jsx)(at,{form:n,config:l,name:"ai.openrouter.base_url",placeholder:"https://openrouter.ai/api/v1/",testId:"ai-openrouter-base-url-input"}),e[44]=l,e[45]=n,e[46]=A,e[47]=G):(A=e[46],G=e[47]);let w;e[48]!==z||e[49]!==A||e[50]!==G?(w=(0,s.jsxs)(Ge,{title:"OpenRouter",provider:"openrouter",isConfigured:z,children:[A,G]}),e[48]=z,e[49]=A,e[50]=G,e[51]=w):w=e[51];let q=c("ai.wandb.api_key"),J;e[52]===Symbol.for("react.memo_cache_sentinel")?(J=(0,s.jsxs)(s.Fragment,{children:["Your Weights & Biases API key from"," ",(0,s.jsx)(pe,{href:"https://wandb.ai/authorize",children:"wandb.ai"}),"."]}),e[52]=J):J=e[52];let ee,ce;e[53]!==l||e[54]!==n?(ee=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.wandb.api_key",placeholder:"your-wandb-api-key",testId:"ai-wandb-api-key-input",description:J}),ce=(0,s.jsx)(at,{form:n,config:l,name:"ai.wandb.base_url",placeholder:"https://api.inference.wandb.ai/v1/",testId:"ai-wandb-base-url-input"}),e[53]=l,e[54]=n,e[55]=ee,e[56]=ce):(ee=e[55],ce=e[56]);let ue;e[57]!==q||e[58]!==ee||e[59]!==ce?(ue=(0,s.jsxs)(Ge,{title:"Weights & Biases",provider:"wandb",isConfigured:q,children:[ee,ce]}),e[57]=q,e[58]=ee,e[59]=ce,e[60]=ue):ue=e[60];let re=c("ai.azure.api_key")&&c("ai.azure.base_url"),Y;e[61]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,s.jsxs)(s.Fragment,{children:["Your Azure API key from"," ",(0,s.jsx)(pe,{href:"https://portal.azure.com/",children:"portal.azure.com"}),"."]}),e[61]=Y):Y=e[61];let Z,te;e[62]!==l||e[63]!==n?(Z=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.azure.api_key",placeholder:"sk-proj...",testId:"ai-azure-api-key-input",description:Y}),te=(0,s.jsx)(at,{form:n,config:l,name:"ai.azure.base_url",placeholder:"https://<your-resource-name>.openai.azure.com/openai/deployments/<deployment-name>?api-version=<api-version>",testId:"ai-azure-base-url-input"}),e[62]=l,e[63]=n,e[64]=Z,e[65]=te):(Z=e[64],te=e[65]);let ne;e[66]!==re||e[67]!==Z||e[68]!==te?(ne=(0,s.jsxs)(Ge,{title:"Azure",provider:"azure",isConfigured:re,children:[Z,te]}),e[66]=re,e[67]=Z,e[68]=te,e[69]=ne):ne=e[69];let fe=c("ai.bedrock.region_name"),T;e[70]===Symbol.for("react.memo_cache_sentinel")?(T=(0,s.jsxs)("p",{className:"text-sm text-muted-secondary mb-2",children:["To use AWS Bedrock, you need to configure AWS credentials and region. See the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/ai_completion.html#aws-bedrock",children:"documentation"})," ","for more details."]}),e[70]=T):T=e[70];let de;e[71]===l?de=e[72]:(de=We=>{let{field:ve}=We;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"AWS Region"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"bedrock-region-select",onChange:Je=>ve.onChange(Je.target.value),value:typeof ve.value=="string"?ve.value:"us-east-1",disabled:ve.disabled,className:"inline-flex mr-2",children:$u.map(p0)})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"ai.bedrock.region_name"})]}),(0,s.jsx)(W,{children:"The AWS region where Bedrock service is available."})]})},e[71]=l,e[72]=de);let le;e[73]!==n.control||e[74]!==de?(le=(0,s.jsx)(B,{control:n.control,disabled:a,name:"ai.bedrock.region_name",render:de}),e[73]=n.control,e[74]=de,e[75]=le):le=e[75];let ke;e[76]===l?ke=e[77]:(ke=We=>{let{field:ve}=We;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"AWS Profile Name (Optional)"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ye,{"data-testid":"bedrock-profile-input",rootClassName:"flex-1",className:"m-0 inline-flex h-7",placeholder:"default",...ve,value:ve.value||""})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"ai.bedrock.profile_name"})]}),(0,s.jsx)(W,{children:"The AWS profile name from your ~/.aws/credentials file. Leave blank to use your default AWS credentials."})]})},e[76]=l,e[77]=ke);let Me;e[78]!==n.control||e[79]!==ke?(Me=(0,s.jsx)(B,{control:n.control,disabled:a,name:"ai.bedrock.profile_name",render:ke}),e[78]=n.control,e[79]=ke,e[80]=Me):Me=e[80];let he;e[81]!==fe||e[82]!==le||e[83]!==Me?(he=(0,s.jsxs)(Ge,{title:"AWS Bedrock",provider:"bedrock",isConfigured:fe,children:[T,le,Me]}),e[81]=fe,e[82]=le,e[83]=Me,e[84]=he):he=e[84];let we=c("ai.open_ai_compatible.api_key")&&c("ai.open_ai_compatible.base_url"),Ce;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ce=(0,s.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400 mb-2",children:"Consider using Custom Providers instead, which allows you to add multiple providers with distinct names."}),e[85]=Ce):Ce=e[85];let Ue;e[86]===Symbol.for("react.memo_cache_sentinel")?(Ue=(0,s.jsx)(s.Fragment,{children:"API key for any OpenAI-compatible provider (e.g., Together, Groq, Mistral, Perplexity, etc)."}),e[86]=Ue):Ue=e[86];let ge;e[87]!==l||e[88]!==n?(ge=(0,s.jsx)(Qe,{form:n,config:l,name:"ai.open_ai_compatible.api_key",placeholder:"sk-...",testId:"ai-openai-compatible-api-key-input",description:Ue}),e[87]=l,e[88]=n,e[89]=ge):ge=e[89];let Ee;e[90]===Symbol.for("react.memo_cache_sentinel")?(Ee=(0,s.jsx)(s.Fragment,{children:"Base URL for your OpenAI-compatible provider."}),e[90]=Ee):Ee=e[90];let ye;e[91]!==l||e[92]!==n?(ye=(0,s.jsx)(at,{form:n,config:l,name:"ai.open_ai_compatible.base_url",placeholder:"https://api.together.xyz/v1",testId:"ai-openai-compatible-base-url-input",description:Ee}),e[91]=l,e[92]=n,e[93]=ye):ye=e[93];let De;e[94]!==we||e[95]!==ge||e[96]!==ye?(De=(0,s.jsxs)(Ge,{title:"OpenAI-Compatible (Legacy)",provider:"openai-compatible",isConfigured:we,children:[Ce,ge,ye]}),e[94]=we,e[95]=ge,e[96]=ye,e[97]=De):De=e[97];let se;e[98]!==g||e[99]!==_||e[100]!==D||e[101]!==P||e[102]!==w||e[103]!==ue||e[104]!==ne||e[105]!==he||e[106]!==De||e[107]!==b?(se=(0,s.jsxs)(Fl,{type:"multiple",children:[b,g,_,D,P,w,ue,ne,he,De]}),e[98]=g,e[99]=_,e[100]=D,e[101]=P,e[102]=w,e[103]=ue,e[104]=ne,e[105]=he,e[106]=De,e[107]=b,e[108]=se):se=e[108];let qe;e[109]!==l||e[110]!==n||e[111]!==r?(qe=(0,s.jsx)(i0,{form:n,config:l,onSubmit:r}),e[109]=l,e[110]=n,e[111]=r,e[112]=qe):qe=e[112];let Ve;return e[113]!==se||e[114]!==qe?(Ve=(0,s.jsxs)(Tt,{children:[u,se,qe]}),e[113]=se,e[114]=qe,e[115]=Ve):Ve=e[115],Ve},o0=t=>{let e=(0,Ke.c)(24),{form:n,config:l,onSubmit:r}=t,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsx)(vt,{children:"AI Assistant"}),e[0]=i):i=e[0];let a;e[1]===n.control?a=e[2]:(a=(0,s.jsx)(B,{control:n.control,name:"ai.inline_tooltip",render:f0}),e[1]=n.control,e[2]=a);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)(Co,{}),e[3]=o):o=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)("span",{children:"Model to use for chat conversations in the Chat panel."}),e[4]=c):c=e[4];let d;e[5]!==l||e[6]!==n||e[7]!==r?(d=(0,s.jsx)(Jn,{label:"Chat Model",form:n,config:l,name:"ai.models.chat_model",placeholder:dl,description:c,forRole:"chat",onSubmit:r}),e[5]=l,e[6]=n,e[7]=r,e[8]=d):d=e[8];let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)("span",{children:["Model to use for code editing with the"," ",(0,s.jsx)(oe,{className:"inline",children:"Generate with AI"})," button."]}),e[9]=u):u=e[9];let m;e[10]!==l||e[11]!==n||e[12]!==r?(m=(0,s.jsx)(Jn,{label:"Edit Model",form:n,config:l,name:"ai.models.edit_model",placeholder:dl,description:u,forRole:"edit",onSubmit:r}),e[10]=l,e[11]=n,e[12]=r,e[13]=m):m=e[13];let f;e[14]===l?f=e[15]:(f=b=>{let{field:v}=b;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)($,{children:[(0,s.jsx)(L,{children:"Custom Rules"}),(0,s.jsx)(V,{children:(0,s.jsx)(wo,{"data-testid":"ai-rules-input",className:"m-0 inline-flex w-full h-32 p-2 text-sm",placeholder:"e.g. Always use type hints; prefer polars over pandas",...v,value:v.value})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"ai.rules"})]}),(0,s.jsx)(W,{children:"Custom rules to include in all AI completion prompts."})]})},e[14]=l,e[15]=f);let x;e[16]!==n.control||e[17]!==f?(x=(0,s.jsx)(B,{control:n.control,name:"ai.rules",render:f}),e[16]=n.control,e[17]=f,e[18]=x):x=e[18];let y;return e[19]!==a||e[20]!==d||e[21]!==m||e[22]!==x?(y=(0,s.jsxs)(Tt,{children:[i,a,o,d,m,x]}),e[19]=a,e[20]=d,e[21]=m,e[22]=x,e[23]=y):y=e[23],y};var c0=t=>{let e=(0,Ke.c)(51),{providerId:n,models:l,enabledModels:r,onToggleModel:i,onToggleProvider:a,onDeleteModel:o}=t,c;if(e[0]!==r||e[1]!==l||e[2]!==n){let R;e[4]!==r||e[5]!==n?(R=F=>r.has(new Re(n,F.model).id),e[4]=r,e[5]=n,e[6]=R):R=e[6],c=l.filter(R),e[0]=r,e[1]=l,e[2]=n,e[3]=c}else c=e[3];let d=c.length,u=l.length,m;e[7]===n?m=e[8]:(m=_t.getProviderInfo(n),e[7]=n,e[8]=m);let f=m,x;e[9]!==(f==null?void 0:f.name)||e[10]!==n?(x=(f==null?void 0:f.name)||dn.startCase(n),e[9]=f==null?void 0:f.name,e[10]=n,e[11]=x):x=e[11];let y=x,b=d===0?!1:d===u?!0:"indeterminate",v;e[12]!==d||e[13]!==a||e[14]!==n||e[15]!==u?(v=()=>{a(n,d<u/2)},e[12]=d,e[13]=a,e[14]=n,e[15]=u,e[16]=v):v=e[16];let I=Rt(v),p;e[17]===Symbol.for("react.memo_cache_sentinel")?(p=hl.stopPropagation(),e[17]=p):p=e[17];let g;e[18]!==b||e[19]!==I?(g=(0,s.jsx)(ie,{checked:b,onCheckedChange:I,onClick:p}),e[18]=b,e[19]=I,e[20]=g):g=e[20];let k;e[21]===n?k=e[22]:(k=(0,s.jsx)(Le,{provider:n,className:"h-5 w-5"}),e[21]=n,e[22]=k);let M;e[23]===y?M=e[24]:(M=(0,s.jsx)("h2",{className:"font-semibold",children:y}),e[23]=y,e[24]=M);let j;e[25]!==d||e[26]!==u?(j=(0,s.jsxs)("p",{className:"text-sm text-muted-secondary",children:[d,"/",u," models"]}),e[25]=d,e[26]=u,e[27]=j):j=e[27];let _;e[28]!==M||e[29]!==j?(_=(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[M,j]}),e[28]=M,e[29]=j,e[30]=_):_=e[30];let E;e[31]===Symbol.for("react.memo_cache_sentinel")?(E=(0,s.jsx)(go,{slot:"chevron",children:(0,s.jsx)(Xa,{className:"h-4 w-4 text-muted-foreground shrink-0 transition-transform duration-200 group-data-expanded:rotate-90"})}),e[31]=E):E=e[31];let N;e[32]!==_||e[33]!==g||e[34]!==k?(N=(0,s.jsx)(ti,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3 px-2 py-3 hover:bg-muted/50 cursor-pointer outline-none focus-visible:outline-none border-b group-data-expanded:border-b-0 rounded-sm",children:[g,k,_,E]})}),e[32]=_,e[33]=g,e[34]=k,e[35]=N):N=e[35];let D;if(e[36]!==r||e[37]!==l||e[38]!==o||e[39]!==i||e[40]!==n){let R;e[42]!==r||e[43]!==o||e[44]!==i||e[45]!==n?(R=F=>{let S=new Re(n,F.model).id;return(0,s.jsx)(l0,{qualifiedId:S,model:F,isEnabled:r.has(S),onToggle:i,onDelete:o},S)},e[42]=r,e[43]=o,e[44]=i,e[45]=n,e[46]=R):R=e[46],D=l.map(R),e[36]=r,e[37]=l,e[38]=o,e[39]=i,e[40]=n,e[41]=D}else D=e[41];let K;return e[47]!==n||e[48]!==N||e[49]!==D?(K=(0,s.jsxs)(si,{id:n,hasChildItems:!0,textValue:n,className:"outline-none data-focused:bg-muted/50 group",children:[N,D]}),e[47]=n,e[48]=N,e[49]=D,e[50]=K):K=e[50],K};const d0=({form:t,onSubmit:e})=>{let n=jn({control:t.control,name:"ai.models.custom_models"}),l=jn({control:t.control,name:"ai.custom_providers"}),r=(0,h.useMemo)(()=>Object.keys(l||{}),[l]),i=(0,h.useMemo)(()=>_t.create({displayedModels:[],customModels:n}),[n]),a=jn({control:t.control,name:"ai.models.displayed_models",defaultValue:[]}),o=new Set(a),c=i.getGroupedModelsByProvider(),d=i.getListModelsByProvider(),u=Rt(x=>{let y=o.has(x)?a.filter(b=>b!==x):[...a,x];t.setValue("ai.models.displayed_models",y,{shouldDirty:!0,shouldTouch:!0}),e(t.getValues())}),m=Rt(async(x,y)=>{let b=c.get(x)||[],v=new Set(b.map(p=>new Re(x,p.model).id)),I=y?[...new Set([...a,...v])]:a.filter(p=>!v.has(p));t.setValue("ai.models.displayed_models",I,{shouldDirty:!0,shouldTouch:!0}),e(t.getValues())}),f=Rt(x=>{let y=n.filter(v=>v!==x),b=a.filter(v=>v!==x);t.setValue("ai.models.displayed_models",b,{shouldDirty:!0,shouldTouch:!0}),t.setValue("ai.models.custom_models",y,{shouldDirty:!0,shouldTouch:!0}),e(t.getValues())});return(0,s.jsxs)(Tt,{className:"gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-secondary",children:"Control which AI models are displayed in model selection dropdowns. When no models are selected, all available models will be shown."}),(0,s.jsx)("div",{className:"bg-background",children:(0,s.jsx)(Ed,{"aria-label":"AI Models by Provider",className:"flex-1 overflow-auto outline-none focus-visible:outline-none",selectionMode:"none",children:d.map(([x,y])=>(0,s.jsx)(c0,{providerId:x,models:y,enabledModels:o,onToggleModel:u,onToggleProvider:m,onDeleteModel:f},x))})}),(0,s.jsx)(u0,{form:t,customModels:n,customProviderNames:r,onSubmit:e})]})},u0=t=>{let e=(0,Ke.c)(77),{form:n,customModels:l,customProviderNames:r,onSubmit:i}=t,[a,o]=(0,h.useState)(!1),[c,d]=(0,h.useState)(!1),[u,m]=(0,h.useState)(null),[f,x]=(0,h.useState)(""),[y,b]=(0,h.useState)(""),v=(0,h.useId)(),I=(0,h.useId)(),p=(0,h.useId)(),g=u==="custom",k=g?f:u,M;e[0]!==y||e[1]!==k?(M=(k==null?void 0:k.trim())&&(y==null?void 0:y.trim()),e[0]=y,e[1]=k,e[2]=M):M=e[2];let j=M,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{m(null),x(""),b(""),o(!1)},e[3]=_):_=e[3];let E=_,N;e[4]!==l||e[5]!==n||e[6]!==j||e[7]!==y||e[8]!==i||e[9]!==k?(N=()=>{if(!j)return;let se=new Re(k,y);n.setValue("ai.models.custom_models",[se.id,...l],{shouldDirty:!0,shouldTouch:!0}),i(n.getValues()),E(),d(!0),setTimeout(()=>d(!1),2e3)},e[4]=l,e[5]=n,e[6]=j,e[7]=y,e[8]=i,e[9]=k,e[10]=N):N=e[10];let D=N,K;e[11]===v?K=e[12]:(K=(0,s.jsx)(Ze,{htmlFor:v,className:"text-sm font-medium text-muted-foreground min-w-12",children:"Provider"}),e[11]=v,e[12]=K);let R=u||"",F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=se=>m(se),e[13]=F):F=e[13];let S;e[14]===u?S=e[15]:(S=u?(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(Le,{provider:u,className:"h-3.5 w-3.5"}),(0,s.jsx)("span",{children:on(u)})]}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"Select..."}),e[14]=u,e[15]=S);let P;e[16]!==v||e[17]!==S?(P=(0,s.jsx)(Qa,{id:v,className:"w-40 truncate",children:S}),e[16]=v,e[17]=S,e[18]=P):P=e[18];let z;e[19]===r?z=e[20]:(z=r.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"px-2 py-1 text-xs text-muted-secondary font-medium",children:"Custom Providers"}),r.map(g0),(0,s.jsx)("p",{className:"px-2 py-1 text-xs text-muted-secondary font-medium mt-1",children:"Built-in Providers"})]}),e[19]=r,e[20]=z);let C;e[21]===r?C=e[22]:(C=en.filter(se=>se!=="marimo"&&!r.includes(se)).map(x0),e[21]=r,e[22]=C);let A;e[23]===Symbol.for("react.memo_cache_sentinel")?(A=(0,s.jsx)("p",{className:"px-2 py-1 text-xs text-muted-secondary font-medium mt-1",children:"Other"}),e[23]=A):A=e[23];let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G=(0,s.jsx)(gn,{value:"custom",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Le,{provider:"openai-compatible",className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Enter provider name"})]})}),e[24]=G):G=e[24];let w;e[25]!==C||e[26]!==z?(w=(0,s.jsx)(Ya,{children:(0,s.jsxs)(Za,{children:[z,C,A,G]})}),e[25]=C,e[26]=z,e[27]=w):w=e[27];let q;e[28]!==w||e[29]!==R||e[30]!==P?(q=(0,s.jsxs)(Ja,{value:R,onValueChange:F,children:[P,w]}),e[28]=w,e[29]=R,e[30]=P,e[31]=q):q=e[31];let J;e[32]!==q||e[33]!==K?(J=(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[K,q]}),e[32]=q,e[33]=K,e[34]=J):J=e[34];let ee;e[35]!==I||e[36]!==f||e[37]!==g?(ee=g&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Ze,{htmlFor:I,className:"text-sm font-medium text-muted-foreground min-w-12",children:"Name"}),(0,s.jsx)(Ye,{id:I,value:f,onChange:se=>x(se.target.value),placeholder:"openrouter",className:"w-40 truncate"})]}),e[35]=I,e[36]=f,e[37]=g,e[38]=ee):ee=e[38];let ce;e[39]!==J||e[40]!==ee?(ce=(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[J,ee]}),e[39]=J,e[40]=ee,e[41]=ce):ce=e[41];let ue=ce,re=g&&"self-start",Y;e[42]===re?Y=e[43]:(Y=xe("flex items-center gap-2",re),e[42]=re,e[43]=Y);let Z;e[44]===p?Z=e[45]:(Z=(0,s.jsx)(Ze,{htmlFor:p,className:"text-sm font-medium text-muted-foreground",children:"Model"}),e[44]=p,e[45]=Z);let te;e[46]===Symbol.for("react.memo_cache_sentinel")?(te=se=>b(se.target.value),e[46]=te):te=e[46];let ne;e[47]!==y||e[48]!==p?(ne=(0,s.jsx)(Ye,{id:p,value:y,onChange:te,placeholder:"gpt-4",className:"text-xs mb-0"}),e[47]=y,e[48]=p,e[49]=ne):ne=e[49];let fe;e[50]!==Y||e[51]!==Z||e[52]!==ne?(fe=(0,s.jsxs)("div",{className:Y,children:[Z,ne]}),e[50]=Y,e[51]=Z,e[52]=ne,e[53]=fe):fe=e[53];let T=fe,de=g&&"self-end",le;e[54]===de?le=e[55]:(le=xe("flex gap-1.5 ml-auto",de),e[54]=de,e[55]=le);let ke=!j,Me;e[56]!==D||e[57]!==ke?(Me=(0,s.jsx)(ae,{onClick:D,disabled:ke,size:"xs",children:"Add"}),e[56]=D,e[57]=ke,e[58]=Me):Me=e[58];let he;e[59]===Symbol.for("react.memo_cache_sentinel")?(he=(0,s.jsx)(ae,{variant:"outline",onClick:E,size:"xs",children:"Cancel"}),e[59]=he):he=e[59];let we;e[60]!==le||e[61]!==Me?(we=(0,s.jsxs)("div",{className:le,children:[Me,he]}),e[60]=le,e[61]=Me,e[62]=we):we=e[62];let Ce;e[63]!==T||e[64]!==ue||e[65]!==we?(Ce=(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-border rounded-md",children:[ue,T,we]}),e[63]=T,e[64]=ue,e[65]=we,e[66]=Ce):Ce=e[66];let Ue=a&&Ce,ge;e[67]===a?ge=e[68]:(ge=(0,s.jsx)($i,{isFormOpen:a,setIsFormOpen:o,label:"Add Model",className:"pl-2"}),e[67]=a,e[68]=ge);let Ee;e[69]===c?Ee=e[70]:(Ee=c&&(0,s.jsx)("div",{className:"flex items-center gap-1 text-green-700 bg-green-500/10 px-2 py-1 rounded-md ml-auto",children:"\u2713 Model added"}),e[69]=c,e[70]=Ee);let ye;e[71]!==ge||e[72]!==Ee?(ye=(0,s.jsxs)("div",{className:"flex flex-row text-sm",children:[ge,Ee]}),e[71]=ge,e[72]=Ee,e[73]=ye):ye=e[73];let De;return e[74]!==Ue||e[75]!==ye?(De=(0,s.jsxs)("div",{children:[Ue,ye]}),e[74]=Ue,e[75]=ye,e[76]=De):De=e[76],De};var $i=t=>{let e=(0,Ke.c)(10),{isFormOpen:n,setIsFormOpen:l,label:r,className:i}=t,a;e[0]===l?a=e[1]:(a=u=>{u.stopPropagation(),u.preventDefault(),l(!0)},e[0]=l,e[1]=a);let o;e[2]===i?o=e[3]:(o=xe("px-0",i),e[2]=i,e[3]=o);let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(ao,{className:"h-4 w-4 mr-2 mb-0.5"}),e[4]=c):c=e[4];let d;return e[5]!==n||e[6]!==r||e[7]!==a||e[8]!==o?(d=(0,s.jsxs)(ae,{onClick:a,variant:"link",disabled:n,className:o,children:[c,r]}),e[5]=n,e[6]=r,e[7]=a,e[8]=o,e[9]=d):d=e[9],d};const m0=t=>{let e=(0,Ke.c)(26),{form:n,config:l,onSubmit:r}=t,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=ft(),e[0]=i):i=e[0];let a=i,[o,c]=pt(Ui),d;e[1]===c?d=e[2]:(d=v=>c(v),e[1]=c,e[2]=d);let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)(Al,{className:"mb-2",children:[(0,s.jsx)(It,{value:"ai-features",children:"AI Features"}),(0,s.jsx)(It,{value:"ai-providers",children:"AI Providers"}),(0,s.jsx)(It,{value:"ai-models",children:"AI Models"}),!a&&(0,s.jsx)(It,{value:"mcp",children:"MCP"})]}),e[3]=u):u=e[3];let m;e[4]!==l||e[5]!==n||e[6]!==r?(m=(0,s.jsxs)(qt,{value:"ai-features",children:[(0,s.jsx)(r0,{form:n,config:l,onSubmit:r}),(0,s.jsx)(o0,{form:n,config:l,onSubmit:r})]}),e[4]=l,e[5]=n,e[6]=r,e[7]=m):m=e[7];let f;e[8]!==l||e[9]!==n||e[10]!==r?(f=(0,s.jsx)(qt,{value:"ai-providers",children:(0,s.jsx)(a0,{form:n,config:l,onSubmit:r})}),e[8]=l,e[9]=n,e[10]=r,e[11]=f):f=e[11];let x;e[12]!==l||e[13]!==n||e[14]!==r?(x=(0,s.jsx)(qt,{value:"ai-models",children:(0,s.jsx)(d0,{form:n,config:l,onSubmit:r})}),e[12]=l,e[13]=n,e[14]=r,e[15]=x):x=e[15];let y;e[16]!==n||e[17]!==r?(y=!a&&(0,s.jsx)(qt,{value:"mcp",children:(0,s.jsx)(Ju,{form:n,onSubmit:r})}),e[16]=n,e[17]=r,e[18]=y):y=e[18];let b;return e[19]!==o||e[20]!==d||e[21]!==m||e[22]!==f||e[23]!==x||e[24]!==y?(b=(0,s.jsxs)(Tl,{value:o,onValueChange:d,className:"flex-1",children:[u,m,f,x,y]}),e[19]=o,e[20]=d,e[21]=m,e[22]=f,e[23]=x,e[24]=y,e[25]=b):b=e[25],b};function h0(t){return(0,s.jsx)("option",{value:t,children:t},t)}function p0(t){return(0,s.jsx)("option",{value:t,children:t},t)}function f0(t){let{field:e}=t;return(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"AI Edit Tooltip"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"inline-ai-checkbox",checked:e.value===!0,onCheckedChange:e.onChange})})]}),(0,s.jsx)(W,{children:'Enable "Edit with AI" tooltip when selecting code.'})]})}function g0(t){return(0,s.jsx)(gn,{value:t,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Le,{provider:t,className:"h-4 w-4"}),(0,s.jsx)("span",{children:dn.startCase(t)})]})},t)}function x0(t){return(0,s.jsx)(gn,{value:t,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Le,{provider:t,className:"h-4 w-4"}),(0,s.jsx)("span",{children:on(t)})]})},t)}var y0=Ne(),v0=["auto","true","false"];const b0=t=>{let e=(0,y0.c)(47),{form:n,config:l,onSubmit:r}=t,i;e[0]!==l||e[1]!==n.control?(i=(E,N)=>(0,s.jsx)(B,{control:n.control,name:E,render:D=>{let{field:K}=D,R=F=>{let S=F.target.value;K.onChange(S==="true"?!0:S==="false"?!1:S)};return(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"text-sm font-normal w-16",children:N}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"auto-discover-schemas-select",onChange:R,value:K.value===void 0?"auto":K.value.toString(),disabled:K.disabled,className:"w-[100px]",children:v0.map(j0)})}),(0,s.jsx)(H,{userConfig:l,name:E})]})}}),e[0]=l,e[1]=n.control,e[2]=i):i=e[2];let a=i,o;e[3]===l?o=e[4]:(o=E=>{let{field:N}=E;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Dataframe viewer"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"display-dataframes-select",onChange:D=>N.onChange(D.target.value),value:N.value,disabled:N.disabled,className:"inline-flex mr-2",children:["rich","plain"].map(k0)})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"display.dataframes"})]}),(0,s.jsx)(W,{children:"Whether to use marimo's rich dataframe viewer or a plain HTML table. This requires restarting your notebook to take effect."})]})},e[3]=l,e[4]=o);let c;e[5]!==n.control||e[6]!==o?(c=(0,s.jsx)(B,{control:n.control,name:"display.dataframes",render:o}),e[5]=n.control,e[6]=o,e[7]=c):c=e[7];let d;e[8]!==l||e[9]!==n||e[10]!==r?(d=E=>{let{field:N}=E;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Default table page size"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ct,{"aria-label":"Default table page size","data-testid":"default-table-page-size-input",className:"m-0 w-24",...N,value:N.value,minValue:1,step:1,onChange:D=>{N.onChange(D),Number.isNaN(D)||r(n.getValues())}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"display.default_table_page_size"})]}),(0,s.jsx)(W,{children:"The default number of rows displayed in dataframes and SQL results."})]})},e[8]=l,e[9]=n,e[10]=r,e[11]=d):d=e[11];let u;e[12]!==n.control||e[13]!==d?(u=(0,s.jsx)(B,{control:n.control,name:"display.default_table_page_size",render:d}),e[12]=n.control,e[13]=d,e[14]=u):u=e[14];let m;e[15]!==l||e[16]!==n||e[17]!==r?(m=E=>{let{field:N}=E;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Default table max columns"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ct,{"aria-label":"Default table max columns","data-testid":"default-table-max-columns-input",className:"m-0 w-24",...N,value:N.value,minValue:1,step:1,onChange:D=>{N.onChange(D),Number.isNaN(D)||r(n.getValues())}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"display.default_table_max_columns"})]}),(0,s.jsx)(W,{children:"The default maximum number of columns displayed in dataframes and SQL results."})]})},e[15]=l,e[16]=n,e[17]=r,e[18]=m):m=e[18];let f;e[19]!==n.control||e[20]!==m?(f=(0,s.jsx)(B,{control:n.control,name:"display.default_table_max_columns",render:m}),e[19]=n.control,e[20]=m,e[21]=f):f=e[21];let x;e[22]===Symbol.for("react.memo_cache_sentinel")?(x=(0,s.jsx)("div",{className:"text-sm text-foreground",children:"Database Schema Discovery"}),e[22]=x):x=e[22];let y,b;e[23]===Symbol.for("react.memo_cache_sentinel")?(b=(0,s.jsx)("br",{}),y=(0,s.jsx)("span",{className:"font-semibold",children:"Can be expensive for large databases."}),e[23]=y,e[24]=b):(y=e[23],b=e[24]);let v;e[25]===Symbol.for("react.memo_cache_sentinel")?(v=(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mb-2",children:["Whether database schemas, tables, and columns are automatically discovered.",b,y," ","Use 'auto' to determine introspection based on the"," ",(0,s.jsx)("a",{className:"text-link hover:underline",rel:"noopener noreferrer",target:"_blank",href:"https://docs.marimo.io/guides/working_with_data/sql/?h=database#database-schema-and-table-auto-discovery",children:"database"}),"."]}),e[25]=v):v=e[25];let I;e[26]===a?I=e[27]:(I=(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[x,v,a("datasources.auto_discover_schemas","Schemas"),a("datasources.auto_discover_tables","Tables"),a("datasources.auto_discover_columns","Columns")]}),e[26]=a,e[27]=I);let p;e[28]===l?p=e[29]:(p=E=>{let{field:N}=E;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"SQL Linter"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"sql-linter-checkbox",checked:N.value,onCheckedChange:N.onChange})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"diagnostics.sql_linter"})]}),(0,s.jsx)(W,{children:"Better linting and autocompletions for SQL cells."})]})},e[28]=l,e[29]=p);let g;e[30]!==n.control||e[31]!==p?(g=(0,s.jsx)(B,{control:n.control,name:"diagnostics.sql_linter",render:p}),e[30]=n.control,e[31]=p,e[32]=g):g=e[32];let k;e[33]===l?k=e[34]:(k=E=>{let{field:N}=E;return(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Default SQL output"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"user-config-sql-output-select",onChange:D=>N.onChange(D.target.value),value:N.value,disabled:N.disabled,className:"inline-flex mr-2",children:Di.map(w0)})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:l,name:"runtime.default_sql_output"})]}),(0,s.jsx)(W,{children:'The default SQL output type for new notebooks; overridden by "sql_output" in the application config.'})]})},e[33]=l,e[34]=k);let M;e[35]!==n.control||e[36]!==k?(M=(0,s.jsx)(B,{control:n.control,name:"runtime.default_sql_output",render:k}),e[35]=n.control,e[36]=k,e[37]=M):M=e[37];let j;e[38]!==I||e[39]!==g||e[40]!==M?(j=(0,s.jsxs)($e,{title:"SQL",children:[I,g,M]}),e[38]=I,e[39]=g,e[40]=M,e[41]=j):j=e[41];let _;return e[42]!==j||e[43]!==c||e[44]!==u||e[45]!==f?(_=(0,s.jsxs)(s.Fragment,{children:[c,u,f,j]}),e[42]=j,e[43]=c,e[44]=u,e[45]=f,e[46]=_):_=e[46],_};function j0(t){return(0,s.jsx)("option",{value:t,children:t},t)}function k0(t){return(0,s.jsx)("option",{value:t,children:t},t)}function w0(t){return(0,s.jsx)("option",{value:t.value,children:t.label},t.value)}var C0=Ne(),Vi=[{id:"sql",packagesRequired:[{name:"duckdb"},{name:"sqlglot"}],additionalPackageInstalls:[{name:"polars[pyarrow]"}],description:"SQL cells"},{id:"charts",packagesRequired:[{name:"altair"}],additionalPackageInstalls:[],description:"Charts in datasource viewer"},{id:"fast-charts",packagesRequired:[{name:"vegafusion"},{name:"vl-convert-python"}],additionalPackageInstalls:[],description:"Fast server-side charts"},{id:"formatting",packagesRequired:[ft()?{name:"black"}:{name:"ruff"}],additionalPackageInstalls:[],description:"Formatting"},{id:"ai",packagesRequired:[{name:"openai"}],additionalPackageInstalls:[],description:"AI features"},{id:"mcp",packagesRequired:[{name:"mcp",minVersion:"1"}],additionalPackageInstalls:[{name:"pydantic",minVersion:"2"}],description:"Connect to MCP servers"},{id:"ipy-export",packagesRequired:[{name:"nbformat"}],additionalPackageInstalls:[],description:"Export as IPYNB"},{id:"testing",packagesRequired:[{name:"pytest"}],additionalPackageInstalls:[],description:"Autorun unit tests"}];ft()||Vi.push({id:"lsp",packagesRequired:[{name:"python-lsp-server"},{name:"websockets"}],additionalPackageInstalls:[{name:"python-lsp-ruff"}],description:"Language Server Protocol*"});const N0=()=>{let t=(0,C0.c)(21),[e]=ml(),n=e.package_management.manager,{getPackageList:l}=kt(),r;t[0]===l?r=t[1]:(r=()=>l(),t[0]=l,t[1]=r);let i;t[2]===n?i=t[3]:(i=[n],t[2]=n,t[3]=i);let{data:a,error:o,refetch:c,isPending:d}=zl(r,i);if(d){let g;return t[4]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsx)(kl,{size:"medium",centered:!0}),t[4]=g):g=t[4],g}if(o){let g;return t[5]===o?g=t[6]:(g=(0,s.jsx)(nc,{error:o}),t[5]=o,t[6]=g),g}let u;if(t[7]!==(a==null?void 0:a.packages)){let g=(a==null?void 0:a.packages)||[];u=new Set(g.map(I0)),t[7]=a==null?void 0:a.packages,t[8]=u}else u=t[8];let m=u,f;t[9]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsx)(vt,{children:"Optional Features"}),t[9]=f):f=t[9];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["marimo is lightweight, with few dependencies, to maximize compatibility with your own environments.",(0,s.jsx)("br",{}),"To unlock additional features in the marimo editor, you can install these optional dependencies:"]}),t[10]=x):x=t[10];let y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)(lc,{children:(0,s.jsxs)(Bl,{children:[(0,s.jsx)(Yt,{children:"Dependency"}),(0,s.jsx)(Yt,{children:"Feature"}),(0,s.jsx)(Yt,{children:"Status"}),(0,s.jsx)(Yt,{})]})}),t[11]=y):y=t[11];let b;t[12]!==m||t[13]!==n||t[14]!==c?(b=Vi.map(g=>{let k=g.packagesRequired.every(j=>m.has(j.name.split("[")[0])),M=g.packagesRequired.map(K0).join(", ");return(0,s.jsxs)(Bl,{className:"text-sm",children:[(0,s.jsx)(Cn,{children:g.description}),(0,s.jsx)(Cn,{className:"font-mono text-xs",children:M}),(0,s.jsx)(Cn,{children:k?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(Ll,{className:"h-4 w-4 text-(--grass-10) mr-2"}),(0,s.jsx)("span",{children:"Installed"})]}):(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(aa,{className:"h-4 w-4 text-(--red-10) mr-2"}),(0,s.jsx)(S0,{packageSpecs:[...g.packagesRequired,...g.additionalPackageInstalls],packageManager:n,onSuccess:c})]})})]},g.id)}),t[12]=m,t[13]=n,t[14]=c,t[15]=b):b=t[15];let v;t[16]===b?v=t[17]:(v=(0,s.jsxs)(rc,{children:[y,(0,s.jsx)(sc,{children:b})]}),t[16]=b,t[17]=v);let I;t[18]===Symbol.for("react.memo_cache_sentinel")?(I=(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"*Requires server restart"}),t[18]=I):I=t[18];let p;return t[19]===v?p=t[20]:(p=(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden gap-2",children:[f,x,v,I]}),t[19]=v,t[20]=p),p};var S0=({packageSpecs:t,packageManager:e,onSuccess:n})=>{let[l,r]=h.useState(!1),{addPackage:i}=kt();return(0,s.jsxs)(ae,{size:"xs",variant:"outline",className:xe("text-xs",l&&"opacity-50 cursor-not-allowed"),onClick:async()=>{try{r(!0);let a=await i({package:t.map(o=>o.minVersion?`${o.name}>=${o.minVersion}`:o.name).join(" "),dev:!0});a.success?(n(),He({title:"Package installed",description:(0,s.jsxs)("span",{children:["The packages"," ",(0,s.jsx)(oe,{className:"inline",children:t.map(o=>o.name).join(", ")})," ","have been added to your environment."]})})):He({title:"Failed to install package",description:a.error,variant:"danger"})}finally{r(!1)}},disabled:l,children:[l?(0,s.jsx)(kl,{size:"small",className:"mr-2 h-3 w-3"}):(0,s.jsx)(ga,{className:"mr-2 h-3 w-3"}),"Install with ",e]})};function I0(t){return t.name}function K0(t){return t.name}function Xn(t,e){let n={};for(let l of Object.keys(e)){let r=e[l],i=t[l];if(i!==void 0){if(r===!0)n[l]=i;else if(typeof r=="object"&&r){let a=Xn(i,r);Object.keys(a).length>0&&(n[l]=a)}}}return n}var Oi=(t,e)=>{var n,l,r,i,a;e.ai={...e.ai,models:{...(n=e.ai)==null?void 0:n.models,displayed_models:((r=(l=t.ai)==null?void 0:l.models)==null?void 0:r.displayed_models)??[],custom_models:((a=(i=t.ai)==null?void 0:i.models)==null?void 0:a.custom_models)??[]}}},M0=[["ai.models.displayed_models",Oi],["ai.models.custom_models",Oi]],E0=new Map(M0),D0=(t,e)=>{if(!t)return!1;let n=t;for(let l of e.split(".")){if(typeof n!="object"||!n)return!1;n=n[l]}return n===!0};const _0=t=>{let{values:e,dirtyValues:n,touchedFields:l}=t;for(let[r,i]of E0)D0(l,r)&&i(e,n)};var Hi=[{id:"editor",label:"Editor",Icon:Sl,className:"bg-(--blue-4)"},{id:"display",label:"Display",Icon:dc,className:"bg-(--grass-4)"},{id:"packageManagementAndData",label:"Packages & Data",Icon:ha,className:"bg-(--red-4)"},{id:"runtime",label:"Runtime",Icon:$l,className:"bg-(--amber-4)"},{id:"ai",label:"AI",Icon:Sn,className:"bg-[linear-gradient(45deg,var(--purple-5),var(--cyan-5))]"},{id:"optionalDeps",label:"Optional Dependencies",Icon:Vl,className:"bg-(--orange-4)"},{id:"labs",label:"Labs",Icon:cc,className:"bg-(--slate-4)"}];const Gi=ct(Hi[0].id);var P0=100,el="__system__";const A0=()=>{let[t,e]=ul(),n=(0,h.useRef)(null),l=Ft(Yn),[r,i]=pt(Gi),a=dt(ba);dt(So).mode==="home"&&(a={terminal:!0,pylsp:!0,ty:!0,basedpyright:!0});let o=dt(Ra),{locale:c}=St(),{saveUserConfig:d}=kt(),u=bo({resolver:ko(Sa),defaultValues:t}),m=(p,g)=>{let{chatModel:k,editModel:M}=su(p);return(k||M)&&(g={...g,models:{...g==null?void 0:g.models,...k&&{chat_model:k},...M&&{edit_model:M}}},k&&u.setValue("ai.models.chat_model",k),M&&u.setValue("ai.models.edit_model",M)),g},f=qo(async p=>{let g=Xn(p,u.formState.dirtyFields);_0({values:p,dirtyValues:g,touchedFields:u.formState.touchedFields}),Object.keys(g).length!==0&&(g.ai&&(g.ai=m(p.ai,g.ai)),await d({config:g}).then(()=>{e(k=>({...k,...p}))}))},P0),x=ft(),y=(0,h.useId)(),b=(0,h.useId)(),v=()=>{switch(r){case"editor":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)($e,{title:"Autosave",children:[(0,s.jsx)(B,{control:u.control,name:"save.autosave",render:({field:p})=>(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Autosave enabled"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"autosave-checkbox",checked:p.value==="after_delay",disabled:p.disabled,onCheckedChange:g=>{p.onChange(g?"after_delay":"off")}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"save.autosave"})]})}),(0,s.jsx)(B,{control:u.control,name:"save.autosave_delay",render:({field:p})=>(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Autosave delay (seconds)"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ct,{"aria-label":"Autosave delay","data-testid":"autosave-delay-input",className:"m-0 w-24",isDisabled:u.getValues("save.autosave")!=="after_delay",...p,value:p.value/1e3,minValue:1,onChange:g=>{p.onChange(g*1e3),Number.isNaN(g)||f(u.getValues())}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"save.autosave_delay"})]})}),(0,s.jsx)(B,{control:u.control,name:"runtime.default_auto_download",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Save cell outputs as"}),(0,s.jsx)(V,{children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{id:y,checked:Array.isArray(p.value)&&p.value.includes("html"),onCheckedChange:()=>{let g=Array.isArray(p.value)?p.value:[];p.onChange(yl(g,"html"))}}),(0,s.jsx)(L,{htmlFor:y,children:"HTML"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{id:b,checked:Array.isArray(p.value)&&p.value.includes("ipynb"),onCheckedChange:()=>{let g=Array.isArray(p.value)?p.value:[];p.onChange(yl(g,"ipynb"))}}),(0,s.jsx)(L,{htmlFor:b,children:"IPYNB"})]})]})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"runtime.default_auto_download"})]}),(0,s.jsxs)(W,{children:["When enabled, marimo will periodically save notebooks in your selected formats (HTML, IPYNB) to a folder named"," ",(0,s.jsx)(oe,{className:"inline",children:"__marimo__"})," next to your notebook file."]})]})})]}),(0,s.jsxs)($e,{title:"Formatting",children:[(0,s.jsx)(B,{control:u.control,name:"save.format_on_save",render:({field:p})=>(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Format on save"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"format-on-save-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"save.format_on_save"})]})}),(0,s.jsx)(B,{control:u.control,name:"formatting.line_length",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Line length"}),(0,s.jsx)(V,{children:(0,s.jsx)(Ct,{"aria-label":"Line length","data-testid":"line-length-input",className:"m-0 w-24",...p,value:p.value,minValue:1,maxValue:1e3,onChange:g=>{p.onChange(g),Number.isNaN(g)||f(u.getValues())}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"formatting.line_length"})]}),(0,s.jsx)(W,{children:"Maximum line length when formatting code."})]})})]}),(0,s.jsxs)($e,{title:"Autocomplete",children:[(0,s.jsx)(B,{control:u.control,name:"completion.activate_on_typing",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Autocomplete"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"autocomplete-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"completion.activate_on_typing"})]}),(0,s.jsx)(W,{children:"When unchecked, code completion is still available through a hotkey."}),(0,s.jsx)("div",{children:(0,s.jsx)(ae,{variant:"link",className:"mb-0 px-0",type:"button",onClick:g=>{g.preventDefault(),g.stopPropagation(),i("ai")},children:"Edit AI autocomplete"})})]})}),(0,s.jsx)(B,{control:u.control,name:"completion.signature_hint_on_typing",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Signature hints"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"signature-hint-on-type-checkbox",checked:p.value??!1,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"completion.signature_hint_on_typing"})]}),(0,s.jsx)(W,{children:"Display signature hints while typing within function calls."})]})})]}),(0,s.jsxs)($e,{title:"Language Servers",children:[(0,s.jsxs)(W,{children:["See the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/language_server/",children:"docs"})," ","for more information about language server support."]}),(0,s.jsxs)(W,{children:[(0,s.jsx)("strong",{children:"Note:"})," When using multiple language servers, different features may conflict."]}),(0,s.jsx)(B,{control:u.control,name:"language_servers.pylsp.enabled",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(Gt,{variant:"defaultOutline",className:"mr-2",children:"Beta"}),"Python Language Server (",(0,s.jsx)(pe,{href:"https://github.com/python-lsp/python-lsp-server",children:"docs"}),")"]}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"pylsp-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"language_servers.pylsp.enabled"})]}),p.value&&!a.pylsp&&(0,s.jsxs)(Wt,{kind:"danger",children:["The Python Language Server is not available in your current environment. Please install"," ",(0,s.jsx)(oe,{className:"inline",children:"python-lsp-server"})," in your environment."]})]})}),(0,s.jsx)(B,{control:u.control,name:"language_servers.basedpyright.enabled",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(Gt,{variant:"defaultOutline",className:"mr-2",children:"Beta"}),"basedpyright (",(0,s.jsx)(pe,{href:"https://github.com/DetachHead/basedpyright",children:"docs"}),")"]}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"basedpyright-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"language_servers.basedpyright.enabled"})]}),p.value&&!a.basedpyright&&(0,s.jsxs)(Wt,{kind:"danger",children:["basedpyright is not available in your current environment. Please install"," ",(0,s.jsx)(oe,{className:"inline",children:"basedpyright"})," in your environment."]})]})}),(0,s.jsx)(B,{control:u.control,name:"language_servers.ty.enabled",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(Gt,{variant:"defaultOutline",className:"mr-2",children:"Beta"}),"ty (",(0,s.jsx)(pe,{href:"https://github.com/astral-sh/ty",children:"docs"}),")"]}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"ty-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"language_servers.ty.enabled"})]}),p.value&&!a.ty&&(0,s.jsxs)(Wt,{kind:"danger",children:["ty is not available in your current environment. Please install ",(0,s.jsx)(oe,{className:"inline",children:"ty"})," in your environment."]})]})}),(0,s.jsx)(B,{control:u.control,name:"diagnostics.enabled",render:({field:p})=>(0,s.jsxs)($,{className:O,children:[(0,s.jsxs)(L,{children:[(0,s.jsx)(Gt,{variant:"defaultOutline",className:"mr-2",children:"Beta"}),"Diagnostics"]}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"diagnostics-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"diagnostics.enabled"})]})})]}),(0,s.jsxs)($e,{title:"Keymap",children:[(0,s.jsx)(B,{control:u.control,name:"keymap.preset",render:({field:p})=>(0,s.jsx)("div",{className:"flex flex-col space-y-1",children:(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Keymap"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"keymap-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:p.disabled,className:"inline-flex mr-2",children:Zd.map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"keymap.preset"})]})})}),(0,s.jsx)(B,{control:u.control,name:"keymap.destructive_delete",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Destructive delete"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"destructive-delete-checkbox",checked:p.value,disabled:p.disabled,onCheckedChange:g=>{p.onChange(!!g)}})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"keymap.destructive_delete"})]}),(0,s.jsxs)(W,{className:"flex items-center gap-1",children:["Allow deleting non-empty cells",(0,s.jsx)(et,{content:(0,s.jsxs)("div",{className:"max-w-xs",children:[(0,s.jsx)("strong",{children:"Use with caution:"})," Deleting cells with code can lose work and computed results since variables are removed from memory."]}),children:(0,s.jsx)(kn,{className:"w-3 h-3 text-(--amber-11)"})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(ae,{variant:"link",className:"mb-0 px-0",type:"button",onClick:g=>{g.preventDefault(),g.stopPropagation(),l(!0)},children:"Edit Keyboard Shortcuts"})})]})})]})]});case"display":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)($e,{title:"Display",children:[(0,s.jsx)(B,{control:u.control,name:"display.default_width",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Default width"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"user-config-width-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:p.disabled,className:"inline-flex mr-2",children:pi().map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.default_width"})]}),(0,s.jsx)(W,{children:'The default app width for new notebooks; overridden by "width" in the application config.'})]})}),(0,s.jsx)(B,{control:u.control,name:"display.theme",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Theme"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"theme-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:p.disabled,className:"inline-flex mr-2",children:No.map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.theme"})]}),(0,s.jsx)(W,{children:"This theme will be applied to the user's configuration; it does not affect theme when sharing the notebook."})]})}),(0,s.jsx)(B,{control:u.control,name:"display.code_editor_font_size",render:({field:p})=>(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Code editor font size (px)"}),(0,s.jsx)(V,{children:(0,s.jsx)("span",{className:"inline-flex mr-2",children:(0,s.jsx)(Ct,{"aria-label":"Code editor font size","data-testid":"code-editor-font-size-input",className:"m-0 w-24",...p,value:p.value,minValue:8,maxValue:32,onChange:g=>{p.onChange(g),f(u.getValues())}})})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.code_editor_font_size"})]})}),(0,s.jsx)(B,{control:u.control,name:"display.locale",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Locale"}),(0,s.jsx)(V,{children:(0,s.jsxs)(Te,{"data-testid":"locale-select",onChange:g=>{g.target.value===el?p.onChange(void 0):p.onChange(g.target.value)},value:p.value||el,disabled:p.disabled,className:"inline-flex mr-2",children:[(0,s.jsx)("option",{value:el,children:"System"}),navigator.languages.map(g=>(0,s.jsx)("option",{value:g,children:g},g))]})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.locale"})]}),(0,s.jsxs)(W,{children:["The locale to use for the notebook. If your desired locale is not listed, you can change it manually via"," ",(0,s.jsx)(oe,{className:"inline",children:"marimo config show"}),"."]})]})}),(0,s.jsx)(B,{control:u.control,name:"display.reference_highlighting",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Reference highlighting"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"reference-highlighting-checkbox",checked:p.value,onCheckedChange:p.onChange})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.reference_highlighting"})]}),(0,s.jsx)(W,{children:"Visually emphasizes variables in a cell that are defined elsewhere in the notebook."})]})})]}),(0,s.jsx)($e,{title:"Outputs",children:(0,s.jsx)(B,{control:u.control,name:"display.cell_output",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Cell output area"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"cell-output-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:p.disabled,className:"inline-flex mr-2",children:["above","below"].map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"display.cell_output"})]}),(0,s.jsx)(W,{children:"Where to display cell's output."})]})})})]});case"packageManagementAndData":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($e,{title:"Package Management",children:(0,s.jsx)(B,{control:u.control,disabled:x,name:"package_management.manager",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{children:"Manager"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"package-manager-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:p.disabled,className:"inline-flex mr-2",children:Ia.map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"package_management.manager"})]}),(0,s.jsxs)(W,{children:["When marimo comes across a module that is not installed, you will be prompted to install it using your preferred package manager. Learn more in the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/package_management.html",children:"docs"}),".",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Running marimo in a"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/package_management/inlining_dependencies.html",children:"sandboxed environment"})," ","is only supported by ",(0,s.jsx)(oe,{className:"inline",children:"uv"})]})]})})}),(0,s.jsx)($e,{title:"Data",children:(0,s.jsx)(b0,{form:u,config:t,onSubmit:f})})]});case"runtime":return(0,s.jsxs)($e,{title:"Runtime configuration",children:[(0,s.jsx)(B,{control:u.control,name:"runtime.auto_instantiate",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Autorun on startup"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"auto-instantiate-checkbox",disabled:p.disabled,checked:p.value,onCheckedChange:p.onChange})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"runtime.auto_instantiate"})]}),(0,s.jsx)(W,{children:"Whether to automatically run all cells on startup."})]})}),(0,s.jsx)(B,{control:u.control,name:"runtime.on_cell_change",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"On cell change"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"on-cell-change-select",onChange:g=>p.onChange(g.target.value),value:p.value,className:"inline-flex mr-2",children:["lazy","autorun"].map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"runtime.on_cell_change"})]}),(0,s.jsx)(W,{children:`Whether marimo should automatically run cells or just mark them as stale. If "autorun", marimo will automatically run affected cells when a cell is run or a UI element is interacted with; if "lazy", marimo will mark affected cells as stale but won't re-run them.`})]})}),(0,s.jsx)(B,{control:u.control,name:"runtime.auto_reload",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"On module change"}),(0,s.jsx)(V,{children:(0,s.jsx)(Te,{"data-testid":"auto-reload-select",onChange:g=>p.onChange(g.target.value),value:p.value,disabled:x,className:"inline-flex mr-2",children:["off","lazy","autorun"].map(g=>(0,s.jsx)("option",{value:g,children:g},g))})}),(0,s.jsx)(U,{}),(0,s.jsx)(H,{userConfig:t,name:"runtime.auto_reload"})]}),(0,s.jsx)(W,{children:'Whether marimo should automatically reload modules before executing cells. If "lazy", marimo will mark cells affected by module modifications as stale; if "autorun", affected cells will be automatically re-run.'})]})}),(0,s.jsx)(B,{control:u.control,name:"runtime.reactive_tests",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Autorun Unit Tests"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"reactive-test-checkbox",checked:p.value,onCheckedChange:p.onChange})})]}),(0,s.jsx)(H,{userConfig:t,name:"runtime.reactive_tests"}),(0,s.jsx)(U,{}),(0,s.jsx)(W,{children:"Enable reactive pytest tests in notebook. When a cell contains only test functions (test_*) and classes (Test_*), marimo will automatically run them with pytest (requires notebook restart)."})," "]})}),(0,s.jsxs)(W,{children:["Learn more in the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/reactivity/#configuring-how-marimo-runs-cells",children:"docs"}),"."]})]});case"ai":return(0,s.jsx)(m0,{form:u,config:t,onSubmit:f});case"optionalDeps":return(0,s.jsx)(N0,{});case"labs":return(0,s.jsxs)($e,{title:"Experimental Features",children:[(0,s.jsx)("p",{className:"text-sm text-muted-secondary mb-4",children:"\u26A0\uFE0F These features are experimental and may require restarting your notebook to take effect."}),(0,s.jsx)(B,{control:u.control,name:"experimental.rtc_v2",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Real-Time Collaboration"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"rtc-checkbox",checked:p.value===!0,onCheckedChange:p.onChange})})]}),(0,s.jsx)(W,{children:"Enable experimental real-time collaboration. This change requires a page refresh to take effect."})]})}),(0,s.jsx)(B,{control:u.control,name:"experimental.performant_table_charts",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Performant Table Charts"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"performant-table-charts-checkbox",checked:p.value===!0,onCheckedChange:p.onChange})})]}),(0,s.jsx)(H,{userConfig:t,name:"experimental.performant_table_charts"}),(0,s.jsx)(W,{children:"Enable experimental table charts which are computed on the backend."})]})}),(0,s.jsx)(B,{control:u.control,name:"experimental.external_agents",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"External Agents"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"external-agents-checkbox",checked:p.value===!0,onCheckedChange:p.onChange})})]}),(0,s.jsx)(H,{userConfig:t,name:"experimental.external_agents"}),(0,s.jsxs)(W,{children:["Enable experimental external agents such as Claude Code and Gemini CLI. Learn more in the"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/editor_features/agents/",children:"docs"}),"."]})]})}),(0,s.jsx)(B,{control:u.control,name:"experimental.chat_modes",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Chat Mode"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"chat-mode-checkbox",checked:p.value===!0,onCheckedChange:p.onChange})})]}),(0,s.jsx)(H,{userConfig:t,name:"experimental.chat_modes"}),(0,s.jsx)(W,{children:"Switch between different modes in the Chat sidebar, to enable tool use."})]})}),(0,s.jsx)(B,{control:u.control,name:"experimental.server_side_pdf_export",render:({field:p})=>(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsxs)($,{className:O,children:[(0,s.jsx)(L,{className:"font-normal",children:"Better PDF Export"}),(0,s.jsx)(V,{children:(0,s.jsx)(ie,{"data-testid":"server-side-pdf-export-checkbox",checked:p.value===!0,onCheckedChange:p.onChange})})]}),(0,s.jsx)(H,{userConfig:t,name:"experimental.server_side_pdf_export"}),(0,s.jsxs)(W,{children:["Enable PDF export using"," ",(0,s.jsx)(oe,{className:"inline",children:"nbconvert"})," and"," ",(0,s.jsx)(oe,{className:"inline",children:"playwright"}),". Refer to"," ",(0,s.jsx)(pe,{href:"https://docs.marimo.io/guides/exporting/#exporting-to-pdf-slides-or-rst",children:"the docs"}),"."]})]})})]})}},I=(0,s.jsxs)("p",{className:"text-muted-secondary",children:["User configuration is stored in ",(0,s.jsx)(oe,{className:"inline",children:"marimo.toml"}),(0,s.jsx)("br",{}),"Run ",(0,s.jsx)(oe,{className:"inline",children:"marimo config show"})," in your terminal to show your current configuration and file location."]});return(0,s.jsx)(jo,{...u,children:(0,s.jsxs)("form",{ref:n,onChange:u.handleSubmit(f),className:"flex text-pretty overflow-hidden",children:[(0,s.jsx)(Tl,{value:r,onValueChange:p=>i(p),orientation:"vertical",className:"w-1/3 border-r h-full overflow-auto p-3",children:(0,s.jsxs)(Al,{className:"self-start max-h-none flex flex-col gap-2 shrink-0 bg-background flex-1 min-h-full",children:[Hi.map(p=>(0,s.jsx)(It,{value:p.id,className:"w-full text-left p-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground justify-start",children:(0,s.jsxs)("div",{className:"flex gap-4 items-center text-lg overflow-hidden",children:[(0,s.jsx)("span",{className:xe(p.className,"w-8 h-8 rounded flex items-center justify-center text-muted-foreground shrink-0"),children:(0,s.jsx)(p.Icon,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"truncate",children:p.label})]})},p.id)),(0,s.jsxs)("div",{className:"p-2 text-xs text-muted-foreground self-start flex flex-col gap-1",children:[(0,s.jsxs)("span",{children:["Version: ",o]}),(0,s.jsxs)("span",{children:["Locale: ",c]})]}),(0,s.jsx)("div",{className:"flex-1"}),!ft()&&I]})}),(0,s.jsx)("div",{className:"w-2/3 pl-6 gap-2 flex flex-col overflow-auto p-6",children:v()})]})})};var T0=Ne();const Ui=ct("ai-features"),qi=ct(!1);function tl(){let t=(0,T0.c)(4),e=Ft(Gi),n=Ft(qi),l=Ft(Ui),r;return t[0]!==e||t[1]!==l||t[2]!==n?(r={handleClick:(i,a)=>{e(i),i==="ai"&&l(a??"ai-features"),n(!0)}},t[0]=e,t[1]=l,t[2]=n,t[3]=r):r=t[3],r}var an=Ne();const Wi=t=>{var C,A,G,w,q,J,ee,ce,ue,re,Y,Z,te,ne,fe,T,de,le;let e=(0,an.c)(59),{value:n,placeholder:l,onSelect:r,triggerClassName:i,customDropdownContent:a,iconSize:o,showAddCustomModelDocs:c,forRole:d,displayIconOnly:u}=t,m=o===void 0?"medium":o,f=c===void 0?!1:c,x=u===void 0?!1:u,[y,b]=h.useState(!1),v=dt(_a),I=dt(Ma),{saveModelChange:p}=ii(),{handleClick:g}=tl(),k=I.copilot==="custom"?(C=v==null?void 0:v.models)==null?void 0:C.autocomplete_model:void 0,M,j,_,E,N,D,K,R,F;if(e[0]!==((A=v==null?void 0:v.models)==null?void 0:A.autocomplete_model)||e[1]!==((G=v==null?void 0:v.models)==null?void 0:G.chat_model)||e[2]!==((w=v==null?void 0:v.models)==null?void 0:w.custom_models)||e[3]!==((q=v==null?void 0:v.models)==null?void 0:q.displayed_models)||e[4]!==((J=v==null?void 0:v.models)==null?void 0:J.edit_model)||e[5]!==k||e[6]!==x||e[7]!==d||e[8]!==m||e[9]!==y||e[10]!==r||e[11]!==l||e[12]!==p||e[13]!==i||e[14]!==n){let ke=_t.create({customModels:[...((ee=v==null?void 0:v.models)==null?void 0:ee.custom_models)??[],(ce=v==null?void 0:v.models)==null?void 0:ce.chat_model,k,(ue=v==null?void 0:v.models)==null?void 0:ue.edit_model].filter(Boolean),displayedModels:(re=v==null?void 0:v.models)==null?void 0:re.displayed_models}),Me=ke.getListModelsByProvider(),he=d==="autocomplete"?(Y=v==null?void 0:v.models)==null?void 0:Y.autocomplete_model:d==="chat"?(Z=v==null?void 0:v.models)==null?void 0:Z.chat_model:d==="edit"?(te=v==null?void 0:v.models)==null?void 0:te.edit_model:void 0,we=n?Re.parse(n):he?Re.parse(he):void 0,Ce=m==="medium"?"h-4 w-4":"h-3 w-3",Ue=(ve,Je)=>{let jt=ke.getModel(ve.id);return(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full px-2 py-1",children:[(0,s.jsx)(Le,{provider:ve.providerId,className:Ce}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:(jt==null?void 0:jt.name)||ve.shortModelId}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:ve.id})]}),(0,s.jsx)("div",{className:"ml-auto flex gap-1",children:(0,s.jsx)(et,{content:Ei(Je),children:(0,s.jsx)("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${ln(Je)}`,children:Je},Je)})})]})},ge;e[24]!==d||e[25]!==r||e[26]!==p?(ge=ve=>{r?r(ve):p(ve,d),b(!1)},e[24]=d,e[25]=r,e[26]=p,e[27]=ge):ge=e[27];let Ee=ge;j=ro,R=y,F=b;let ye=`flex items-center justify-between px-2 py-0.5 border rounded-md
            hover:bg-accent hover:text-accent-foreground ${i}`,De=we?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Le,{provider:we.providerId,className:Ce}),x?null:(0,s.jsx)("span",{className:"truncate",children:Wn(we.providerId)?we.shortModelId:we.id})]}):(0,s.jsx)("span",{className:"text-muted-foreground truncate",children:l}),se;e[28]===De?se=e[29]:(se=(0,s.jsx)("div",{className:"flex items-center gap-2 truncate",children:De}),e[28]=De,e[29]=se);let qe=`${Ce} ml-1`,Ve;e[30]===qe?Ve=e[31]:(Ve=(0,s.jsx)(Wa,{className:qe}),e[30]=qe,e[31]=Ve),e[32]!==ye||e[33]!==se||e[34]!==Ve?(_=(0,s.jsxs)(no,{className:ye,children:[se,Ve]}),e[32]=ye,e[33]=se,e[34]=Ve,e[35]=_):_=e[35],M=lo,E="w-[300px]",N=he&&d&&Ue(Re.parse(he),d),e[36]!==he||e[37]!==d?(D=he&&d&&(0,s.jsx)(Lt,{}),e[36]=he,e[37]=d,e[38]=D):D=e[38];let We;e[39]!==Ee||e[40]!==Ce?(We=ve=>{let[Je,jt]=ve;return(0,s.jsx)(F0,{provider:Je,onSelect:Ee,models:jt,iconSizeClass:Ce},Je)},e[39]=Ee,e[40]=Ce,e[41]=We):We=e[41],K=Me.map(We),e[0]=(ne=v==null?void 0:v.models)==null?void 0:ne.autocomplete_model,e[1]=(fe=v==null?void 0:v.models)==null?void 0:fe.chat_model,e[2]=(T=v==null?void 0:v.models)==null?void 0:T.custom_models,e[3]=(de=v==null?void 0:v.models)==null?void 0:de.displayed_models,e[4]=(le=v==null?void 0:v.models)==null?void 0:le.edit_model,e[5]=k,e[6]=x,e[7]=d,e[8]=m,e[9]=y,e[10]=r,e[11]=l,e[12]=p,e[13]=i,e[14]=n,e[15]=M,e[16]=j,e[17]=_,e[18]=E,e[19]=N,e[20]=D,e[21]=K,e[22]=R,e[23]=F}else M=e[15],j=e[16],_=e[17],E=e[18],N=e[19],D=e[20],K=e[21],R=e[22],F=e[23];let S;e[42]!==g||e[43]!==f?(S=f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Lt,{}),(0,s.jsxs)(to,{className:"h-7 flex items-center gap-2",onClick:()=>g("ai","ai-models"),children:[(0,s.jsx)(eo,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"cursor-pointer text-link",children:"Add custom model"})]})]}),e[42]=g,e[43]=f,e[44]=S):S=e[44];let P;e[45]!==M||e[46]!==a||e[47]!==S||e[48]!==E||e[49]!==N||e[50]!==D||e[51]!==K?(P=(0,s.jsxs)(M,{className:E,children:[N,D,K,a,S]}),e[45]=M,e[46]=a,e[47]=S,e[48]=E,e[49]=N,e[50]=D,e[51]=K,e[52]=P):P=e[52];let z;return e[53]!==j||e[54]!==_||e[55]!==P||e[56]!==R||e[57]!==F?(z=(0,s.jsxs)(j,{open:R,onOpenChange:F,children:[_,P]}),e[53]=j,e[54]=_,e[55]=P,e[56]=R,e[57]=F,e[58]=z):z=e[58],z};var F0=t=>{let e=(0,an.c)(26),{provider:n,onSelect:l,models:r,iconSizeClass:i}=t,a=Wn(n)?n:"openai-compatible",o;e[0]===n?o=e[1]:(o=_t.getProviderInfo(n),e[0]=n,e[1]=o);let c=o;if(r.length===0)return null;let d;e[2]!==a||e[3]!==i?(d=(0,s.jsx)(Le,{provider:a,className:i}),e[2]=a,e[3]=i,e[4]=d):d=e[4];let u;e[5]===n?u=e[6]:(u=on(n),e[5]=n,e[6]=u);let m;e[7]!==d||e[8]!==u?(m=(0,s.jsx)(bl,{children:(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[d,u]})}),e[7]=d,e[8]=u,e[9]=m):m=e[9];let f=c?-90:0,x;e[10]===c?x=e[11]:(x=c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground p-2 max-w-[300px]",children:[c.description,(0,s.jsx)("br",{})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground p-2 pt-0",children:["For more information, see the"," ",(0,s.jsx)("a",{href:c.url,target:"_blank",className:"underline",rel:"noreferrer","aria-label":"Provider details",children:"provider details"}),"."]}),(0,s.jsx)(Lt,{})]}),e[10]=c,e[11]=x);let y;if(e[12]!==r||e[13]!==l||e[14]!==n){let I;e[16]!==l||e[17]!==n?(I=p=>{let g=`${n}/${p.model}`;return(0,s.jsxs)(jl,{children:[(0,s.jsx)(bl,{showChevron:!1,className:"py-2",children:(0,s.jsx)("div",{className:"flex items-center gap-2 w-full cursor-pointer",onClick:()=>{l(g)},children:(0,s.jsx)(R0,{model:p,provider:n})})}),(0,s.jsx)(vl,{className:"p-4 w-80",children:(0,s.jsx)(z0,{model:p,provider:n})})]},g)},e[16]=l,e[17]=n,e[18]=I):I=e[18],y=r.map(I),e[12]=r,e[13]=l,e[14]=n,e[15]=y}else y=e[15];let b;e[19]!==f||e[20]!==x||e[21]!==y?(b=(0,s.jsx)(so,{children:(0,s.jsxs)(vl,{className:"max-h-[40vh] overflow-y-auto",alignOffset:f,sideOffset:5,children:[x,y]})}),e[19]=f,e[20]=x,e[21]=y,e[22]=b):b=e[22];let v;return e[23]!==m||e[24]!==b?(v=(0,s.jsxs)(jl,{children:[m,b]}),e[23]=m,e[24]=b,e[25]=v):v=e[25],v},R0=t=>{let e=(0,an.c)(17),{model:n,provider:l}=t,r=Wn(l)?l:"openai-compatible",i;e[0]===r?i=e[1]:(i=(0,s.jsx)(Le,{provider:r,className:"h-4 w-4"}),e[0]=r,e[1]=i);let a;e[2]===n.name?a=e[3]:(a=(0,s.jsx)("span",{children:n.name}),e[2]=n.name,e[3]=a);let o;e[4]===n.thinking?o=e[5]:(o=n.thinking&&(0,s.jsx)(et,{content:"Reasoning model",children:(0,s.jsx)(Sn,{className:`h-5 w-5 rounded-md p-1 ${ln("thinking")}`})}),e[4]=n.thinking,e[5]=o);let c;e[6]===o?c=e[7]:(c=(0,s.jsx)("div",{className:"ml-auto",children:o}),e[6]=o,e[7]=c);let d;e[8]!==a||e[9]!==c?(d=(0,s.jsxs)("div",{className:"flex flex-row w-full items-center",children:[a,c]}),e[8]=a,e[9]=c,e[10]=d):d=e[10];let u;e[11]===n.custom?u=e[12]:(u=n.custom&&(0,s.jsx)(et,{content:"Custom model",children:(0,s.jsx)(un,{className:"h-5 w-5"})}),e[11]=n.custom,e[12]=u);let m;return e[13]!==i||e[14]!==d||e[15]!==u?(m=(0,s.jsxs)(s.Fragment,{children:[i,d,u]}),e[13]=i,e[14]=d,e[15]=u,e[16]=m):m=e[16],m};const z0=t=>{let e=(0,an.c)(28),{model:n,provider:l}=t,r;e[0]===n.name?r=e[1]:(r=(0,s.jsx)("h4",{className:"font-semibold text-base text-foreground",children:n.name}),e[0]=n.name,e[1]=r);let i;e[2]===n.model?i=e[3]:(i=(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-mono",children:n.model}),e[2]=n.model,e[3]=i);let a;e[4]!==r||e[5]!==i?(a=(0,s.jsxs)("div",{children:[r,i]}),e[4]=r,e[5]=i,e[6]=a):a=e[6];let o;e[7]===n.description?o=e[8]:(o=(0,s.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:n.description}),e[7]=n.description,e[8]=o);let c;e[9]===n.roles?c=e[10]:(c=n.roles.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Capabilities:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:n.roles.map(B0)})]}),e[9]=n.roles,e[10]=c);let d;e[11]===n.thinking?d=e[12]:(d=n.thinking&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Supports thinking mode"})]}),e[11]=n.thinking,e[12]=d);let u;e[13]===l?u=e[14]:(u=(0,s.jsx)(Le,{provider:l,className:"h-4 w-4"}),e[13]=l,e[14]=u);let m;e[15]===l?m=e[16]:(m=on(l),e[15]=l,e[16]=m);let f;e[17]===m?f=e[18]:(f=(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:m}),e[17]=m,e[18]=f);let x;e[19]!==u||e[20]!==f?(x=(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[u,f]}),e[19]=u,e[20]=f,e[21]=x):x=e[21];let y;return e[22]!==x||e[23]!==a||e[24]!==o||e[25]!==c||e[26]!==d?(y=(0,s.jsxs)("div",{className:"space-y-3",children:[a,o,c,d,x]}),e[22]=x,e[23]=a,e[24]=o,e[25]=c,e[26]=d,e[27]=y):y=e[27],y};function on(t){let e=_t.getProviderInfo(t);return e?e.name:wa(t)}function B0(t){return(0,s.jsx)("span",{className:`px-2 py-1 text-xs rounded-md font-medium ${ln(t)}`,title:Ei(t),children:t},t)}export{Wl as $,Wr as A,hs as B,Qd as C,Dt as D,Yr as E,bs as F,Rc as G,ds as H,Cs as I,Ql as J,Mt as K,Bn as L,Jt as M,od as N,Zr as O,On as P,Yl as Q,mt as R,pi as S,ii as T,Fn as U,ms as V,is as W,_c as X,je as Y,En as Z,nn as _,Xn as a,Hl as at,mu as b,Di as c,Ol as ct,Le as d,tt as et,bi as f,Zn as g,yi as h,A0 as i,xt as it,Ur as j,Un as k,Lu as l,$l as lt,Pt as m,qi as n,vc as nt,Wu as o,pc as ot,wu as p,Kc as q,tl as r,rt,Ou as s,hc as st,Wi as t,Kn as tt,Bu as u,Ll as ut,vi as v,Re as w,Yn as x,xi as y,gs as z};
